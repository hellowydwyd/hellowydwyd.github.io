<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wydcoder&#39;s Tech Blog</title>
  
  <subtitle>探索技术，分享经验</subtitle>
  <link href="https://hellowydwyd.github.io/atom.xml" rel="self"/>
  
  <link href="https://hellowydwyd.github.io/"/>
  <updated>2025-10-21T10:26:04.200Z</updated>
  <id>https://hellowydwyd.github.io/</id>
  
  <author>
    <name>YuDong Wang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>2.1 引言：一个简单的例子</title>
    <link href="https://hellowydwyd.github.io/2025/10/21/2-1-%E5%BC%95%E8%A8%80%EF%BC%9A%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90/"/>
    <id>https://hellowydwyd.github.io/2025/10/21/2-1-%E5%BC%95%E8%A8%80%EF%BC%9A%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90/</id>
    <published>2025-10-21T10:12:03.000Z</published>
    <updated>2025-10-21T10:26:04.200Z</updated>
    
    <content type="html"><![CDATA[<p>分类本质是基于观测对样本所属类别进行决策的过程。本节通过“猜硬币”和“癌细胞识别”两个实例，引入贝叶斯决策的核心思想，明确先验概率、类条件密度、后验概率等关键概念及数学关系，为后续统计决策方法奠定基础。</p><h2 id="一、猜硬币问题：贝叶斯决策的直观引入">一、猜硬币问题：贝叶斯决策的直观引入</h2><p>假设待猜硬币仅可能属于两类：一角硬币（记为类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）、五角硬币（记为类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>），核心是通过概率判断样本（硬币）所属类别，分“无观测”和“有观测（称重）”两种场景分析。</p><h3 id="1-无观测时的决策：基于先验概率">1. 无观测时的决策：基于先验概率</h3><ul><li><strong>问题背景</strong>：无任何硬币信息（如重量、尺寸），仅依据过往经验判断两类硬币出现的概率。</li><li><strong>先验概率定义</strong>：在未对样本（硬币）进行任何观测时，类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>出现的概率，记为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">i=1,2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span></span></span></span>）。例如，若近期接触一角硬币的频率更高，可设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1) &gt; P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。</li><li><strong>决策规则（最小错误率准则）</strong>：<br>若<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1) &gt; P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，则决策硬币属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（一角）；反之则属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（五角），数学表达为：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub><mo separator="true">;</mo><mspace width="1em"/><mtext>否则 </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>2</mn></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } P(\omega_1) &gt; P(\omega_2) \implies x \in \omega_1; \quad \text{否则 } x \in \omega_2 \tag{2-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord cjk_fallback">否则</span><span class="mord"> </span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-1</span></span><span class="mord">)</span></span></span></span></span></span></p></li><li><strong>错误率分析</strong>：对两类问题，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">P(\omega_1) + P(\omega_2) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>。若决策<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x \in \omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，错误率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mtext>error</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\text{error}) = 1 - P(\omega_1) = P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord text"><span class="mord">error</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>；反之错误率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。式(2-1)的决策可使单次决策的错误率最小。</li></ul><h3 id="2-有观测时的决策：基于后验概率">2. 有观测时的决策：基于后验概率</h3><ul><li><strong>问题扩展</strong>：允许用天平称量硬币重量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>，需结合重量信息优化决策，核心是计算“已知重量为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>时，硬币属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类”的概率（后验概率）。</li><li><strong>后验概率定义</strong>：给定样本特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>（如硬币重量）时，样本属于类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率，记为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>。</li><li><strong>贝叶斯公式：先验概率与后验概率的转换</strong>：<br>根据概率论中的贝叶斯公式，后验概率可通过先验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>和类条件密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>中特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的概率密度）计算：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac><mspace width="1em"/><mo stretchy="false">(</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">P(\omega_i | x) = \frac{p(x, \omega_i)}{p(x)} = \frac{p(x | \omega_i) P(\omega_i)}{p(x)} \quad (i=1,2) \tag{2-3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-3</span></span><span class="mord">)</span></span></span></span></span></span></p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>为总体密度（所有类别特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的混合密度），满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x) = p(x | \omega_1) P(\omega_1) + p(x | \omega_2) P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，仅起归一化作用。</li><li><strong>决策规则（最小错误率准则）</strong>：<br>比较两类后验概率，将样本归为后验概率更大的类别，数学表达为：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub><mo separator="true">;</mo><mspace width="1em"/><mtext>否则 </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>2</mn></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } P(\omega_1 | x) &gt; P(\omega_2 | x) \implies x \in \omega_1; \quad \text{否则 } x \in \omega_2 \tag{2-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord cjk_fallback">否则</span><span class="mord"> </span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-2</span></span><span class="mord">)</span></span></span></span></span></span></p>由于式(2-3)中分母<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>对两类相同，决策时可仅比较分子，等价于：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub><mo separator="true">;</mo><mspace width="1em"/><mtext>否则 </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>2</mn></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } p(x | \omega_1) P(\omega_1) &gt; p(x | \omega_2) P(\omega_2) \implies x \in \omega_1; \quad \text{否则 } x \in \omega_2 \tag{2-4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord cjk_fallback">否则</span><span class="mord"> </span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-4</span></span><span class="mord">)</span></span></span></span></span></span></p></li><li><strong>关键参数说明</strong>：<ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>：可通过统计市场流通硬币的比例估计（如一角硬币占比60%，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.6</mn></mrow><annotation encoding="application/x-tex">P(\omega_1) = 0.6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.6</span></span></span></span>）；</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>：可通过大量同类硬币的重量数据拟合（如一角硬币重量服从正态分布<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>1</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N(\mu_1, \sigma_1^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，五角硬币服从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>2</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N(\mu_2, \sigma_2^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>）。</li></ul></li></ul><h2 id="二、癌细胞识别：贝叶斯决策的实际应用">二、癌细胞识别：贝叶斯决策的实际应用</h2><p>以“正常细胞（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）与异常细胞（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）的分类”为例，说明贝叶斯决策在实际模式识别问题中的应用，简化为单特征（细胞核总光密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>）分析。</p><h3 id="1-关键参数的获取">1. 关键参数的获取</h3><ul><li><strong>先验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></strong>：通过医院病例统计数据估计，例如某地区正常细胞占比90%，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.9</mn></mrow><annotation encoding="application/x-tex">P(\omega_1) = 0.9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.9</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.1</mn></mrow><annotation encoding="application/x-tex">P(\omega_2) = 0.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.1</span></span></span></span>。</li><li><strong>类条件密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></strong>：通过历史细胞图像数据拟合，例如正常细胞光密度服从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>1</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_1) \sim N(\mu_1, \sigma_1^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，异常细胞服从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>2</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_2) \sim N(\mu_2, \sigma_2^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，其概率密度公式为：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><msqrt><mrow><mn>2</mn><mi>π</mi></mrow></msqrt><msub><mi>σ</mi><mi>i</mi></msub></mrow></mfrac><mi>exp</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mo>−</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msub><mi>μ</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><mn>2</mn><msubsup><mi>σ</mi><mi>i</mi><mn>2</mn></msubsup></mrow></mfrac><mo fence="true">)</mo></mrow><mspace width="1em"/><mo stretchy="false">(</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i) = \frac{1}{\sqrt{2\pi}\sigma_i} \exp\left(-\frac{(x - \mu_i)^2}{2\sigma_i^2}\right) \quad (i=1,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.454em;vertical-align:-0.9629em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.2028em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9472em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9629em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span></span></p></li></ul><h3 id="2-决策边界与错误率计算">2. 决策边界与错误率计算</h3><ul><li><strong>决策边界定义</strong>：特征空间中划分两类决策区域的边界，满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1 | x) = P(\omega_2 | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>（或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_1) P(\omega_1) = p(x | \omega_2) P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>）。设边界点为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>，则特征空间被分为：<ul><li>决策区域<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>1</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Re_1 = (-\infty, t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>：样本归为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（正常细胞）；</li><li>决策区域<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Re_2 = (t, +\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">)</span></span></span></span>：样本归为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（异常细胞）。</li></ul></li><li><strong>平均错误率计算</strong>：<br>错误率由“正常细胞误判为异常”（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_1(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>）和“异常细胞误判为正常”（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_2(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>）两部分加权组成，权重为对应类别的先验概率：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-15)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">P(e) = P(\omega_1) P_1(e) + P(\omega_2) P_2(e) \tag{2-15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-15</span></span><span class="mord">)</span></span></span></span></span></span></p>其中：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∫</mo><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo separator="true">,</mo><mspace width="1em"/><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∫</mo><msub><mi mathvariant="normal">ℜ</mi><mn>1</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-16a, 2-16b)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">P_1(e) = \int_{\Re_2} p(x | \omega_1) dx, \quad P_2(e) = \int_{\Re_1} p(x | \omega_2) dx \tag{2-16a, 2-16b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.372em;vertical-align:-1.012em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.4258em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.012em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.372em;vertical-align:-1.012em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.4258em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.012em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span><span class="tag"><span class="strut" style="height:2.372em;vertical-align:-1.012em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-16a, 2-16b</span></span><span class="mord">)</span></span></span></span></span></span></p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_1(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>表示<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类样本落入<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\Re_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率（误判率），<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_2(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>同理。</li></ul><h2 id="三、核心概念总结">三、核心概念总结</h2><table><thead><tr><th>概念</th><th>定义与数学表达</th><th>作用</th></tr></thead><tbody><tr><td>先验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td>未观测样本时，类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>出现的概率，满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mn>2</mn></msubsup><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\sum_{i=1}^2 P(\omega_i) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2537em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>无观测时的决策依据</td></tr><tr><td>类条件密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x \mid \omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td>类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>中特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的概率密度，描述类别内特征的分布规律</td><td>结合观测特征，转换为先验概率与后验概率</td></tr><tr><td>后验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo>∣</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i \mid x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></td><td>已知特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>时，样本属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率，由贝叶斯公式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo>∣</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(\omega_i \mid x) = \frac{p(x \mid \omega_i) P(\omega_i)}{p(x)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>计算</td><td>有观测时的核心决策依据</td></tr><tr><td>贝叶斯决策规则</td><td>比较后验概率（或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x \mid \omega_i) P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>），将样本归为概率更大的类别</td><td>最小化单次决策的错误率</td></tr></tbody></table>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;分类本质是基于观测对样本所属类别进行决策的过程。本节通过“猜硬币”和“癌细胞识别”两个实例，引入贝叶斯决策的核心思想，明确先验概率、类条件密度、后验概率等关键概念及数学关系，为后续统计决策方法奠定基础。&lt;/p&gt;
&lt;h2</summary>
        
      
    
    
    
    <category term="模式识别与机器学习" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="第二章 统计决策方法" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E7%BB%9F%E8%AE%A1%E5%86%B3%E7%AD%96%E6%96%B9%E6%B3%95/"/>
    
    
    <category term="模式识别" scheme="https://hellowydwyd.github.io/tags/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/"/>
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>模式识别系统的典型构成</title>
    <link href="https://hellowydwyd.github.io/2025/10/21/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B8%E5%9E%8B%E6%9E%84%E6%88%90/"/>
    <id>https://hellowydwyd.github.io/2025/10/21/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B8%E5%9E%8B%E6%9E%84%E6%88%90/</id>
    <published>2025-10-21T08:29:10.000Z</published>
    <updated>2025-10-21T08:32:48.995Z</updated>
    
    <content type="html"><![CDATA[<p>模式识别系统虽因应用场景（如语音识别、图像目标检测、基因数据分析等）不同而存在细节差异，但核心流程具有共性，均围绕“数据处理→特征优化→决策/分析→结果验证”四个核心环节展开。根据是否依赖“类别已知的训练样本”，可分为<strong>监督模式识别系统</strong>与<strong>非监督模式识别系统</strong>，二者在具体流程上有所区别，具体如下：</p><h2 id="一、模式识别系统的核心共性模块">一、模式识别系统的核心共性模块</h2><p>无论监督还是非监督模式识别，系统均需先完成以下基础步骤，为后续分类或聚类提供高质量数据与特征：</p><ol><li><p><strong>信息获取与预处理</strong></p><ul><li><strong>信息获取</strong>：通过传感器（如麦克风、摄像头、基因芯片）或设备（如扫描仪、地震仪）采集原始数据，例如语音信号、图像像素、基因表达值、地震反射信号等。</li><li><strong>预处理</strong>：对原始数据进行降噪、去冗余、标准化/归一化、数据补全（处理缺失值）等操作，消除干扰因素（如语音信号中的背景噪音、图像中的光照不均），确保数据质量。</li><li>示例：语音识别中，将连续语音按25ms/帧分割并去噪；字符识别中，对扫描稿件进行版面分析与字符分隔。</li></ul></li><li><p><strong>特征提取与选择</strong></p><ul><li><strong>特征提取</strong>：从预处理后的数据中提取能反映样本本质差异的“关键信息”，将原始数据转化为低维、可计算的特征向量。例如：<ul><li>图像识别中，提取像素密度投影、边缘特征；</li><li>基因数据分析中，从海量基因中筛选与疾病相关的表达量特征。</li></ul></li><li><strong>特征选择</strong>：剔除冗余、无关特征（如对分类无帮助的噪声特征），降低特征空间维度，提升后续模型效率与精度。</li><li>核心目标：通过“降维”与“去噪”，保留对类别区分最关键的信息，为后续分类/聚类奠定基础。</li></ul></li></ol><h2 id="二、监督模式识别系统的具体流程">二、监督模式识别系统的具体流程</h2><p>监督模式识别需依赖“类别已知的训练样本”（即每个样本的特征向量与所属类别标签对应），核心目标是建立“特征→类别”的映射模型（分类器），用于未知样本的类别预测，具体步骤如下：</p><ol><li><p><strong>问题分析</strong></p><ul><li>明确研究目标（如“区分正常细胞/癌细胞”“识别手写数字0-9”），将目标转化为“类别划分任务”；</li><li>分析数据中哪些因素（特征）可能与分类相关（如细胞的细胞核光密度、手写数字的笔画结构）。</li></ul></li><li><p><strong>原始特征获取</strong></p><ul><li>设计实验采集<strong>已知类别标签的训练样本</strong>（如标注好“正常/异常”的细胞图像、标注好“0-9”的手写数字图像）；</li><li>对样本进行观测与预处理，生成原始特征向量（如细胞的光密度特征向量、数字的像素特征向量）。</li></ul></li><li><p><strong>特征提取与选择</strong></p><ul><li>对原始特征进行优化（如降维、去冗余），得到更具区分性的特征向量（如用主成分分析PCA压缩细胞特征维度）。</li></ul></li><li><p><strong>分类器设计（训练）</strong></p><ul><li>选择合适的分类算法（如贝叶斯分类器、支持向量机、神经网络），用训练样本“训练”分类器，确定模型参数（如贝叶斯分类器的先验概率、支持向量机的最优超平面）。</li></ul></li><li><p><strong>分类决策与验证</strong></p><ul><li>对未知样本执行与训练样本相同的“预处理→特征提取”流程，输入训练好的分类器，得到类别预测结果；</li><li>用测试集（独立于训练集的已知类别样本）评估分类器性能（如错误率、准确率），必要时结合领域知识进行后处理（如语音识别中的语言模型校正）。</li></ul></li></ol><h2 id="三、非监督模式识别系统的具体流程">三、非监督模式识别系统的具体流程</h2><p>非监督模式识别无需“类别已知的训练样本”，甚至未知类别数量，核心目标是通过样本特征的“内在相似性”自动聚成类别（聚类），挖掘数据的潜在结构，具体步骤如下：</p><ol><li><p><strong>问题分析</strong></p><ul><li>明确研究目标（如“将客户按消费行为分群”“探索基因表达数据的细胞亚型”），判断是否可通过“寻找聚类”实现目标；</li><li>猜测可能的类别数量（如“客户可能分为高/中/低消费群体”），分析数据中与聚类相关的特征（如客户的消费频次、消费金额）。</li></ul></li><li><p><strong>原始特征获取</strong></p><ul><li>采集<strong>无类别标签的待分析样本</strong>（如未标注“消费群体”的客户消费数据、未标注“细胞亚型”的基因表达数据）；</li><li>对样本进行观测与预处理，生成原始特征向量（如客户的“消费频次-消费金额”向量、细胞的基因表达向量）。</li></ul></li><li><p><strong>特征提取与选择</strong></p><ul><li>优化原始特征（如降维、标准化），突出样本间的相似性差异（如用t-SNE将高维基因表达特征降维至2D/3D，便于聚类）。</li></ul></li><li><p><strong>聚类分析</strong></p><ul><li>选择非监督算法（如K均值、层次聚类、自组织映射SOM），对样本进行自动分组，使“同类样本相似性高、异类样本相似性低”（如用K均值将客户分为3个消费群体）。</li></ul></li><li><p><strong>结果解释与验证</strong></p><ul><li>评估聚类质量（如通过“类内相似度/类间相似度”衡量）；</li><li>结合领域知识解释聚类的实际意义（如“聚类1对应年轻高消费客户，聚类2对应中年中等消费客户”）；</li><li>若有新样本，可将聚类结果用于新样本的类别归属判断（如将新客户归入已有的消费群体）。</li></ul></li></ol><h2 id="四、核心总结">四、核心总结</h2><table><thead><tr><th>对比维度</th><th>监督模式识别</th><th>非监督模式识别</th></tr></thead><tbody><tr><td><strong>核心依赖</strong></td><td>类别已知的训练样本（带标签）</td><td>无类别标签的样本</td></tr><tr><td><strong>核心目标</strong></td><td>建立“特征→类别”映射，预测未知样本类别</td><td>发现数据内在结构，自动聚成相似类别</td></tr><tr><td><strong>关键步骤</strong></td><td>分类器训练（用已知样本优化模型）</td><td>聚类分析（用样本相似性自动分组）</td></tr><tr><td><strong>结果验证</strong></td><td>用测试集评估分类器性能（如错误率）</td><td>结合领域知识解释聚类合理性</td></tr><tr><td><strong>典型应用</strong></td><td>疾病诊断、图像分类、手写数字识别</td><td>客户分群、基因亚型探索、异常检测</td></tr></tbody></table><p>无论是监督还是非监督模式识别，<strong>特征提取与选择</strong>“分类器/聚类算法设计”“结果评估”是系统的核心共性环节，也是模式识别与机器学习学科的重点研究内容。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;模式识别系统虽因应用场景（如语音识别、图像目标检测、基因数据分析等）不同而存在细节差异，但核心流程具有共性，均围绕“数据处理→特征优化→决策/分析→结果验证”四个核心环节展开。根据是否依赖“类别已知的训练样本”，可分为&lt;strong&gt;监督模式识别系统&lt;/strong&gt;与&lt;s</summary>
        
      
    
    
    
    <category term="模式识别与机器学习" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="第一章 概论" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%A6%82%E8%AE%BA/"/>
    
    
    <category term="模式识别" scheme="https://hellowydwyd.github.io/tags/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/"/>
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>1.3 监督模式识别与非监督模式识别</title>
    <link href="https://hellowydwyd.github.io/2025/10/21/1-3-%E7%9B%91%E7%9D%A3%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E9%9D%9E%E7%9B%91%E7%9D%A3%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/"/>
    <id>https://hellowydwyd.github.io/2025/10/21/1-3-%E7%9B%91%E7%9D%A3%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E9%9D%9E%E7%9B%91%E7%9D%A3%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/</id>
    <published>2025-10-21T08:07:30.000Z</published>
    <updated>2025-10-21T08:09:08.442Z</updated>
    
    <content type="html"><![CDATA[<p>监督模式识别与非监督模式识别是模式识别领域的两大核心分支，二者的核心差异在于是否依赖“类别已知的训练样本”作为学习“导师”，在问题设定、学习目标、方法特点及结果解读上均存在显著区别，具体如下：</p><h2 id="一、监督模式识别（Supervised-Pattern-Recognition）">一、监督模式识别（Supervised Pattern Recognition）</h2><h3 id="1-核心定义与前提假设">1. 核心定义与前提假设</h3><ul><li><strong>定义</strong>：在已知“待划分类别”且能获取“类别已知的训练样本”的前提下，以训练样本作为“导师”，建立分类模型（分类器），实现对未知样本类别的预测。</li><li><strong>关键前提</strong>：<ul><li>明确知道要划分的类别数量及类别含义；</li><li>拥有足够数量的“特征-类别”对应训练样本（即每个样本的特征向量与所属类别标签已知）。</li></ul></li></ul><h3 id="2-典型应用场景">2. 典型应用场景</h3><ul><li>图像分类（如区分“猫/狗/汽车”，需先提供大量标注好类别的图像作为训练集）；</li><li>疾病诊断（如根据“患者特征-疾病标签”训练模型，预测新患者是否患病）；</li><li>手写数字识别（如MNIST数据集，每个手写数字图像均标注对应的0-9类别）。</li></ul><h3 id="3-核心流程">3. 核心流程</h3><ol><li><strong>数据准备</strong>：收集类别已知的样本，构建训练集（含特征向量与类别标签）；</li><li><strong>特征处理</strong>：对样本特征进行提取、选择或预处理（如去噪、归一化）；</li><li><strong>模型训练</strong>：用训练集训练分类器（如贝叶斯分类器、支持向量机、神经网络等）；</li><li><strong>分类决策</strong>：用训练好的分类器对未知样本的特征向量进行类别预测。</li></ol><h3 id="4-特点">4. 特点</h3><ul><li><strong>目标明确</strong>：直接学习“特征→类别”的映射关系，分类结果具有明确的预设类别含义；</li><li><strong>依赖标注样本</strong>：标注样本的质量（准确性、代表性）和数量直接影响分类器性能；</li><li><strong>结果确定性</strong>：对同一未知样本，在相同模型下分类结果唯一（排除随机化模型）。</li></ul><h2 id="二、非监督模式识别（Unsupervised-Pattern-Recognition）">二、非监督模式识别（Unsupervised Pattern Recognition）</h2><h3 id="1-核心定义与前提假设-2">1. 核心定义与前提假设</h3><ul><li><strong>定义</strong>：在“未知待划分类别”“无类别已知训练样本”（甚至未知类别数量）的前提下，仅根据样本特征的“相似性”或“内在结构”，将样本自动聚为若干类（称为“聚类”），使同类样本相似性高、异类样本相似性低。</li><li><strong>关键前提</strong>：<ul><li>无需知道类别数量及类别含义；</li><li>仅拥有无类别标签的样本特征向量，通过数据自身规律发现类别。</li></ul></li></ul><h3 id="2-典型应用场景-2">2. 典型应用场景</h3><ul><li>客户分群（如根据用户消费行为特征，将客户自动分为“高消费/中等消费/低消费”群体，无需预先定义群体标签）；</li><li>基因表达数据分析（如根据基因表达水平，将细胞自动聚为不同类型，探索未知细胞亚型）；</li><li>异常检测（如通过正常数据的聚类结构，识别偏离聚类的“异常样本”，如信用卡欺诈交易检测）。</li></ul><h3 id="3-核心流程-2">3. 核心流程</h3><ol><li><strong>数据准备</strong>：收集无类别标签的样本，构建待分析样本集；</li><li><strong>特征处理</strong>：对样本特征进行预处理（如降维、标准化），突出样本间的差异或相似性；</li><li><strong>聚类分析</strong>：选择聚类算法（如K均值、层次聚类、模糊聚类等），对样本进行自动分组；</li><li><strong>结果解释</strong>：结合领域知识分析聚类结果的实际意义（如“聚类1对应年轻高消费客户”），验证聚类合理性。</li></ol><h3 id="4-特点-2">4. 特点</h3><ul><li><strong>目标是“发现类别”</strong>：不预设类别，从数据中挖掘内在结构，属于“探索性分析”；</li><li><strong>无需标注样本</strong>：适用于标注成本高或类别未知的场景（如生物领域新物种分类、工业异常检测）；</li><li><strong>结果非唯一性</strong>：<ul><li>同一数据集采用不同聚类算法（如K均值vs层次聚类）或不同参数（如K均值的K值选择），可能得到不同聚类结果；</li><li>聚类结果的“合理性”需结合领域知识判断（如客户分群结果需业务人员验证是否符合实际客户特征）。</li></ul></li></ul><h2 id="三、监督与非监督模式识别的核心差异对比">三、监督与非监督模式识别的核心差异对比</h2><table><thead><tr><th>对比维度</th><th>监督模式识别</th><th>非监督模式识别</th></tr></thead><tbody><tr><td><strong>样本需求</strong></td><td>需类别已知的训练样本（带标签）</td><td>仅需无类别标签的样本（无标签）</td></tr><tr><td><strong>类别信息</strong></td><td>已知类别数量及含义</td><td>未知类别数量及含义，需从数据中发现</td></tr><tr><td><strong>学习目标</strong></td><td>学习“特征→类别”的映射，用于预测未知样本</td><td>发现样本内在结构，实现“相似样本聚为一类”</td></tr><tr><td><strong>结果特点</strong></td><td>结果唯一，对应预设类别</td><td>结果非唯一，需领域知识解释合理性</td></tr><tr><td><strong>典型算法</strong></td><td>贝叶斯分类器、SVM、神经网络、决策树</td><td>K均值、层次聚类、DBSCAN、自组织映射</td></tr><tr><td><strong>适用场景</strong></td><td>预测性任务（如疾病诊断、图像分类）</td><td>探索性任务（如客户分群、异常检测）</td></tr></tbody></table><h2 id="四、补充说明">四、补充说明</h2><ol><li><strong>术语对应</strong>：国内部分文献中，监督学习也称为“有导师学习”，非监督学习也称为“无导师学习”，本质与本文定义一致。</li><li><strong>非监督学习的扩展</strong>：除聚类外，非监督学习还包括“发现数据内在结构”的任务，如高维数据降维（如PCA、t-SNE）、发现数据间的关联关系等，核心均是“无标签下挖掘数据规律”。</li><li><strong>二者结合</strong>：实际应用中常结合两种方法，例如：先用非监督聚类发现潜在类别，再用聚类结果作为“伪标签”训练监督分类器（半监督学习）；或用监督学习验证非监督聚类的合理性（如用已知类别标签评估聚类纯度）。</li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;监督模式识别与非监督模式识别是模式识别领域的两大核心分支，二者的核心差异在于是否依赖“类别已知的训练样本”作为学习“导师”，在问题设定、学习目标、方法特点及结果解读上均存在显著区别，具体如下：&lt;/p&gt;
&lt;h2</summary>
        
      
    
    
    
    <category term="模式识别与机器学习" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="第一章 概论" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%A6%82%E8%AE%BA/"/>
    
    
    <category term="模式识别" scheme="https://hellowydwyd.github.io/tags/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/"/>
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>1.2 模式识别的主要方法</title>
    <link href="https://hellowydwyd.github.io/2025/10/21/1.2%20%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E7%9A%84%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95/"/>
    <id>https://hellowydwyd.github.io/2025/10/21/1.2%20%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E7%9A%84%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95/</id>
    <published>2025-10-21T03:43:22.000Z</published>
    <updated>2025-10-21T07:49:12.189Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、基于知识的方法">一、基于知识的方法</h2><h3 id="（一）核心原理">（一）核心原理</h3><p>该方法以人类对研究对象的先验知识为基础，通过&quot;分解-符号化-句法分析&quot;的逻辑实现分类，具体流程为：</p><ol><li><p><strong>对象分解与符号化</strong>：将待识别对象拆解为多个基本单元（如汉字的笔画、复杂图像的局部特征），并将每个基本单元用特定符号表示（如用&quot;横&quot;&quot;竖&quot;等符号表示汉字笔画）。</p></li><li><p><strong>句法关系构建</strong>：描述基本单元之间的结构关系（如汉字中&quot;横&quot;与&quot;竖&quot;的连接顺序、位置关系），形成单元符号间的句法规则。</p></li><li><p><strong>句法分析分类</strong>：利用形式语言（如上下文无关文法）和句法分析算法（如自上而下句法分析、自下而上句法分析），根据句法规则判断样本是否符合某类对象的结构特征，进而完成分类。</p></li></ol><h3 id="（二）典型实例">（二）典型实例</h3><p>以<strong>复杂结构汉字识别</strong>为例：</p><ul><li><p>先将汉字图像分解为&quot;横、竖、撇、捺&quot;等基本笔画单元，提取笔画的起始点、转折点、终点等特征点并编码为数字符号；</p></li><li><p>结合汉字结构知识（如&quot;左右结构&quot;&quot;上下结构&quot;、旋转与尺度不变性），构建笔画间的句法关系（如&quot;'木’字由’横、竖、撇、捺’按’横在上、竖居中、撇捺在下’的顺序组成&quot;）；</p></li><li><p>通过句法分析判断待识别汉字的笔画组合是否符合某一已知汉字的句法规则，实现识别。</p></li></ul><h3 id="（三）局限性">（三）局限性</h3><p>该方法高度依赖人类对研究对象的<strong>充分认知</strong>：若对对象的结构、单元关系等缺乏深入了解（如复杂疾病的病理机制、未知天体的特征规律），则无法构建有效的句法规则，导致方法难以应用。</p><h2 id="二、基于数据的方法">二、基于数据的方法</h2><h3 id="（一）核心原理与流程">（一）核心原理与流程</h3><p>该方法不依赖先验知识，完全以数据为驱动，通过&quot;特征确定-训练集构建-模型训练-分类预测&quot;的流程实现识别，是模式识别的主流方法，具体逻辑如下：</p><ol><li><p><strong>特征确定</strong>：选取能反映对象类别差异的特征（如语音识别中的频率、振幅特征，图像识别中的像素分布、边缘特征），将样本表示为特征向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>。</p></li><li><p><strong>训练集构建</strong>：收集大量类别已知的样本，组成训练集$${(x_1,y_1),(x_2,y_2),\dots,(x_N,y_N)}$$，其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>为样本的类别标号。</p></li><li><p><strong>模型训练（学习过程）</strong>：利用训练集训练&quot;学习机器（LM）&quot;，本质是构建从特征向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>到类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">y&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>的映射函数$$y’=f(x)$$（即分类器），目标是让分类器对训练样本的分类误差最小。</p></li><li><p><strong>分类预测</strong>：将未知样本的特征向量输入训练好的分类器，由分类器输出样本的预测类别。</p></li></ol><h3 id="（二）与机器学习的关系">（二）与机器学习的关系</h3><p>基于数据的模式识别可看作<strong>基于数据的机器学习的特殊情况</strong>：</p><ul><li>机器学习的目标包括离散分类、连续值预测（如回归）等，而基于数据的模式识别专注于&quot;离散分类&quot;这一目标，是机器学习中研究最广泛、最核心的方向之一。</li></ul><h3 id="（三）典型实例">（三）典型实例</h3><p>以<strong>语音识别</strong>为例：</p><ul><li><p>特征确定：将语音信号按25ms/帧、10ms间隔分割，提取每帧的梅尔频率倒谱系数（MFCC）作为特征向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>；</p></li><li><p>训练集构建：收集大量已知内容的语音信号（如&quot;你好&quot;&quot;谢谢&quot;等），标注每段语音对应的文本类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>，组成训练集；</p></li><li><p>模型训练：用训练集训练基于隐马尔可夫模型（HMM）或深度学习的分类器，学习&quot;语音特征-文本类别&quot;的映射关系；</p></li><li><p>分类预测：将未知语音信号的特征向量输入分类器，输出语音对应的文本内容，实现识别。</p></li></ul><h2 id="三、两类方法的对比与基于数据的方法的核心地位">三、两类方法的对比与基于数据的方法的核心地位</h2><h3 id="（一）关键差异对比">（一）关键差异对比</h3><table><thead><tr><th>对比维度</th><th>基于知识的方法</th><th>基于数据的方法</th></tr></thead><tbody><tr><td>依赖条件</td><td>人类对对象的先验知识（需充分认知）</td><td>类别已知的训练数据（无需先验知识）</td></tr><tr><td>适用场景</td><td>对象结构清晰、规则可明确描述的场景（如简单汉字识别）</td><td>对象机理复杂、规则难描述的场景（如语音识别、疾病诊断）</td></tr><tr><td>核心逻辑</td><td>符号化与句法分析</td><td>数据驱动的分类器学习</td></tr><tr><td>局限性</td><td>知识不足时无法应用</td><td>需足够多高质量训练数据</td></tr></tbody></table><h3 id="（二）基于数据的方法的核心地位">（二）基于数据的方法的核心地位</h3><ol><li><p><strong>主流性</strong>：在无特别说明时，&quot;模式识别&quot;通常特指基于数据的方法，因其能应对大多数实际场景中&quot;知识不足但数据可获取&quot;的情况。</p></li><li><p><strong>适用范围</strong>：适用于&quot;已知特征与类别相关，但无法确切描述关系&quot;的场景，这种&quot;不确定性&quot;的来源包括：</p><ul><li><p>对对象机理研究不足（如新型疾病的致病基因与疾病类型的关系）；</p></li><li><p>问题本身的随机性（如金融市场中&quot;股价特征-涨跌类别&quot;的关系）；</p></li><li><p>样本异质性（如不同人说话的口音差异）；</p></li><li><p>观测数据不准确（如传感器噪声导致的图像失真）。</p></li></ul></li><li><p><strong>边界条件</strong>：</p><ul><li><p>若&quot;特征-类别&quot;关系可完全确切描述（如简单几何图形的分类），基于知识的方法更高效；</p></li><li><p>若&quot;特征-类别&quot;关系完全随机（无规律性），则两类方法均无法得到有意义的结果。</p></li></ul></li></ol><h2 id="四、基于数据的方法与其他学科的关联">四、基于数据的方法与其他学科的关联</h2><h3 id="（一）与统计学的关联">（一）与统计学的关联</h3><ol><li><p><strong>基础支撑</strong>：基于数据的模式识别的核心是<strong>统计模式识别</strong>，即依据统计学原理（如概率分布、贝叶斯公式）建立分类器，这是模式识别学科最初的主要内容（如基于正态分布的贝叶斯分类器）。</p></li><li><p><strong>方法融合</strong>：即使是非统计起源的方法（如人工神经网络），其本质也与统计学密切相关——例如，神经网络的权重学习可通过最大似然估计、贝叶斯推断等统计学思想解释，目前主流研究也常采用统计学视角分析神经网络的泛化能力。</p></li></ol><h3 id="（二）学科发展脉络的意义">（二）学科发展脉络的意义</h3><p>模式识别方法的发展是多学科思想融合的过程：</p><ul><li><p>20世纪30年代诞生线性判别函数（统计起源）；</p></li><li><p>20世纪80年代人工神经网络兴起（神经科学启发）；</p></li><li><p>20世纪90年代支持向量机与统计学习理论发展（统计学与泛函分析结合）；</p></li><li><p>21世纪10年代后深度学习爆发（神经网络与大数据、计算能力结合）。</p></li></ul><p>了解这些脉络有助于深刻理解方法的核心思想（如支持向量机的&quot;最大间隔&quot;思想源于统计学习理论），并把握学科未来发展方向（如方法间的融合趋势）。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;一、基于知识的方法&quot;&gt;一、基于知识的方法&lt;/h2&gt;
&lt;h3</summary>
        
      
    
    
    
    <category term="模式识别与机器学习" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="第一章 概论" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%A6%82%E8%AE%BA/"/>
    
    
    <category term="模式识别" scheme="https://hellowydwyd.github.io/tags/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/"/>
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>1.1 模式与模式识别</title>
    <link href="https://hellowydwyd.github.io/2025/10/21/%E6%A8%A1%E5%BC%8F%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/"/>
    <id>https://hellowydwyd.github.io/2025/10/21/%E6%A8%A1%E5%BC%8F%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/</id>
    <published>2025-10-21T03:20:55.000Z</published>
    <updated>2025-10-21T07:49:12.297Z</updated>
    
    <content type="html"><![CDATA[<ol><li><strong>模式与模式识别的定义</strong>：人类认识外界事物的能力涉及对事物的分类和识别，这一过程依赖于对事物整体性质和特点的认识。模式识别就是指依据这种对事物类别的认识，对具体对象进行分类和识别的过程。例如，看到一幅风景照片，人们能识别出其中的各种元素，并判断出这是中国江南水乡的景色 ，这一认知过程包含了对多个模式的识别。</li><li><strong>模式识别的方法分类</strong><ul><li><strong>基于知识的方法</strong>：把对象分解描述成基本单元，用符号表示单元及单元间的句法关系，利用形式语言和句法分析原理实现样本分类。但该方法依赖于人们对所研究对象的认识，在很多情况下人们并不具备足够的认识，因此应用受限。</li><li><strong>基于数据的方法</strong>：在确定样本特征后，不依赖于对对象的先验认识，而是通过收集已知样本组成训练集，训练模式识别机器，使其能够对未知样本进行分类。这是模式识别最主要的方法，可看作基于数据的机器学习的特殊情况，其学习目标是离散的分类。模式识别的任务是在类别标号与特征向量存在未知依赖关系，且仅已知一组训练数据对的情况下，求解定义在特征向量上的函数（分类器），以预测未知样本的类别 。</li></ul></li><li><strong>模式识别与机器学习、人工智能的关系</strong>：进入21世纪，机器学习备受关注，模式识别是其核心且研究最多的方面。在模式识别和机器学习的发展历程中，它们与人工智能研究并行。后来，以深度学习为代表的机器学习方法取得巨大发展，人们开始将机器学习与人工智能视为同一领域，模式识别与机器学习这两个术语也常被混用 。</li><li><strong>模式识别的适用场景</strong>：基于数据的模式识别方法适用于已知对象某些特征与感兴趣的类别性质有关，但无法确切描述这种关系的情况。这种不确定性可能是由于对相关机理研究不足，或问题本身的不确定性、样本异质性和观测数据不准确等原因造成的。如果分类和特征之间的关系能完全确切描述，基于知识的方法可能更有效；若两者关系完全随机，则模式识别难以得到有意义的结果 。</li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;模式与模式识别的定义&lt;/strong&gt;：人类认识外界事物的能力涉及对事物的分类和识别，这一过程依赖于对事物整体性质和特点的认识。模式识别就是指依据这种对事物类别的认识，对具体对象进行分类和识别的过程。例如，看到一幅风景照片，人们能识别出其中的各种</summary>
        
      
    
    
    
    <category term="模式识别与机器学习" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="第一章 概论" scheme="https://hellowydwyd.github.io/categories/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%A6%82%E8%AE%BA/"/>
    
    
    <category term="模式识别" scheme="https://hellowydwyd.github.io/tags/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/"/>
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>进程同步</title>
    <link href="https://hellowydwyd.github.io/2025/10/16/%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5/"/>
    <id>https://hellowydwyd.github.io/2025/10/16/%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5/</id>
    <published>2025-10-16T06:27:40.000Z</published>
    <updated>2025-10-16T06:41:42.894Z</updated>
    
    <content type="html"><![CDATA[<p>进程同步是多道程序环境下协调进程并发执行的核心机制。引入进程后，虽能通过并发提升资源利用率和系统吞吐量，但进程对共享资源的无序争夺会导致执行结果不可再现。进程同步的本质是通过特定规则协调进程执行次序，确保共享资源有序访问与进程间高效协作，使程序执行具备可再现性。</p><h2 id="一、进程同步的基本概念与制约关系">一、进程同步的基本概念与制约关系</h2><h3 id="1-进程同步的核心任务">1. 进程同步的核心任务</h3><p>对多个相关进程的执行次序进行协调，解决“并发导致的资源争夺与协作混乱”问题，具体包括：</p><ul><li>确保进程按规则共享系统资源（如打印机、共享变量）；</li><li>实现进程间的有效合作（如“司机-售票员”进程的协同操作）；</li><li>消除并发执行的不可再现性，保证每次执行结果一致。</li></ul><h3 id="2-进程间的两种制约关系">2. 进程间的两种制约关系</h3><p>进程并发执行时，因资源共享或任务协作产生两种典型制约关系，均需同步机制协调：</p><h4 id="（1）间接相互制约关系（资源共享导致）">（1）间接相互制约关系（资源共享导致）</h4><ul><li><strong>产生原因</strong>：多个进程共享同一临界资源（如打印机、共享内存），需通过互斥方式访问，避免资源状态被无序修改。</li><li><strong>示例</strong>：进程A和进程B均需使用打印机，若A正在打印（占用打印机），B必须等待A释放后才能使用。</li><li><strong>本质</strong>：进程间无直接通信，仅因共享资源而间接相互限制。</li></ul><h4 id="（2）直接相互制约关系（任务协作导致）">（2）直接相互制约关系（任务协作导致）</h4><ul><li><strong>产生原因</strong>：多个进程为完成同一任务需协同工作，一个进程的执行依赖另一个进程的结果（如“生产者-消费者”进程，生产者生产产品后消费者才能消费）。</li><li><strong>示例</strong>：司机进程（P1）需在售票员进程（P2）关门后才能启动车辆，P2需在P1到站停车后才能开门，二者执行顺序直接关联。</li><li><strong>本质</strong>：进程间存在明确的依赖关系，需通过信号或消息传递同步执行节奏。</li></ul><h2 id="二、临界资源与临界区">二、临界资源与临界区</h2><h3 id="1-临界资源（Critical-Resource）">1. 临界资源（Critical Resource）</h3><ul><li><strong>定义</strong>：一次仅允许一个进程访问的资源，包括硬件资源（如打印机、磁带机）和软件资源（如共享变量、数据库记录）。</li><li><strong>核心特性</strong>：排他性——若多个进程同时访问，会导致资源状态混乱或执行结果错误。</li><li><strong>管理原则</strong>：进程对临界资源的访问必须互斥，即一个进程访问时，其他进程需等待。</li></ul><h3 id="2-临界区（Critical-Section）">2. 临界区（Critical Section）</h3><ul><li><strong>定义</strong>：每个进程中直接访问临界资源的那段代码，是进程同步的核心控制对象。</li><li><strong>进程访问临界区的标准结构</strong>：为确保互斥，进程访问临界资源需遵循“进入区→临界区→退出区→剩余区”的流程：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">while(TRUE)&#123;<br>    进入区（Entry Section）：检查临界资源是否可用，若不可用则阻塞，避免“忙等”；<br>    临界区（Critical Section）：访问临界资源的核心代码，执行时独占资源；<br>    退出区（Exit Section）：释放临界资源，唤醒等待的进程；<br>    剩余区（Remainder Section）：与临界资源无关的其他代码；<br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>关键问题</strong>：若多个进程并发执行时，临界区代码未加控制，会导致共享资源操作异常（如共享变量计算错误）。</li></ul><h4 id="示例：临界区代码并发执行的问题">示例：临界区代码并发执行的问题</h4><p>以“生产者-消费者”问题中共享变量<code>counter</code>（记录缓冲池产品数量）为例：</p><ul><li>生产者对<code>counter</code>的加1操作（<code>counter++</code>）对应机器指令：<code>register1=counter; register1=register1+1; counter=register1;</code></li><li>消费者对<code>counter</code>的减1操作（<code>counter--</code>）对应机器指令：<code>register2=counter; register2=register2-1; counter=register2;</code></li><li>若二者并发执行，可能出现指令交错（如生产者读取<code>counter=5</code>后，消费者也读取<code>counter=5</code>，最终<code>counter</code>可能被改为4而非5），导致<code>counter</code>值错误，进而引发缓冲池溢出或空取问题。</li></ul><h2 id="三、同步机制的四大规则">三、同步机制的四大规则</h2><p>为确保临界区的安全访问，任何同步机制都需遵循以下4条核心规则，缺一不可：</p><table><thead><tr><th>规则名称</th><th>核心要求</th><th>目的</th></tr></thead><tbody><tr><td><strong>空闲让进</strong></td><td>若临界区无进程执行，需访问临界区的进程应立即进入</td><td>避免资源空闲，提高资源利用率</td></tr><tr><td><strong>忙则等待</strong></td><td>若临界区已有进程执行，其他请求访问的进程必须等待</td><td>保证临界资源的互斥访问，防止冲突</td></tr><tr><td><strong>有限等待</strong></td><td>请求访问临界区的进程需在有限时间内进入，不得“永久等待”</td><td>避免“死等”（饥饿），确保进程公平性</td></tr><tr><td><strong>让权等待</strong></td><td>进程无法进入临界区时，需立即释放CPU（转为阻塞状态），而非“忙等”</td><td>避免CPU资源浪费，提高系统吞吐量</td></tr></tbody></table><h2 id="四、进程同步的实现机制">四、进程同步的实现机制</h2><p>根据实现层面的不同，同步机制分为<strong>硬件同步机制</strong>和<strong>软件同步机制</strong>（信号量、管程），其中硬件机制是基础，软件机制是主流应用方式。</p><h3 id="1-硬件同步机制">1. 硬件同步机制</h3><p>利用硬件指令的原子性（不可中断）实现互斥，无需操作系统内核干预，但存在局限性，适用于简单场景。</p><h4 id="（1）关中断（Disable-Interrupts）">（1）关中断（Disable Interrupts）</h4><ul><li><strong>实现逻辑</strong>：进程进入临界区前关闭CPU中断，执行完临界区代码后再打开中断。关闭中断期间，CPU不响应任何中断请求，不会发生进程切换，确保临界区代码连续执行。</li><li><strong>优点</strong>：实现最简单，无需复杂数据结构。</li><li><strong>缺点</strong>：<ol><li>滥用关中断可能导致系统异常（如忽略硬件故障中断）；</li><li>关中断时间过长会降低CPU利用率，限制并发能力；</li><li>不适用于多CPU系统（一个CPU关中断无法阻止其他CPU访问临界区）。</li></ol></li></ul><h4 id="（2）Test-and-Set（TS）指令">（2）Test-and-Set（TS）指令</h4><ul><li><strong>指令功能</strong>：原子性完成“测试锁状态”和“设置锁为占用”操作，返回锁的原始状态。指令定义如下：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c">boolean <span class="hljs-title function_">TS</span><span class="hljs-params">(boolean *lock)</span>&#123; <br>    boolean old = *lock;  <span class="hljs-comment">// 保存锁的原始状态</span><br>    *lock = <span class="hljs-literal">true</span>;         <span class="hljs-comment">// 将锁设为“占用”</span><br>    <span class="hljs-keyword">return</span> old;           <span class="hljs-comment">// 返回原始状态（true表示锁已占用，false表示空闲）</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>实现互斥的逻辑</strong>：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">do</span>&#123;<br>    <span class="hljs-keyword">while</span>(TS(&amp;lock));  <span class="hljs-comment">// 循环测试锁，直到锁空闲（TS返回false）</span><br>    临界区;             <span class="hljs-comment">// 锁空闲，进入临界区</span><br>    lock = <span class="hljs-literal">false</span>;       <span class="hljs-comment">// 退出临界区，释放锁</span><br>    剩余区;<br>&#125;<span class="hljs-keyword">while</span>(TRUE);<br></code></pre></td></tr></table></figure></li><li><strong>优点</strong>：支持多CPU系统，实现简单。</li><li><strong>缺点</strong>：未遵循“让权等待”规则，进程等待时处于“忙等”状态，浪费CPU资源。</li></ul><h4 id="（3）Swap指令（Exchange指令）">（3）Swap指令（Exchange指令）</h4><ul><li><strong>指令功能</strong>：原子性交换两个变量的值，确保交换过程不被中断。指令定义如下：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">Swap</span><span class="hljs-params">(boolean *a, boolean *b)</span>&#123; <br>    boolean temp = *a;<br>    *a = *b;<br>    *b = temp;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>实现互斥的逻辑</strong>：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">do</span>&#123;<br>    boolean key = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">do</span>&#123;<br>        Swap(&amp;lock, &amp;key);  <span class="hljs-comment">// 交换lock和key的值，测试锁状态</span><br>    &#125;<span class="hljs-keyword">while</span>(key != <span class="hljs-literal">false</span>);   <span class="hljs-comment">// key为false表示锁空闲，退出循环</span><br>    临界区;                 <span class="hljs-comment">// 进入临界区</span><br>    lock = <span class="hljs-literal">false</span>;           <span class="hljs-comment">// 释放锁</span><br>    剩余区;<br>&#125;<span class="hljs-keyword">while</span>(TRUE);<br></code></pre></td></tr></table></figure></li><li><strong>优缺点</strong>：与TS指令类似，支持多CPU但存在“忙等”问题。</li></ul><h3 id="2-信号量机制（软件同步机制）">2. 信号量机制（软件同步机制）</h3><p>1965年由荷兰学者Dijkstra提出，是目前应用最广泛的同步机制之一。信号量是一个抽象数据结构，通过<code>P</code>（<code>wait</code>）、<code>V</code>（<code>signal</code>）两个原子操作控制资源访问，可实现互斥与同步。</p><h4 id="（1）信号量的核心属性">（1）信号量的核心属性</h4><ul><li><strong>本质</strong>：一个记录型数据结构，包含“资源数量”和“等待进程队列”（仅记录型信号量有队列）；</li><li><strong>值的含义</strong>：信号量的值与资源使用状态相关，仅能通过<code>P</code>、<code>V</code>操作修改；</li><li><strong>初始化</strong>：初值需在创建时设置一次，且初值非负（资源数量或同步标记）。</li></ul><h4 id="（2）信号量的分类与实现">（2）信号量的分类与实现</h4><p>根据功能和结构，信号量分为<strong>整型信号量</strong>、<strong>记录型信号量</strong>、<strong>AND型信号量</strong>和<strong>信号量集</strong>，分别适用于不同场景：</p><h5 id="①-整型信号量">① 整型信号量</h5><ul><li><strong>定义</strong>：信号量为整型变量<code>S</code>，仅通过<code>P</code>、<code>V</code>原子操作访问：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// P操作（申请资源）：若资源不足则“忙等”</span><br>wait(S)&#123; <br>    <span class="hljs-keyword">while</span>(S &lt;= <span class="hljs-number">0</span>);  <span class="hljs-comment">// 资源不足时循环等待（忙等）</span><br>    S--;            <span class="hljs-comment">// 申请成功，资源数量减1</span><br>&#125;<br><span class="hljs-comment">// V操作（释放资源）：资源数量加1</span><br>signal(S)&#123; <br>    S++;            <span class="hljs-comment">// 释放资源，资源数量加1</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>优点</strong>：实现简单，适用于单CPU系统。</li><li><strong>缺点</strong>：未遵循“让权等待”规则，进程等待时“忙等”，浪费CPU资源。</li></ul><h5 id="②-记录型信号量（解决“忙等”问题）">② 记录型信号量（解决“忙等”问题）</h5><ul><li><strong>定义</strong>：在整型信号量基础上增加“等待进程队列”，当资源不足时，进程进入队列阻塞（释放CPU），遵循“让权等待”规则。结构定义如下：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span>&#123;</span><br>    <span class="hljs-type">int</span> value;          <span class="hljs-comment">// 资源数量（value&gt;=0：可用资源数；value&lt;0：等待进程数的绝对值）</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">PCB</span> *<span class="hljs-title">list</span>;</span>   <span class="hljs-comment">// 等待该信号量的进程队列（PCB链表）</span><br>&#125;semaphore;<br></code></pre></td></tr></table></figure></li><li><strong>P、V操作实现</strong>：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// P操作（申请资源）</span><br>wait(semaphore *S)&#123; <br>    S-&gt;value--;                <span class="hljs-comment">// 申请资源，资源数减1</span><br>    <span class="hljs-keyword">if</span>(S-&gt;value &lt; <span class="hljs-number">0</span>)&#123;          <span class="hljs-comment">// 资源不足，进程阻塞</span><br>        block(S-&gt;<span class="hljs-built_in">list</span>);        <span class="hljs-comment">// 将当前进程插入等待队列，释放CPU</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">// V操作（释放资源）</span><br>signal(semaphore *S)&#123; <br>    S-&gt;value++;                <span class="hljs-comment">// 释放资源，资源数加1</span><br>    <span class="hljs-keyword">if</span>(S-&gt;value &lt;= <span class="hljs-number">0</span>)&#123;         <span class="hljs-comment">// 存在等待进程</span><br>        wakeup(S-&gt;<span class="hljs-built_in">list</span>);       <span class="hljs-comment">// 唤醒等待队列的队首进程，插入就绪队列</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>核心优势</strong>：无“忙等”，兼顾资源利用率与公平性，是目前主流的信号量形式。</li><li><strong>典型应用</strong>：<ul><li>互斥信号量：初值为1，用于实现临界资源互斥访问（如<code>mutex=1</code>，<code>P(mutex)</code>进入临界区，<code>V(mutex)</code>退出）；</li><li>资源信号量：初值为资源总数（如缓冲池空缓冲区数<code>empty=n</code>），用于同步资源访问；</li><li>同步信号量：初值为0，用于实现进程间前趋关系（如进程A执行完<code>S1</code>后，通过<code>V(S)</code>唤醒进程B执行<code>S2</code>）。</li></ul></li></ul><h5 id="③-AND型信号量（解决多资源申请死锁）">③ AND型信号量（解决多资源申请死锁）</h5><ul><li><strong>背景</strong>：当进程需同时申请多个临界资源（如“哲学家进餐”问题中需同时拿两根筷子）时，若按顺序申请可能导致死锁（如每个哲学家都拿左筷子，再等右筷子）。</li><li><strong>核心思想</strong>：采用“原子操作”一次性申请所有所需资源，要么全部分配，要么一个不分配，避免部分资源占用导致的死锁。</li><li><strong>操作定义</strong>：<ul><li><code>Swait(S1, S2, ..., Sn)</code>：同时申请<code>S1~Sn</code>资源，所有资源可用时才分配；</li><li><code>Ssignal(S1, S2, ..., Sn)</code>：同时释放<code>S1~Sn</code>资源，唤醒等待进程。</li></ul></li><li><strong>示例</strong>：哲学家申请筷子时，通过<code>Swait(chopstick[i], chopstick[(i+1)%5])</code>同时申请左右筷子，避免死锁。</li></ul><h5 id="④-信号量集（批量资源申请）">④ 信号量集（批量资源申请）</h5><ul><li><strong>背景</strong>：记录型信号量每次仅能申请1个资源，若需批量申请（如一次申请3个缓冲区），需多次执行<code>P</code>操作，效率低且可能引发死锁。</li><li><strong>核心思想</strong>：支持一次申请多个资源，并可设置“资源分配下限”（不足下限不分配），操作定义如下：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Swait(S1, t1, d1, ..., Sn, tn, dn)：<br>- 对每个信号量Si，若Si &gt;= ti（ti为分配下限），则分配di个资源（Si = Si - di）；<br>- 否则，进程阻塞。<br>Ssignal(S1, d1, ..., Sn, dn)：<br>- 对每个信号量Si，释放di个资源（Si = Si + di），唤醒等待进程。<br></code></pre></td></tr></table></figure></li><li><strong>特殊场景</strong>：<ul><li><code>Swait(S, d, d)</code>：一次申请d个资源，不足d个则等待；</li><li><code>Swait(S, 1, 1)</code>：等同于记录型信号量（互斥或单个资源申请）；</li><li><code>Swait(S, 1, 0)</code>：仅测试资源状态（S&gt;=1时允许进入，S=0时禁止），可作为“可控开关”。</li></ul></li></ul><h4 id="（3）信号量的典型应用">（3）信号量的典型应用</h4><p>信号量可灵活实现<strong>进程互斥</strong>、<strong>进程同步（前趋关系）</strong> 和<strong>复杂协作场景</strong>，以下为常见应用案例：</p><h5 id="①-实现进程互斥">① 实现进程互斥</h5><ul><li><strong>逻辑</strong>：为临界资源设置互斥信号量<code>mutex</code>（初值1），进程进入临界区前执行<code>P(mutex)</code>（申请资源），退出时执行<code>V(mutex)</code>（释放资源）。</li><li><strong>示例</strong>：两个进程PA、PB互斥访问打印机：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c">semaphore mutex = <span class="hljs-number">1</span>;  <span class="hljs-comment">// 互斥信号量，初值1</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">PA</span><span class="hljs-params">()</span>&#123; <br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>        P(mutex);    <span class="hljs-comment">// 申请打印机</span><br>        临界区（使用打印机）;<br>        V(mutex);    <span class="hljs-comment">// 释放打印机</span><br>        剩余区;<br>    &#125;<br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">PB</span><span class="hljs-params">()</span>&#123; <br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>        P(mutex);    <span class="hljs-comment">// 申请打印机</span><br>        临界区（使用打印机）;<br>        V(mutex);    <span class="hljs-comment">// 释放打印机</span><br>        剩余区;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>注意</strong>：<code>P</code>、<code>V</code>操作必须成对出现，缺<code>P</code>会导致互斥失效，缺<code>V</code>会导致资源永久占用。</li></ul><h5 id="②-实现进程前趋关系">② 实现进程前趋关系</h5><ul><li><strong>逻辑</strong>：为每个前趋关系设置同步信号量（初值0），前趋操作执行完后<code>V</code>操作（唤醒后续进程），后续操作执行前<code>P</code>操作（等待前趋完成）。</li><li><strong>示例</strong>：进程P1的S1执行后，P2的S2和P3的S3才能执行：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c">semaphore a = <span class="hljs-number">0</span>, b = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 同步信号量，初值0</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">P1</span><span class="hljs-params">()</span>&#123; <br>    S1; <br>    V(a);  <span class="hljs-comment">// S1完成，唤醒P2</span><br>    V(b);  <span class="hljs-comment">// S1完成，唤醒P3</span><br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">P2</span><span class="hljs-params">()</span>&#123; <br>    P(a);  <span class="hljs-comment">// 等待S1完成</span><br>    S2; <br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">P3</span><span class="hljs-params">()</span>&#123; <br>    P(b);  <span class="hljs-comment">// 等待S1完成</span><br>    S3; <br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h5 id="③-案例1：过独木桥问题">③ 案例1：过独木桥问题</h5><ul><li><strong>需求</strong>：同一方向行人可连续过桥，反向行人需等待当前方向无人后才能过桥。</li><li><strong>实现</strong>：设置互斥信号量<code>mutex</code>（控制桥的独占）、方向计数信号量<code>leftm</code>/<code>rightm</code>（保护方向计数器），通过计数器判断是否需申请桥资源：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c">semaphore mutex = <span class="hljs-number">1</span>, leftm = <span class="hljs-number">1</span>, rightm = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> countleft = <span class="hljs-number">0</span>, countright = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 左右方向过桥人数</span><br><span class="hljs-comment">// 左→右过桥</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">leftToRight</span><span class="hljs-params">()</span>&#123; <br>    P(leftm);                <span class="hljs-comment">// 保护countleft</span><br>    <span class="hljs-keyword">if</span>(countleft == <span class="hljs-number">0</span>)       <span class="hljs-comment">// 第一个左→右行人，申请桥</span><br>        P(mutex);<br>    countleft++;             <span class="hljs-comment">// 左→右人数加1</span><br>    V(leftm);                <span class="hljs-comment">// 释放countleft</span><br>    <br>    过桥;                    <span class="hljs-comment">// 临界区</span><br>    <br>    P(leftm);                <span class="hljs-comment">// 保护countleft</span><br>    countleft--;             <span class="hljs-comment">// 左→右人数减1</span><br>    <span class="hljs-keyword">if</span>(countleft == <span class="hljs-number">0</span>)       <span class="hljs-comment">// 最后一个左→右行人，释放桥</span><br>        V(mutex);<br>    V(leftm);                <span class="hljs-comment">// 释放countleft</span><br>&#125;<br><span class="hljs-comment">// 右→左过桥逻辑类似，操作countright和rightm</span><br></code></pre></td></tr></table></figure></li></ul><h5 id="④-案例2：父子四人水果问题">④ 案例2：父子四人水果问题</h5><ul><li><strong>需求</strong>：父亲放苹果、母亲放桔子，儿子吃桔子、女儿吃苹果，盘子仅能放1个水果。</li><li><strong>实现</strong>：设置信号量<code>empty</code>（盘子空，初值1）、<code>apple</code>（苹果数量，初值0）、<code>orange</code>（桔子数量，初值0）、<code>mutex</code>（保护盘子操作）：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c">semaphore mutex = <span class="hljs-number">1</span>, apple = <span class="hljs-number">0</span>, orange = <span class="hljs-number">0</span>, empty = <span class="hljs-number">1</span>;<br><span class="hljs-comment">// 父亲放苹果</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">father</span><span class="hljs-params">()</span>&#123; <br>    P(empty);    <span class="hljs-comment">// 申请空盘子</span><br>    P(mutex);    <span class="hljs-comment">// 保护盘子操作</span><br>    放苹果;<br>    V(mutex);    <span class="hljs-comment">// 释放盘子</span><br>    V(apple);    <span class="hljs-comment">// 通知女儿有苹果</span><br>&#125;<br><span class="hljs-comment">// 母亲放桔子（类似父亲，操作empty和orange）</span><br><span class="hljs-comment">// 女儿吃苹果（P(apple)申请苹果，V(empty)释放盘子）</span><br><span class="hljs-comment">// 儿子吃桔子（类似女儿，操作orange和empty）</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="3-管程机制（封装式同步机制）">3. 管程机制（封装式同步机制）</h3><p>信号量机制需在每个进程中手动编写<code>P</code>、<code>V</code>操作，同步逻辑分散且易出错（如<code>P</code>、<code>V</code>顺序颠倒）。管程机制通过“封装共享资源和操作”，实现同步逻辑的集中管理，确保每次仅一个进程进入管程，简化同步实现。</p><h4 id="（1）管程的定义与结构">（1）管程的定义与结构</h4><ul><li><strong>定义</strong>：管程是一个抽象数据类型，包含“共享数据结构”、“操作共享数据的过程”、“条件变量”和“初始化代码”，进程需通过管程提供的过程访问共享资源。</li><li><strong>核心特性</strong>：<strong>互斥性</strong>——管程确保每次仅一个进程执行其内部过程，无需进程手动实现互斥；<strong>同步性</strong>——通过条件变量实现进程间的协作等待与唤醒。</li><li><strong>结构组成</strong>：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Monitor 管程名&#123;<br>    共享变量声明;          // 管程管理的共享资源（如缓冲池、计数器）<br>    条件变量声明;          // 用于进程同步的条件变量（如notfull、notempty）<br>public:<br>    过程1(参数)&#123; ... &#125;     // 访问共享资源的过程（如put、get）<br>    过程2(参数)&#123; ... &#125;     // 访问共享资源的过程<br>    ...<br>    初始化代码;            // 初始化共享变量和条件变量<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="（2）条件变量（管程中的同步工具）">（2）条件变量（管程中的同步工具）</h4><p>管程通过条件变量实现进程间的同步等待与唤醒，条件变量仅能在管程内部使用，提供<code>wait</code>和<code>signal</code>两个操作：</p><ul><li><strong>条件变量的作用</strong>：当进程通过管程申请资源失败时，通过<code>wait</code>进入条件队列阻塞（释放管程）；当资源可用时，其他进程通过<code>signal</code>唤醒阻塞进程。</li><li><strong>核心操作</strong>：<ul><li><code>x.wait()</code>：当前进程因<code>x</code>条件阻塞，插入<code>x</code>的等待队列，释放管程，允许其他进程进入；</li><li><code>x.signal()</code>：当前进程触发<code>x</code>条件，唤醒<code>x</code>等待队列的一个进程（若队列非空）；若唤醒后存在进程竞争，需按规则处理（如唤醒进程优先执行或当前进程继续执行）。</li></ul></li></ul><h4 id="（3）管程的优势">（3）管程的优势</h4><ul><li><strong>封装性</strong>：同步逻辑集中在管程内部，进程无需关注细节，降低编程复杂度；</li><li><strong>安全性</strong>：管程自动实现互斥，避免<code>P</code>、<code>V</code>操作遗漏或顺序错误导致的同步问题；</li><li><strong>可维护性</strong>：同步逻辑修改仅需调整管程内部，无需修改所有相关进程。</li></ul><h2 id="五、核心总结">五、核心总结</h2><p>进程同步的本质是解决“并发导致的资源争夺与协作混乱”，其核心逻辑可归纳为：</p><ol><li><strong>识别临界资源与临界区</strong>：明确需互斥访问的资源及对应代码段，是同步设计的基础；</li><li><strong>选择合适的同步机制</strong>：硬件机制适用于简单场景，信号量机制灵活通用（互斥、同步、多资源），管程机制适用于复杂共享资源管理；</li><li><strong>遵循同步规则</strong>：确保同步机制满足“空闲让进、忙则等待、有限等待、让权等待”，兼顾效率与公平性；</li><li><strong>典型应用场景</strong>：通过信号量或管程可解决“互斥访问”“前趋关系”“多资源协作”等问题，需结合具体需求设计同步逻辑（如“生产者-消费者”“哲学家进餐”等经典问题）。</li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;进程同步是多道程序环境下协调进程并发执行的核心机制。引入进程后，虽能通过并发提升资源利用率和系统吞吐量，但进程对共享资源的无序争夺会导致执行结果不可再现。进程同步的本质是通过特定规则协调进程执行次序，确保共享资源有序访问与进程间高效协作，使程序执行具备可再现性。&lt;/p&gt;
&lt;</summary>
        
      
    
    
    
    <category term="操作系统" scheme="https://hellowydwyd.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="操作系统" scheme="https://hellowydwyd.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>进程控制</title>
    <link href="https://hellowydwyd.github.io/2025/10/16/%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6/"/>
    <id>https://hellowydwyd.github.io/2025/10/16/%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6/</id>
    <published>2025-10-16T06:04:01.000Z</published>
    <updated>2025-10-16T06:04:53.786Z</updated>
    
    <content type="html"><![CDATA[<p>进程控制是操作系统中进程管理的核心功能，负责进程从创建到终止的全生命周期管理，以及运行过程中的状态转换。其本质是通过操作系统内核中的<strong>原语</strong>（执行原子操作的程序段）实现，确保操作的完整性和不可中断性，避免并发环境下的执行混乱。</p><h2 id="一、进程控制的核心基础：原语">一、进程控制的核心基础：原语</h2><h3 id="1-原语的定义与特性">1. 原语的定义与特性</h3><ul><li><strong>定义</strong>：原语是操作系统内核中执行特定功能的程序段，运行在系统态，用于完成进程控制中的关键操作（如创建、终止进程）。</li><li><strong>核心特性</strong>：执行<strong>原子操作</strong>——要么完整执行，要么完全不执行，中途不允许被中断（如CPU调度、中断处理），确保进程状态转换和资源操作的一致性。</li></ul><h2 id="二、进程的创建">二、进程的创建</h2><p>进程创建是从“无进程实体”到“可调度就绪进程”的过程，遵循层次化管理逻辑，由父进程创建子进程，形成进程家族树。</p><h3 id="1-进程的层次结构">1. 进程的层次结构</h3><ul><li><strong>父子进程关系</strong>：创建进程的为<strong>父进程</strong>，被创建的为<strong>子进程</strong>；子进程可进一步创建孙进程，形成树状层次结构（进程图）。</li><li><strong>资源继承规则</strong>：子进程默认继承父进程的部分资源（如内存空间、打开的文件、信号量），子进程终止后需将资源归还给父进程；若父进程终止，其所有子孙进程必须同时被终止，避免“孤儿进程”。</li></ul><h3 id="2-引起进程创建的典型事件">2. 引起进程创建的典型事件</h3><p>进程创建由系统或用户触发，具体场景分为四类：</p><table><thead><tr><th>触发事件</th><th>适用系统</th><th>创建主体</th><th>示例</th></tr></thead><tbody><tr><td>用户登录</td><td>分时系统（如Linux终端登录）</td><td>操作系统内核</td><td>用户输入账号密码登录后，系统为其创建Shell进程</td></tr><tr><td>作业调度</td><td>批处理系统</td><td>操作系统内核</td><td>作业调度程序从后备队列中选择作业，为其创建进程并分配资源</td></tr><tr><td>提供服务</td><td>通用OS</td><td>操作系统内核</td><td>用户请求打印服务时，系统创建打印进程处理任务</td></tr><tr><td>应用请求</td><td>多进程应用</td><td>用户进程（父进程）</td><td>浏览器进程为新标签页创建子进程，实现多标签并发</td></tr></tbody></table><h3 id="3-进程创建的步骤（创建原语Creat执行流程）">3. 进程创建的步骤（创建原语<code>Creat</code>执行流程）</h3><ol><li><strong>申请空白PCB</strong>：为新进程分配唯一的内部标识符（如进程ID），并从系统PCB集合中获取一个空白PCB（进程存在的唯一标志）。</li><li><strong>分配资源</strong>：为新进程分配运行所需的资源，包括物理资源（内存块、I/O设备）和逻辑资源（文件句柄、信号量）；若资源不足，进程可能暂存于“创建状态”，等待资源释放。</li><li><strong>初始化PCB</strong>：填写PCB中的关键信息，包括：<ul><li>进程标识符（内部ID、外部名称）；</li><li>处理机状态（初始化通用寄存器、程序计数器PC指向进程入口地址）；</li><li>进程调度信息（初始状态设为“就绪”、默认优先级）；</li><li>资源清单（记录已分配的资源地址）。</li></ul></li><li><strong>插入就绪队列</strong>：若就绪队列未满，将新进程的PCB插入就绪队列，等待CPU调度。</li></ol><h2 id="三、进程的终止">三、进程的终止</h2><p>进程终止是从“运行/阻塞/就绪状态”到“释放所有资源并消亡”的过程，需处理资源回收和子进程清理。</p><h3 id="1-引起进程终止的典型事件">1. 引起进程终止的典型事件</h3><p>进程终止分为正常结束、异常结束和外界干预三类：</p><table><thead><tr><th>终止类型</th><th>具体场景</th><th>示例</th></tr></thead><tbody><tr><td>正常结束</td><td>进程完成预定任务</td><td>计算进程完成数据运算后主动终止</td></tr><tr><td>异常结束</td><td>进程运行中出现不可恢复错误</td><td>越界访问内存（越界错）、执行非法指令、I/O设备故障</td></tr><tr><td>外界干预</td><td>外部请求强制终止进程</td><td>操作员通过命令杀死进程（如<code>kill</code>命令）、父进程请求终止子进程、父进程自身终止</td></tr></tbody></table><h3 id="2-进程终止的步骤（终止原语执行流程）">2. 进程终止的步骤（终止原语执行流程）</h3><ol><li><strong>定位PCB</strong>：根据被终止进程的标识符（如PID），从系统PCB集合中检索其PCB，获取进程当前状态（执行/就绪/阻塞）。</li><li><strong>终止执行（若需）</strong>：若进程正处于“执行状态”，立即终止其CPU执行，设置“调度标志”为真，通知调度程序重新选择就绪进程。</li><li><strong>清理子孙进程</strong>：若该进程有子孙进程，需递归终止所有子孙进程，避免其成为无管理的“孤儿进程”。</li><li><strong>回收资源</strong>：将进程占用的所有资源归还给父进程（继承的资源）或系统（全局资源，如内存、I/O设备）。</li><li><strong>移除PCB</strong>：将被终止进程的PCB从所在队列（就绪队列/阻塞队列）中移出，清空PCB内容并释放PCB空间给系统。</li></ol><h2 id="四、进程的阻塞与唤醒">四、进程的阻塞与唤醒</h2><p>阻塞与唤醒是进程“主动暂停”与“被动恢复”的一对操作，针对进程等待某事件（如I/O完成、资源可用）的场景，需配合执行以避免“永久阻塞”。</p><h3 id="1-引起阻塞-唤醒的典型事件">1. 引起阻塞/唤醒的典型事件</h3><p>进程因等待特定事件而阻塞，事件完成后被唤醒，具体场景包括：</p><ul><li>向系统请求共享资源失败（如申请打印机时，打印机正被占用）；</li><li>等待某操作完成（如进程发起磁盘读操作后，等待I/O完成）；</li><li>等待新数据到达（如网络进程等待客户端发送的数据包）；</li><li>等待新任务分配（如服务器进程等待用户请求）。</li></ul><h3 id="2-进程阻塞过程（阻塞原语block执行流程）">2. 进程阻塞过程（阻塞原语<code>block</code>执行流程）</h3><p>阻塞是进程的<strong>主动行为</strong>（进程自身因等待事件而放弃CPU），步骤如下：</p><ol><li><strong>暂停执行</strong>：若进程当前处于“执行状态”，立即停止其CPU执行，保存处理机上下文（通用寄存器、PC、PSW）到PCB。</li><li><strong>修改状态</strong>：将PCB中的进程状态从“执行”改为“阻塞”，并记录阻塞原因（如“等待I/O”）。</li><li><strong>插入阻塞队列</strong>：根据阻塞原因，将PCB插入对应事件的阻塞队列（如I/O阻塞队列、资源阻塞队列）；若系统仅设一个通用阻塞队列，则直接插入队尾。</li><li><strong>重新调度</strong>：触发CPU调度程序，从就绪队列中选择新进程分配CPU，切换处理机上下文（加载新进程的PCB信息）。</li></ol><h3 id="3-进程唤醒过程（唤醒原语wakeup执行流程）">3. 进程唤醒过程（唤醒原语<code>wakeup</code>执行流程）</h3><p>唤醒是进程的<strong>被动行为</strong>（由其他进程或系统触发），步骤如下：</p><ol><li><strong>移出阻塞队列</strong>：当阻塞进程等待的事件发生（如I/O完成），由触发事件的进程（如I/O进程）调用唤醒原语，将该进程的PCB从对应阻塞队列中移出。</li><li><strong>修改状态</strong>：将PCB中的进程状态从“阻塞”改为“就绪”。</li><li><strong>插入就绪队列</strong>：将PCB插入就绪队列，等待CPU调度；若系统采用优先级调度，按进程优先级插入对应位置。</li></ol><h3 id="4-关键约束">4. 关键约束</h3><p>阻塞与唤醒必须<strong>成对出现</strong>：若某进程调用阻塞原语，必须在另一进程（或系统）中安排唤醒原语；否则阻塞进程会因无人唤醒而永久处于“阻塞状态”，浪费系统资源。</p><h2 id="五、进程的挂起与激活">五、进程的挂起与激活</h2><p>挂起与激活是进程“静止”与“活动”的切换，用于满足用户调试、系统负荷调节等需求，使进程暂时脱离调度队列。</p><h3 id="1-引入挂起状态的原因">1. 引入挂起状态的原因</h3><p>挂起操作将进程从“可调度状态”转为“静止状态”，核心目的包括：</p><ul><li><strong>终端用户需求</strong>：用户调试程序时，暂停进程运行以查看中间结果；</li><li><strong>父进程请求</strong>：父进程暂停子进程，避免其干扰其他进程（如子进程异常时挂起排查）；</li><li><strong>负荷调节</strong>：系统负载过高（如CPU利用率达100%）时，挂起部分非关键进程，释放资源；</li><li><strong>操作系统需求</strong>：系统进行内存对换时，将暂时不用的进程挂起并换出到外存，释放内存空间。</li></ul><h3 id="2-进程的挂起（挂起原语Suspend执行流程）">2. 进程的挂起（挂起原语<code>Suspend</code>执行流程）</h3><p>挂起的核心是改变进程的“活动/静止”属性，不释放进程已占用的资源，步骤如下：</p><ol><li><strong>检查进程状态</strong>：<ul><li>若进程处于“活动就绪”状态，将其改为“静止就绪”（暂不参与CPU调度）；</li><li>若进程处于“活动阻塞”状态，将其改为“静止阻塞”（即使等待事件发生，仍需激活后才能就绪）；</li><li>若进程处于“执行状态”，立即暂停其CPU执行，改为“静止就绪”，并触发重新调度。</li></ul></li></ol><h3 id="3-进程的激活（激活原语Active执行流程）">3. 进程的激活（激活原语<code>Active</code>执行流程）</h3><p>激活是挂起的逆操作，将进程从外存或静止队列恢复为可调度状态，步骤如下：</p><ol><li><strong>资源恢复（若需）</strong>：若进程被挂起时换出到外存，先将其代码和数据调入内存。</li><li><strong>检查进程状态</strong>：<ul><li>若进程处于“静止就绪”状态，将其改为“活动就绪”，插入就绪队列；</li><li>若进程处于“静止阻塞”状态，将其改为“活动阻塞”，插入对应阻塞队列（等待事件发生后可转为就绪）。</li></ul></li></ol><h2 id="六、核心总结：进程控制的本质与关键逻辑">六、核心总结：进程控制的本质与关键逻辑</h2><ol><li><strong>生命周期闭环</strong>：进程控制覆盖“创建→就绪→执行→阻塞→唤醒→终止”全流程，通过原语确保每个环节的原子性和一致性。</li><li><strong>状态转换核心</strong>：所有控制操作围绕“进程状态变更”展开，核心状态转换路径为：<br><code>创建→就绪→执行→（时间片完→就绪）/（等待事件→阻塞→唤醒→就绪）→终止</code></li><li><strong>资源与调度分离</strong>：进程创建/终止负责“资源分配与回收”，阻塞/唤醒、挂起/激活负责“调度资格管理”，二者配合实现高效的多进程并发。</li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;进程控制是操作系统中进程管理的核心功能，负责进程从创建到终止的全生命周期管理，以及运行过程中的状态转换。其本质是通过操作系统内核中的&lt;strong&gt;原语&lt;/strong&gt;（执行原子操作的程序段）实现，确保操作的完整性和不可中断性，避免并发环境下的执行混乱。&lt;/p&gt;
&lt;h2</summary>
        
      
    
    
    
    <category term="操作系统" scheme="https://hellowydwyd.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="操作系统" scheme="https://hellowydwyd.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>进程的描述</title>
    <link href="https://hellowydwyd.github.io/2025/10/16/%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0/"/>
    <id>https://hellowydwyd.github.io/2025/10/16/%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0/</id>
    <published>2025-10-16T05:39:45.000Z</published>
    <updated>2025-10-16T06:04:25.723Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、进程的核心定位与实体构成">一、进程的核心定位与实体构成</h2><h3 id="1-进程的核心作用">1. 进程的核心作用</h3><p>在多道程序批处理系统和分时系统中，<strong>程序无法独立运行</strong>，进程是OS中<strong>资源分配和独立运行的基本单位</strong>。操作系统的并发、共享、虚拟、异步四大基本特征，均基于进程实现。</p><h3 id="2-进程实体的组成">2. 进程实体的组成</h3><p>进程实体（进程映像）由三部分构成，缺一不可：</p><ul><li><strong>程序段</strong>：存放进程执行的指令序列，是进程运行的“逻辑依据”。</li><li><strong>相关数据段</strong>：存放进程运行所需的数据（如变量、常量、输入输出数据等），是程序段操作的对象。</li><li><strong>进程控制块（PCB）</strong>：OS用于管理和控制进程的核心数据结构，是进程存在的唯一标志，后续章节将详细展开。</li></ul><h2 id="二、进程与程序的核心区别">二、进程与程序的核心区别</h2><p>进程与程序是OS中的两个关键概念，二者差异显著，具体对比如下：</p><table><thead><tr><th>对比维度</th><th>进程</th><th>程序</th></tr></thead><tbody><tr><td>存在形态</td><td>动态实体</td><td>静态实体</td></tr><tr><td>生命周期</td><td>暂时的（从创建到撤销，有明确生命周期）</td><td>永久的（以文件形式存储在磁盘，无生命周期限制）</td></tr><tr><td>数据结构</td><td>拥有独立的PCB，记录进程状态、资源等信息</td><td>无专用数据结构，仅为指令和数据的有序集合</td></tr><tr><td>运行方式</td><td>可独立调度、抢占CPU运行</td><td>无法独立运行，需依托进程实体</td></tr><tr><td>资源占用</td><td>运行时占用系统资源（如内存、CPU、I/O设备）</td><td>存储时仅占用磁盘空间，不占用运行资源</td></tr></tbody></table><h2 id="三、进程的定义与核心特征">三、进程的定义与核心特征</h2><h3 id="1-进程的典型定义">1. 进程的典型定义</h3><p>从不同角度出发，进程有多种权威定义，核心围绕“动态运行”和“独立单位”两大核心：</p><ol><li>进程是<strong>程序的一次执行过程</strong>（强调动态性）；</li><li>进程是<strong>程序及其数据在处理机上顺序执行时的活动</strong>（强调执行场景）；</li><li>进程是<strong>具有独立功能的程序在数据集合上的运行过程，是系统资源分配和调度的独立单位</strong>（强调资源与调度属性）；</li><li>结合进程实体概念，传统OS中进程定义为：<strong>进程是进程实体的运行过程，是系统资源分配和调度的独立单位</strong>（最全面的定义）。</li></ol><h3 id="2-进程的四大核心特征">2. 进程的四大核心特征</h3><p>进程的特征是其与程序、线程的关键区分点，其中动态性是最根本特征：</p><ul><li><strong>动态性</strong>：进程最基本的特征。进程由“创建”产生，经“调度”执行，因“资源不足”暂停，最终由“撤销”消亡，整个生命周期有明确的状态变化。</li><li><strong>并发性</strong>：多个进程可在同一时间段内交替执行（宏观并发、微观交替）。需注意：<strong>未建立PCB的程序无法并发执行</strong>，只有进程具备并发能力。</li><li><strong>独立性</strong>：进程是能独立运行、独立获取资源（如内存、I/O）、独立接受调度的基本单位。非进程形态的程序（如无PCB的代码）无法独立参与系统运行。</li><li><strong>异步性</strong>：进程按“各自独立、不可预知的速度”向前推进。即使初始条件相同，因调度时机、资源竞争等差异，进程完成时间也可能不同，需同步机制保证结果可再现。</li></ul><h2 id="四、进程的状态及转换">四、进程的状态及转换</h2><p>进程在生命周期中会因资源获取、事件触发等发生状态变化，核心状态分为“基本三状态”“扩展五状态”（含创建、终止）及“挂起状态”（含静止/活动子状态）。</p><h3 id="1-三大基本状态（核心状态）">1. 三大基本状态（核心状态）</h3><table><thead><tr><th>状态名称</th><th>定义</th><th>典型触发场景</th></tr></thead><tbody><tr><td><strong>就绪（Ready）状态</strong></td><td>进程已获得除CPU外的所有资源，只要分配到CPU即可立即执行</td><td>进程创建完成、I/O操作完成、时间片用完后重新进入就绪队列</td></tr><tr><td><strong>执行（Running）状态</strong></td><td>进程已获得CPU，正在执行指令</td><td>进程调度器选中某就绪进程，将CPU分配给它</td></tr><tr><td><strong>阻塞（Block）状态</strong></td><td>进程因等待某事件（如I/O完成、资源申请失败）暂时无法执行，即使有CPU也不能运行</td><td>进程发起I/O请求、申请共享资源失败、等待其他进程的信号</td></tr></tbody></table><h4 id="三大基本状态的转换逻辑">三大基本状态的转换逻辑</h4><ol><li>就绪 → 执行：进程调度器从就绪队列中选中一个进程，分配CPU；</li><li>执行 → 就绪：进程时间片用完，或有更高优先级进程进入就绪队列，当前进程释放CPU；</li><li>执行 → 阻塞：进程主动请求某事件（如I/O），或申请资源失败，主动放弃CPU；</li><li>阻塞 → 就绪：进程等待的事件发生（如I/O完成、资源可用），由OS唤醒后进入就绪队列。</li></ol><h3 id="2-扩展状态：创建状态与终止状态">2. 扩展状态：创建状态与终止状态</h3><p>为完整描述进程生命周期，在基本三状态基础上增加“创建”和“终止”状态：</p><ul><li><strong>创建状态</strong>：进程正在被OS创建的过程，尚未进入就绪状态。<ul><li>流程：申请空白PCB → 填写PCB信息（如进程标识、资源需求）→ 分配必要资源（如内存）→ 转入就绪状态；</li></ul></li><li><strong>终止状态</strong>：进程完成任务或因异常（如越界错、I/O故障）终止，等待OS善后处理的状态。<ul><li>流程：OS回收进程占用的资源（如内存、I/O设备）→ 清空PCB内容 → 释放PCB空间给系统。</li></ul></li></ul><h4 id="扩展后的状态转换（五状态）">扩展后的状态转换（五状态）</h4><ul><li>NULL（无状态）→ 创建：用户或系统发起进程创建请求；</li><li>创建 → 就绪：进程创建完成，资源分配到位；</li><li>执行 → 终止：进程正常完成或异常终止；</li><li>终止 → NULL：OS完成善后处理，PCB释放。</li></ul><h3 id="3-挂起状态与状态细分">3. 挂起状态与状态细分</h3><h4 id="引入挂起状态的原因">引入挂起状态的原因</h4><p>为满足系统和用户的特殊需求，引入“挂起（Suspend）”操作，使进程进入“静止状态”，对应的激活操作（Active）使进程恢复“活动状态”。引入原因包括：</p><ol><li>终端用户需求：用户暂停自己的进程（如调试程序时暂停运行）；</li><li>父进程请求：父进程暂停子进程，避免其干扰其他进程；</li><li>负荷调节需求：系统负载过高时，挂起部分进程释放资源；</li><li>操作系统需求：OS为进行资源整理（如内存对换），暂时挂起进程。</li></ol><h4 id="挂起后的状态细分与转换">挂起后的状态细分与转换</h4><p>挂起操作会将进程的“活动状态”转为“静止状态”，具体转换如下：</p><ol><li>活动就绪 → 静止就绪：挂起就绪状态的进程，暂不参与CPU调度；</li><li>活动阻塞 → 静止阻塞：挂起阻塞状态的进程，即使等待的事件发生，也需先激活才能进入活动阻塞；</li><li>静止就绪 → 活动就绪：激活静止就绪的进程，重新加入就绪队列，参与调度；</li><li>静止阻塞 → 活动阻塞：激活静止阻塞的进程，若后续等待事件发生，可直接转入活动就绪。</li></ol><h4 id="挂起状态的核心性质">挂起状态的核心性质</h4><p>处于挂起状态的进程，无论原状态是就绪还是阻塞，均<strong>无法接收CPU调度</strong>，必须经激活操作转为活动状态后，才能参与正常的状态转换。</p><h2 id="五、进程管理的数据结构">五、进程管理的数据结构</h2><p>OS通过专门的数据结构管理进程和资源，核心包括“进程控制块（PCB）”及PCB的组织方式。</p><h3 id="1-进程控制块（PCB）的核心作用">1. 进程控制块（PCB）的核心作用</h3><p>PCB是OS中最重要的记录型数据结构，是<strong>进程存在的唯一标志</strong>（OS通过PCB感知进程，无PCB则进程不存在），具体作用包括：</p><ol><li><strong>独立运行的标志</strong>：PCB记录进程的唯一标识和运行状态，OS通过PCB识别进程并调度；</li><li><strong>实现间断性运行</strong>：进程因I/O等事件暂停时，PCB保存其处理机上下文（如寄存器值、程序计数器），恢复时可从断点继续执行；</li><li><strong>提供进程管理信息</strong>：记录进程的程序/数据地址、资源清单（如占用的内存、I/O设备），供OS管理资源；</li><li><strong>提供进程调度信息</strong>：记录进程优先级、等待CPU时间、阻塞原因等，供调度器选择下一个执行进程；</li><li><strong>实现同步与通信</strong>：记录进程的同步信号量、消息队列指针等，支持进程间的协作与信息交换。</li></ol><h3 id="2-PCB中的关键信息">2. PCB中的关键信息</h3><p>PCB记录OS管理进程所需的全部信息，按功能可分为四类：</p><h4 id="（1）进程标识符（唯一标识进程）">（1）进程标识符（唯一标识进程）</h4><ul><li>外部标识符：由字母/数字组成，供用户使用（如“Chrome.exe”），由进程创建者提供；</li><li>内部标识符：系统分配的唯一数字（如进程ID），供OS内部管理（如调度、资源分配）。</li></ul><h4 id="（2）处理机状态（保存进程上下文）">（2）处理机状态（保存进程上下文）</h4><p>又称“处理机上下文”，记录进程暂停时CPU的状态，用于恢复执行：</p><ul><li>通用寄存器：用户可访问的寄存器，暂存运算数据；</li><li>指令计数器（PC）：存放进程下一条要执行的指令地址；</li><li>程序状态字（PSW）：含进程状态（如执行/就绪）、条件码（如运算结果正负）、中断屏蔽标志等；</li><li>用户栈指针：指向进程的用户栈，用于存放函数调用参数和返回地址。</li></ul><h4 id="（3）进程调度信息（供调度器使用）">（3）进程调度信息（供调度器使用）</h4><ul><li>进程状态：就绪/执行/阻塞/静止就绪/静止阻塞等；</li><li>进程优先级：决定进程被调度的优先顺序（优先级高的进程优先获得CPU）；</li><li>调度辅助信息：如等待CPU的总时间、已执行时间，用于调度算法（如时间片轮转、优先级调度）；</li><li>阻塞原因：记录进程阻塞的事件（如等待I/O、等待信号量）。</li></ul><h4 id="（4）进程控制信息（供OS管理进程）">（4）进程控制信息（供OS管理进程）</h4><ul><li>程序和数据地址：指向进程的程序段（如代码在内存的地址）和数据段（如变量存储地址）；</li><li>同步与通信机制：如进程使用的信号量、消息队列指针，支持进程间同步；</li><li>资源清单：记录进程占用的所有资源（除CPU外），如内存块、打开的文件、I/O设备；</li><li>链接指针：指向同一队列中其他进程的PCB地址（如就绪队列中下一进程的PCB指针）。</li></ul><h3 id="3-PCB的组织方式">3. PCB的组织方式</h3><p>OS通过特定方式组织所有进程的PCB，便于快速查找、插入和删除，常见组织方式有三种：</p><h4 id="（1）线性方式">（1）线性方式</h4><ul><li>实现逻辑：将所有PCB存放在一个连续的内存区域（PCB数组）；</li><li>优点：实现简单，查找时无需遍历指针，开销小；</li><li>缺点：遍历效率低（查找某进程需扫描整个数组），不适合进程数量多的系统；</li><li>适用场景：进程数量少的简单OS（如早期单道批处理系统）。</li></ul><h4 id="（2）链接方式">（2）链接方式</h4><ul><li>实现逻辑：按进程状态（如就绪、阻塞）将PCB链接成不同队列（就绪队列、阻塞队列），每个PCB含“下一个PCB指针”；</li><li>优点：按状态分类管理，插入/删除效率高（只需修改指针），适合进程数量多的系统；</li><li>缺点：查找某进程需遍历对应队列，依赖指针完整性；</li><li>典型结构：就绪队列指针指向第一个就绪进程的PCB，每个就绪PCB的指针指向后续就绪进程，队尾PCB指针为NULL。</li></ul><h4 id="（3）索引方式">（3）索引方式</h4><ul><li>实现逻辑：为不同状态的进程建立“索引表”（如就绪索引表、阻塞索引表），索引表的每个条目指向对应状态的PCB；</li><li>优点：查找效率高（先查索引表确定PCB位置，再直接访问），支持快速定位不同状态的进程；</li><li>缺点：需额外存储索引表，占用少量内存；</li><li>适用场景：进程数量多、对查找效率要求高的OS（如现代分时系统）。</li></ul>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;一、进程的核心定位与实体构成&quot;&gt;一、进程的核心定位与实体构成&lt;/h2&gt;
&lt;h3 id=&quot;1-进程的核心作用&quot;&gt;1.</summary>
        
      
    
    
    
    <category term="操作系统" scheme="https://hellowydwyd.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="操作系统" scheme="https://hellowydwyd.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>前趋图和程序执行</title>
    <link href="https://hellowydwyd.github.io/2025/10/16/%E5%89%8D%E8%B6%8B%E5%9B%BE%E5%92%8C%E7%A8%8B%E5%BA%8F%E6%89%A7%E8%A1%8C/"/>
    <id>https://hellowydwyd.github.io/2025/10/16/%E5%89%8D%E8%B6%8B%E5%9B%BE%E5%92%8C%E7%A8%8B%E5%BA%8F%E6%89%A7%E8%A1%8C/</id>
    <published>2025-10-16T05:26:34.000Z</published>
    <updated>2025-10-16T05:29:24.319Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、前趋图（Precedence-Graph）">一、前趋图（Precedence Graph）</h2><h3 id="1-定义与本质">1. 定义与本质</h3><p>前趋图是一种<strong>有向无循环图（DAG, Directed Acyclic Graph）</strong>，核心作用是描述进程、程序段或语句之间的<strong>执行先后顺序</strong>，清晰呈现“谁必须在谁之前执行”的偏序（Partial Order）或前趋关系。</p><h3 id="2-组成要素">2. 组成要素</h3><ul><li><strong>结点</strong>：可代表一个进程、一个程序段或一条语句，是执行的基本单元。</li><li><strong>有向边</strong>：表示两个结点间的前趋关系，例如若存在边 <code>A→B</code>，则意味着A执行完成后，B才能开始执行。</li></ul><h3 id="3-关键特性">3. 关键特性</h3><ul><li>必须<strong>无循环</strong>：若存在循环（如 <code>A→B→A</code>），会导致执行顺序矛盾，无法正常调度，因此含循环的图（如文档中“具有循环的前趋图”）不具备实际执行意义。</li><li>可直观展示顺序与并发边界：通过边的连接，能快速判断哪些单元必须顺序执行（有直接或间接边连接），哪些可并发执行（无任何边连接）。</li></ul><h2 id="二、程序的顺序执行">二、程序的顺序执行</h2><h3 id="1-定义">1. 定义</h3><p>程序执行时遵循“<strong>严格先后次序</strong>”，即一个应用程序的若干程序段（或一条语句的若干操作）中，仅当前一个程序段（或操作）完全执行完毕，后一个才允许开始。例如文档中：</p><ul><li>程序段的顺序关系：<code>Ii（输入）→ Ci（计算）→ Pi（输出）</code>，输入完成后才能计算，计算完成后才能输出。</li><li>语句的顺序关系：<code>S1: a := x+y → S2: b := a-5 → S3: c := b+1</code>，S1的结果是S2的输入，S2的结果是S3的输入，必须依次执行。</li></ul><h3 id="2-典型执行场景">2. 典型执行场景</h3><p>早期<strong>未配置OS的系统</strong>和<strong>单道批处理系统</strong>中，内存仅装入一道用户程序，该程序独占CPU、内存等所有系统资源，直到执行完成才释放资源，装入下一个程序。</p><h3 id="3-核心特征">3. 核心特征</h3><table><thead><tr><th>特征</th><th>具体说明</th></tr></thead><tbody><tr><td><strong>顺序性</strong></td><td>程序执行路径唯一，每个操作的开始和结束时间完全确定，无“暂停-恢复”的间断。</td></tr><tr><td><strong>封闭性</strong></td><td>程序运行在“独占资源”的封闭环境中，资源状态仅由当前程序修改，不受外界（其他程序）影响。</td></tr><tr><td><strong>可再现性</strong></td><td>只要执行环境（如硬件配置）和初始条件（如输入数据）相同，无论执行多少次，最终结果完全一致。</td></tr></tbody></table><h2 id="三、程序的并发执行">三、程序的并发执行</h2><h3 id="1-定义-2">1. 定义</h3><p>多个程序段（或语句）在<strong>时间上重叠执行</strong>，即一个程序段尚未执行完成，另一个程序段便可开始执行，但前提是二者<strong>不存在前趋关系</strong>（无直接或间接依赖）。例如文档中：</p><ul><li>语句组 <code>S1: a=x+2</code>、<code>S2: b=y+4</code>、<code>S3: c=a+b</code>、<code>S4: d=c+b</code> 中，S1和S2无依赖（分别依赖x、y，互不影响），可并发执行；但S3必须等待S1、S2都完成，S4必须等待S3完成。</li></ul><h3 id="2-典型执行场景-2">2. 典型执行场景</h3><p><strong>多道批处理系统</strong>和<strong>分时系统</strong>中，内存可装入多道程序，OS通过调度让多道程序交替使用CPU，实现并发执行，以提高资源利用率（如CPU不再空闲等待I/O）和系统吞吐量。</p><h3 id="3-核心特征（与顺序执行完全相反）">3. 核心特征（与顺序执行完全相反）</h3><table><thead><tr><th>特征</th><th>具体说明</th><th>示例（文档中N值问题）</th></tr></thead><tbody><tr><td><strong>间断性</strong></td><td>程序执行过程中会因“等待资源”（如等待CPU、等待I/O完成）而频繁“执行-暂停-执行”，执行路径不连续。</td><td>-</td></tr><tr><td><strong>失去封闭性</strong></td><td>多程序共享系统资源（如共享变量、打印机），一个程序对资源状态的修改会影响其他程序的执行，环境不再封闭。</td><td>程序A（<code>N:=N+1</code>）与另两个程序（<code>Print(N)</code>、<code>N:=0</code>）共享变量N，A的执行顺序会改变N的最终值。</td></tr><tr><td><strong>不可再现性</strong></td><td>即使初始条件相同，因并发执行时资源竞争的顺序不同，最终结果可能不一致。</td><td>1. A在<code>Print(N)</code>和<code>N:=0</code>前执行：N值为<code>n+1</code>、<code>n+1</code>、0；<br>2. A在<code>Print(N)</code>和<code>N:=0</code>后执行：N值为<code>n</code>、0、1；<br>3. A在<code>Print(N)</code>和<code>N:=0</code>间执行：N值为<code>n</code>、<code>n+1</code>、0。</td></tr></tbody></table><h2 id="四、核心对比与关键结论">四、核心对比与关键结论</h2><table><thead><tr><th>维度</th><th>程序顺序执行</th><th>程序并发执行</th></tr></thead><tbody><tr><td>执行方式</td><td>单道程序独占资源，严格先后</td><td>多道程序共享资源，时间重叠</td></tr><tr><td>资源利用率</td><td>低（CPU、I/O设备易空闲）</td><td>高（CPU与I/O可并行工作）</td></tr><tr><td>执行稳定性</td><td>稳定（封闭、可再现）</td><td>不稳定（需同步机制协调）</td></tr><tr><td>适用场景</td><td>早期简单系统（无OS、单道批处理）</td><td>现代OS（多道批处理、分时、实时）</td></tr></tbody></table><h3 id="关键结论">关键结论</h3><p>程序并发执行虽能提升系统效率，但会因“失去封闭性和可再现性”导致执行结果不可控，因此必须配置<strong>进程同步机制</strong>（如后续章节的信号量、管程），协调多程序对共享资源的访问，确保执行结果可预期。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;一、前趋图（Precedence-Graph）&quot;&gt;一、前趋图（Precedence Graph）&lt;/h2&gt;
&lt;h3 id=&quot;1-定义与本质&quot;&gt;1. 定义与本质&lt;/h3&gt;
&lt;p&gt;前趋图是一种&lt;strong&gt;有向无循环图（DAG, Directed Acyclic</summary>
        
      
    
    
    
    <category term="操作系统" scheme="https://hellowydwyd.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="操作系统" scheme="https://hellowydwyd.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>评估方法</title>
    <link href="https://hellowydwyd.github.io/2025/10/09/%E8%AF%84%E4%BC%B0%E6%96%B9%E6%B3%95/"/>
    <id>https://hellowydwyd.github.io/2025/10/09/%E8%AF%84%E4%BC%B0%E6%96%B9%E6%B3%95/</id>
    <published>2025-10-09T07:03:29.000Z</published>
    <updated>2025-10-09T07:55:33.059Z</updated>
    
    <content type="html"><![CDATA[<h1>机器学习模型评估完整指南</h1><p>在机器学习中，模型评估是验证模型泛化能力、选择最优方案、定位性能缺陷的核心环节。评估方法需结合<strong>任务类型</strong>（分类/回归/聚类）、<strong>数据特性</strong>（是否有标签、数据量大小）和<strong>业务目标</strong>（如侧重精准度或召回率）设计，避免因&quot;过拟合&quot;&quot;数据泄露&quot;导致的虚假高性能。以下从「核心评估框架」「分任务评估指标」「进阶评估策略」三个维度，系统梳理模型评估方法。</p><hr><h2 id="一、核心评估框架：如何划分数据？">一、核心评估框架：如何划分数据？</h2><p>评估的前提是合理分割数据——将数据集分为「训练集」（用于模型学习）、「验证集」（用于调参和中间验证）、「测试集」（用于最终性能评估），避免模型&quot;见过&quot;测试数据导致结果失真。常见的数据划分框架有3种：</p><h3 id="1-简单划分法（Hold-Out）">1. 简单划分法（Hold-Out）</h3><p>最基础的评估框架，适合<strong>数据量较大</strong>（如百万级样本）的场景，操作简单但随机性强。</p><ul><li><p><strong>步骤</strong>：</p><ol><li>将原始数据集按固定比例（如7:1:2）随机划分为训练集、验证集、测试集；</li><li>用训练集训练模型，用验证集调整超参数（如学习率、树深度）；</li><li>最终用<strong>未接触过的测试集</strong>评估模型泛化能力。</li></ol></li><li><p><strong>优点</strong>：计算速度快，适合快速迭代验证。</p></li><li><p><strong>缺点</strong>：划分结果受随机种子影响大（若测试集恰好是&quot;易预测样本&quot;，结果会偏高）；数据量较小时，验证集/测试集样本量不足，评估不稳定。</p></li><li><p><strong>优化建议</strong>：固定随机种子，多次划分取平均；若数据量极小（如&lt;1000样本），不建议使用。</p></li></ul><h3 id="2-交叉验证法（Cross-Validation-CV）">2. 交叉验证法（Cross-Validation, CV）</h3><p>解决简单划分法的随机性问题，适合<strong>数据量中等</strong>（如万级样本）的场景，是学术研究和工业界调参的主流方法。</p><ul><li><p><strong>核心逻辑</strong>：将数据集分为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 个大小相近的子集（称为&quot;折&quot;，Fold），轮流用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">K-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 个折做训练集，1个折做验证集，重复 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 次后取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 次验证结果的平均值。</p></li><li><p><strong>常见类型</strong>：</p><ul><li><p><strong>K折交叉验证（K-Fold CV）</strong>：最通用，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 通常取5或10（兼顾计算量和稳定性）。例如10-Fold CV：将数据分为10份，每次用9份训练、1份验证，共10轮，最终取10次指标的均值。</p></li><li><p><strong>分层K折（Stratified K-Fold）</strong>：针对<strong>分类任务</strong>，确保每折中各类别样本的比例与原始数据集一致（避免某一折中&quot;正样本&quot;极少导致评估偏差）。例如二分类数据中正负样本比例为1:9，分层后每折的比例仍为1:9。</p></li><li><p><strong>留一交叉验证（Leave-One-Out, LOOCV）</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 等于样本总数（即每次留1个样本做验证），适合<strong>数据量极小</strong>（如&lt;100样本）的场景。优点是评估最稳定，缺点是计算量极大（需训练 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 次模型）。</p></li></ul></li><li><p><strong>注意</strong>：交叉验证仅用于&quot;训练-验证&quot;阶段，最终仍需独立的测试集验证泛化能力，避免&quot;测试集泄露&quot;（如用测试集参与交叉验证划分）。</p></li></ul><h3 id="3-自助法（Bootstrap）">3. 自助法（Bootstrap）</h3><p>适合<strong>数据量极小</strong>（如&lt;50样本）且不希望浪费数据的场景，核心是通过&quot;有放回抽样&quot;生成多个训练集。</p><ul><li><p><strong>步骤</strong>：</p><ol><li>从原始数据集（共 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 个样本）中<strong>有放回地随机抽取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 个样本</strong>，组成1个训练集（部分样本会被重复抽取，部分样本未被抽取）；</li><li>未被抽取的样本（约占37%，称为&quot;Out-of-Bag样本&quot;）作为验证集；</li><li>重复上述过程 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> 次（如1000次），得到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> 个验证结果，取平均值作为最终评估指标。</li></ol></li><li><p><strong>优点</strong>：充分利用有限数据，无需额外划分测试集（Out-of-Bag样本可替代测试集）。</p></li><li><p><strong>缺点</strong>：抽样过程会改变数据分布，对依赖数据分布的模型（如线性回归）评估偏差较大，更适合树模型等对分布不敏感的模型。</p></li></ul><hr><h2 id="二、分任务评估指标：分类、回归、聚类各不同">二、分任务评估指标：分类、回归、聚类各不同</h2><p>不同任务的目标不同，评估指标也需针对性选择。以下是三大核心任务的常用指标（重点标注工业界高频指标）。</p><h3 id="1-分类任务：预测-类别标签-（如垃圾邮件识别、疾病诊断）">1. 分类任务：预测&quot;类别标签&quot;（如垃圾邮件识别、疾病诊断）</h3><p>分类任务的核心是评估&quot;预测类别&quot;与&quot;真实类别&quot;的匹配度，需先明确<strong>混淆矩阵</strong>（所有指标的基础）：</p><table><thead><tr><th>真实\预测</th><th>正类（Positive）</th><th>负类（Negative）</th></tr></thead><tbody><tr><td>正类（P）</td><td>TP（真阳性）</td><td>FN（假阴性）</td></tr><tr><td>负类（N）</td><td>FP（假阳性）</td><td>TN（真阴性）</td></tr></tbody></table><ul><li><strong>TP</strong>：真实正类被预测为正类（如&quot;真病人被诊断为患病&quot;）</li><li><strong>FN</strong>：真实正类被预测为负类（如&quot;真病人被漏诊&quot;）</li><li><strong>FP</strong>：真实负类被预测为正类（如&quot;健康人被误诊为患病&quot;）</li><li><strong>TN</strong>：真实负类被预测为负类（如&quot;健康人被正确排除&quot;）</li></ul><p>基于混淆矩阵，衍生出以下核心指标：</p><h4 id="准确率（Accuracy）">准确率（Accuracy）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Accuracy</mtext><mo>=</mo><mfrac><mrow><mtext>TP</mtext><mo>+</mo><mtext>TN</mtext></mrow><mrow><mtext>TP</mtext><mo>+</mo><mtext>TN</mtext><mo>+</mo><mtext>FP</mtext><mo>+</mo><mtext>FN</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Accuracy} = \frac{\text{TP} + \text{TN}}{\text{TP} + \text{TN} + \text{FP} + \text{FN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">Accuracy</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">TN</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FN</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">TN</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：整体预测正确的比例</li><li><strong>适用场景</strong>：类别均衡的场景（如正负样本1:1）</li><li><strong>⚠️ 陷阱</strong>：类别不均衡时失效（如99%负样本，模型全预测负类，准确率仍99%但无意义）</li></ul><h4 id="精确率（Precision）">精确率（Precision）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Precision</mtext><mo>=</mo><mfrac><mtext>TP</mtext><mrow><mtext>TP</mtext><mo>+</mo><mtext>FP</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Precision} = \frac{\text{TP}}{\text{TP} + \text{FP}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">Precision</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FP</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：预测为正类的样本中，真实正类的比例（&quot;预测准不准&quot;）</li><li><strong>适用场景</strong>：避免FP的场景（如垃圾邮件识别：避免正常邮件被误判为垃圾邮件）</li></ul><h4 id="召回率（Recall-Sensitivity）">召回率（Recall / Sensitivity）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Recall</mtext><mo>=</mo><mfrac><mtext>TP</mtext><mrow><mtext>TP</mtext><mo>+</mo><mtext>FN</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Recall} = \frac{\text{TP}}{\text{TP} + \text{FN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Recall</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FN</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：真实正类中，被预测为正类的比例（&quot;漏没漏&quot;）</li><li><strong>适用场景</strong>：避免FN的场景（如疾病诊断：避免漏诊真病人）</li></ul><h4 id="F1分数（F1-Score）">F1分数（F1-Score）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>F1</mtext><mo>=</mo><mfrac><mrow><mn>2</mn><mo>×</mo><mtext>Precision</mtext><mo>×</mo><mtext>Recall</mtext></mrow><mrow><mtext>Precision</mtext><mo>+</mo><mtext>Recall</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{F1} = \frac{2 \times \text{Precision} \times \text{Recall}}{\text{Precision} + \text{Recall}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">F1</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1408em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Precision</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">Recall</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">Precision</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">Recall</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：Precision和Recall的调和平均数</li><li><strong>适用场景</strong>：解决二者&quot;此消彼长&quot;的矛盾（如提高Precision会降低Recall），适合类别不均衡且需平衡二者的场景（如电商欺诈检测）</li></ul><h4 id="AUC-ROC">AUC-ROC</h4><ul><li><p><strong>ROC曲线</strong>：以&quot;假正例率&quot;为X轴，&quot;真正例率&quot;为Y轴绘制的曲线</p><ul><li>假正例率（FPR）：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>FPR</mtext><mo>=</mo><mfrac><mtext>FP</mtext><mrow><mtext>FP</mtext><mo>+</mo><mtext>TN</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{FPR} = \frac{\text{FP}}{\text{FP} + \text{TN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">FPR</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2757em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">FP</span></span><span class="mbin mtight">+</span><span class="mord text mtight"><span class="mord mtight">TN</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">FP</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li>真正例率（TPR）：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>TPR</mtext><mo>=</mo><mtext>Recall</mtext><mo>=</mo><mfrac><mtext>TP</mtext><mrow><mtext>TP</mtext><mo>+</mo><mtext>FN</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{TPR} = \text{Recall} = \frac{\text{TP}}{\text{TP} + \text{FN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">TPR</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Recall</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2757em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">TP</span></span><span class="mbin mtight">+</span><span class="mord text mtight"><span class="mord mtight">FN</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">TP</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li></ul></li><li><p><strong>AUC</strong>：ROC曲线下的面积，取值范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p><ul><li>AUC越接近1，模型区分能力越强</li><li>AUC=0.5，模型与随机猜测无异</li></ul></li><li><p><strong>适用场景</strong>：<strong>工业界分类任务首选指标</strong>（尤其类别不均衡场景），衡量模型&quot;区分正/负类&quot;的能力</p></li></ul><h4 id="AUC-PR">AUC-PR</h4><ul><li><strong>PR曲线</strong>：以&quot;Precision&quot;为Y轴，&quot;Recall&quot;为X轴绘制的曲线</li><li><strong>AUC-PR</strong>：PR曲线下的面积，取值范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></li><li><strong>适用场景</strong>：比AUC-ROC更适合<strong>极不均衡场景</strong>（如正负样本1:1000），AUC-PR越接近1，模型对少数类（正类）的识别能力越强</li></ul><h3 id="2-回归任务：预测-连续数值-（如房价预测、销量预测）">2. 回归任务：预测&quot;连续数值&quot;（如房价预测、销量预测）</h3><p>回归任务的核心是评估&quot;预测值&quot;与&quot;真实值&quot;的误差大小，常用指标如下（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示真实值，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\hat{y}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示预测值，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 表示样本总数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>y</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\bar{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7622em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">ˉ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span> 表示真实值的均值）：</p><h4 id="平均绝对误差（MAE）">平均绝对误差（MAE）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MAE</mtext><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\text{MAE} = \frac{1}{N} \sum_{i=1}^{N} |y_i - \hat{y}_i|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">MAE</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></p><ul><li><strong>含义</strong>：误差的平均绝对值</li><li><strong>特点</strong>：<strong>对异常值不敏感</strong></li><li><strong>适用场景</strong>：如房价预测中，少数天价房不会大幅影响MAE，适合注重&quot;平均误差&quot;的场景</li></ul><h4 id="均方误差（MSE）">均方误差（MSE）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MSE</mtext><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\text{MSE} = \frac{1}{N} \sum_{i=1}^{N} (y_i - \hat{y}_i)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">MSE</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：误差的平方的平均值</li><li><strong>特点</strong>：<strong>对异常值敏感</strong>（平方会放大异常值的影响）</li><li><strong>适用场景</strong>：需要&quot;惩罚大误差&quot;的场景（如自动驾驶速度预测：大误差可能导致事故）</li></ul><h4 id="均方根误差（RMSE）">均方根误差（RMSE）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>RMSE</mtext><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">\text{RMSE} = \sqrt{\frac{1}{N} \sum_{i=1}^{N} (y_i - \hat{y}_i)^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">RMSE</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.3338em;vertical-align:-1.2777em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0561em;"><span class="svg-align" style="top:-5.2938em;"><span class="pstrut" style="height:5.2938em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-4.0161em;"><span class="pstrut" style="height:5.2938em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.3738em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="3.3738em" viewBox="0 0 400000 3373" preserveAspectRatio="xMinYMin slice"><path d="M702 80H40000040H742v3239l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667219 661 l218 661zM702 80H400000v40H742z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：MSE的平方根</li><li><strong>特点</strong>：<strong>单位与真实值一致</strong>（如房价预测中，RMSE=5万元，直观表示平均误差5万）</li><li><strong>适用场景</strong>：工业界回归任务<strong>最常用指标</strong></li></ul><h4 id="决定系数（R²）">决定系数（R²）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>y</mi><mo>ˉ</mo></mover><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^2 = 1 - \frac{\sum_{i=1}^{N} (y_i - \hat{y}_i)^2}{\sum_{i=1}^{N} (y_i - \bar{y})^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.8419em;vertical-align:-1.1709em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6709em;"><span style="top:-2.1288em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">ˉ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1709em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：衡量模型&quot;解释真实值变异&quot;的能力</li><li><strong>取值范围</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(-\infty, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">R^2 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>：模型完美预测</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">R^2 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>：模型预测效果等同于&quot;用均值代替所有预测值&quot;</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">R^2 &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8532em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>：模型预测效果差于均值（通常是模型错误或数据异常）</li></ul></li></ul><h4 id="平均绝对百分比误差（MAPE）">平均绝对百分比误差（MAPE）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MAPE</mtext><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mrow><mo fence="true">∣</mo><mfrac><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><msub><mi>y</mi><mi>i</mi></msub></mfrac><mo fence="true">∣</mo></mrow><mo>×</mo><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\text{MAPE} = \frac{1}{N} \sum_{i=1}^{N} \left|\frac{y_i - \hat{y}_i}{y_i}\right| \times 100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">MAPE</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="2.400em" viewBox="0 0 333 2400"><path d="M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="2.400em" viewBox="0 0 333 2400"><path d="M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span></span></span></span></span></p><ul><li><strong>含义</strong>：误差占真实值的百分比</li><li><strong>特点</strong>：<strong>直观反映相对误差</strong>（如销量预测中，MAPE=5%表示平均误差占真实销量的5%）</li><li><strong>⚠️ 陷阱</strong>：若真实值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">y_i = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，会导致分母为0，此时不可用</li></ul><h3 id="3-聚类任务：无标签数据的-分组-（如用户分群、商品聚类）">3. 聚类任务：无标签数据的&quot;分组&quot;（如用户分群、商品聚类）</h3><p>聚类任务无真实标签，评估核心是&quot;簇内样本的相似度高，簇间样本的相似度低&quot;，常用指标如下：</p><h4 id="轮廓系数（Silhouette-Coefficient）">轮廓系数（Silhouette Coefficient）</h4><p>对每个样本计算：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>：簇内平均距离（样本到同簇其他样本的平均距离）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>：最近簇的平均距离（样本到最近其他簇所有样本的平均距离）</li></ul><p>样本的轮廓系数：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mo>=</mo><mfrac><mrow><mi>b</mi><mo>−</mo><mi>a</mi></mrow><mrow><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">s = \frac{b - a}{\max(a, b)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>最终取所有样本的平均值，取值范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-1, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p><ul><li><strong>含义</strong>：综合衡量&quot;簇内紧凑性&quot;和&quot;簇间分离度&quot;<ul><li>接近1：聚类效果极好</li><li>接近0：簇间重叠严重</li><li>接近-1：聚类错误（样本被分到错误簇）</li></ul></li></ul><h4 id="Calinski-Harabasz指数（CH指数）">Calinski-Harabasz指数（CH指数）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>CH</mtext><mo>=</mo><mfrac><mrow><mtext>簇间方差和</mtext><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mrow><mtext>簇内方差和</mtext><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{CH} = \frac{\text{簇间方差和} / (k-1)}{\text{簇内方差和} / (n-k)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">CH</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">簇内方差和</span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">簇间方差和</span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 为簇数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 为样本数</p><ul><li><strong>含义</strong>：指数越大，说明&quot;簇间差异大、簇内差异小&quot;，聚类效果越好</li><li><strong>适用场景</strong>：需要确定最优簇数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 的场景（如通过CH指数峰值选择 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>）</li></ul><h4 id="互信息（Mutual-Information-MI）">互信息（Mutual Information, MI）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MI</mtext><mo stretchy="false">(</mo><mi>U</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi mathvariant="normal">∣</mi><mi>U</mi><mi mathvariant="normal">∣</mi></mrow></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi mathvariant="normal">∣</mi><mi>V</mi><mi mathvariant="normal">∣</mi></mrow></munderover><mfrac><mrow><mi mathvariant="normal">∣</mi><msub><mi>U</mi><mi>i</mi></msub><mo>∩</mo><msub><mi>V</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow><mi>N</mi></mfrac><mi>log</mi><mo>⁡</mo><mfrac><mrow><mi>N</mi><mo>⋅</mo><mi mathvariant="normal">∣</mi><msub><mi>U</mi><mi>i</mi></msub><mo>∩</mo><msub><mi>V</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow><mrow><mi mathvariant="normal">∣</mi><msub><mi>U</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mo>⋅</mo><mi mathvariant="normal">∣</mi><msub><mi>V</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{MI}(U, V) = \sum_{i=1}^{|U|} \sum_{j=1}^{|V|} \frac{|U_i \cap V_j|}{N} \log\frac{N \cdot |U_i \cap V_j|}{|U_i| \cdot |V_j|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">MI</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.3748em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.961em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.386em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="mord mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.961em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.386em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="mord mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span> 为聚类结果，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> 为真实标签</p><ul><li><strong>含义</strong>：衡量&quot;聚类结果&quot;与&quot;真实标签（若有）&quot;的关联程度</li><li><strong>取值范围</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mi>c</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, \log(\min(k, c))]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mclose">))]</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span> 为真实类别数</li><li><strong>标准化形式（NMI）</strong>：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>NMI</mtext><mo stretchy="false">(</mo><mi>U</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mtext>MI</mtext><mo stretchy="false">(</mo><mi>U</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo></mrow><msqrt><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>U</mi><mo stretchy="false">)</mo><mo>⋅</mo><mi>H</mi><mo stretchy="false">(</mo><mi>V</mi><mo stretchy="false">)</mo></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">\text{NMI}(U, V) = \frac{\text{MI}(U, V)}{\sqrt{H(U) \cdot H(V)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">NMI</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.557em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.175em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.305em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">MI</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>取值范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span> 表示熵</p><ul><li><strong>适用场景</strong>：仅适用于&quot;有真实标签的聚类验证&quot;（如已知用户真实年龄段，评估聚类得到的用户群是否与年龄段匹配）</li></ul><hr><h2 id="三、进阶评估策略：避免常见陷阱">三、进阶评估策略：避免常见陷阱</h2><h3 id="1-警惕数据泄露（Data-Leakage）">1. 警惕数据泄露（Data Leakage）</h3><p>数据泄露是评估中最致命的错误，指&quot;测试集信息提前被模型接触&quot;，导致评估结果虚高。常见场景：</p><ul><li><strong>错误做法</strong>：先对整个数据集做标准化/归一化，再划分训练集和测试集</li><li><strong>正确做法</strong>：仅用训练集的统计量（如均值、方差）标准化测试集</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 错误示例</span><br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br>scaler = StandardScaler()<br>X_scaled = scaler.fit_transform(X)  <span class="hljs-comment"># 对全部数据标准化</span><br>X_train, X_test = train_test_split(X_scaled)  <span class="hljs-comment"># ❌ 测试集已泄露</span><br><br><span class="hljs-comment"># 正确示例</span><br>X_train, X_test = train_test_split(X)  <span class="hljs-comment"># 先划分</span><br>scaler = StandardScaler()<br>X_train_scaled = scaler.fit_transform(X_train)  <span class="hljs-comment"># 仅用训练集fit</span><br>X_test_scaled = scaler.transform(X_test)  <span class="hljs-comment"># ✅ 测试集用训练集的参数</span><br></code></pre></td></tr></table></figure><ul><li><strong>交叉验证陷阱</strong>：将测试集纳入折的划分</li><li><strong>正确做法</strong>：测试集完全独立，仅用于最终评估</li></ul><h3 id="2-结合业务指标评估">2. 结合业务指标评估</h3><p>技术指标（如AUC、RMSE）需与业务目标结合。例如：</p><ul><li><p><strong>疾病诊断模型</strong>：</p><ul><li>技术指标：Recall（避免漏诊）</li><li>业务考量：误诊成本（FP导致的过度治疗）</li><li>综合方案：设定&quot;可容忍的FP率&quot;，在此约束下最大化Recall</li></ul></li><li><p><strong>销量预测模型</strong>：</p><ul><li>技术指标：RMSE（整体误差）</li><li>业务考量：峰值销量的预测误差（如双11销量预测不准会导致库存积压或缺货）</li><li>综合方案：除RMSE外，单独评估&quot;销量前10%时段&quot;的预测准确度</li></ul></li></ul><h3 id="3-稳定性与鲁棒性评估">3. 稳定性与鲁棒性评估</h3><h4 id="稳定性测试">稳定性测试</h4><p>多次随机划分训练/测试集，观察指标波动（波动小说明模型稳定）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment"># 执行10次5折交叉验证</span><br>scores_list = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>    scores = cross_val_score(model, X, y, cv=<span class="hljs-number">5</span>, scoring=<span class="hljs-string">&#x27;accuracy&#x27;</span>)<br>    scores_list.append(scores.mean())<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;均值: <span class="hljs-subst">&#123;np.mean(scores_list):<span class="hljs-number">.3</span>f&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;标准差: <span class="hljs-subst">&#123;np.std(scores_list):<span class="hljs-number">.3</span>f&#125;</span>&quot;</span>)  <span class="hljs-comment"># 标准差越小，模型越稳定</span><br></code></pre></td></tr></table></figure><h4 id="鲁棒性测试">鲁棒性测试</h4><p>在测试集中加入噪声，观察指标下降幅度（下降小说明模型鲁棒性强）</p><ul><li>图片分类：添加模糊、旋转、噪点</li><li>文本分类：替换同义词、删除停用词</li><li>表格数据：对数值特征添加高斯噪声</li></ul><h3 id="4-过拟合与欠拟合的判断">4. 过拟合与欠拟合的判断</h3><p>通过&quot;训练集指标&quot;与&quot;验证集指标&quot;的差异判断：</p><table><thead><tr><th>现象</th><th>训练集表现</th><th>验证集表现</th><th>诊断</th><th>解决方案</th></tr></thead><tbody><tr><td>欠拟合</td><td>差</td><td>差</td><td>模型未学会数据规律</td><td>增加模型复杂度（如增加神经网络层数、决策树深度）、增加特征、减少正则化强度</td></tr><tr><td>过拟合</td><td>极好</td><td>差</td><td>模型记住了训练数据噪声</td><td>正则化（L1/L2）、数据增强、早停（Early Stopping）、Dropout、减少模型复杂度</td></tr><tr><td>理想状态</td><td>好</td><td>好</td><td>模型泛化能力强</td><td>继续优化或上线</td></tr></tbody></table><p><strong>学习曲线可视化</strong>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> learning_curve<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>train_sizes, train_scores, val_scores = learning_curve(<br>    model, X, y, cv=<span class="hljs-number">5</span>, scoring=<span class="hljs-string">&#x27;accuracy&#x27;</span>,<br>    train_sizes=np.linspace(<span class="hljs-number">0.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">10</span>)<br>)<br><br>plt.plot(train_sizes, train_scores.mean(axis=<span class="hljs-number">1</span>), label=<span class="hljs-string">&#x27;Training score&#x27;</span>)<br>plt.plot(train_sizes, val_scores.mean(axis=<span class="hljs-number">1</span>), label=<span class="hljs-string">&#x27;Validation score&#x27;</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;Training samples&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Score&#x27;</span>)<br>plt.legend()<br>plt.show()<br></code></pre></td></tr></table></figure><hr><h2 id="四、实战决策树：如何选择评估方法">四、实战决策树：如何选择评估方法</h2><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs mathematica">开始评估<br>│<br>├─ 任务类型？<br>│  │<br>│  ├─ 分类任务<br>│  │  ├─ 类别均衡？<br>│  │  │  ├─ 是 → 使用 <span class="hljs-built_in">Accuracy</span>、<span class="hljs-variable">F1</span><span class="hljs-operator">-</span><span class="hljs-variable">Score</span><br>│  │  │  └─ 否 → 使用 <span class="hljs-variable">AUC</span><span class="hljs-operator">-</span><span class="hljs-variable">ROC</span>（极不均衡用<span class="hljs-variable">AUC</span><span class="hljs-operator">-</span><span class="hljs-variable">PR</span>）<br>│  │  └─ 业务侧重？<br>│  │     ├─ 避免误报（<span class="hljs-variable">FP</span>）→ 优先<span class="hljs-built_in">Precision</span><br>│  │     └─ 避免漏报（<span class="hljs-variable">FN</span>）→ 优先<span class="hljs-variable">Recall</span><br>│  │<br>│  ├─ 回归任务<br>│  │  ├─ 关注绝对误差 → 使用 <span class="hljs-variable">MAE</span><br>│  │  ├─ 惩罚大误差 → 使用 <span class="hljs-variable">MSE</span><span class="hljs-operator">/</span><span class="hljs-variable">RMSE</span><br>│  │  ├─ 关注相对误差 → 使用 <span class="hljs-variable">MAPE</span>（注意真实值为<span class="hljs-number">0</span>的情况）<br>│  │  └─ 评估解释能力 → 使用 <span class="hljs-variable">R</span>²<br>│  │<br>│  └─ 聚类任务<br>│     ├─ 无真实标签 → 使用 <span class="hljs-variable">Silhouette</span> <span class="hljs-built_in">Coefficient</span> 或 <span class="hljs-variable">CH</span>指数<br>│     └─ 有真实标签（验证用）→ 使用 <span class="hljs-variable">NMI</span><br>│<br>└─ 数据划分策略？<br>   ├─ 数据量大（<span class="hljs-operator">&gt;</span><span class="hljs-number">100</span>万）→ <span class="hljs-built_in">Hold</span><span class="hljs-operator">-</span><span class="hljs-built_in">Out</span>（<span class="hljs-number">7</span><span class="hljs-operator">:</span><span class="hljs-number">1</span><span class="hljs-operator">:</span><span class="hljs-number">2</span>）<br>   ├─ 数据量中等（<span class="hljs-number">1</span>万<span class="hljs-operator">~</span><span class="hljs-number">100</span>万）→ <span class="hljs-built_in">K</span>折交叉验证（<span class="hljs-built_in">K</span><span class="hljs-operator">=</span><span class="hljs-number">5</span>或<span class="hljs-number">10</span>）<br>   ├─ 数据量小（<span class="hljs-number">100</span><span class="hljs-operator">~</span><span class="hljs-number">1</span>万）→ 分层<span class="hljs-built_in">K</span>折交叉验证<br>   └─ 数据量极小（<span class="hljs-operator">&lt;</span><span class="hljs-number">100</span>）→ <span class="hljs-variable">LOOCV</span> 或 <span class="hljs-variable">Bootstrap</span><br></code></pre></td></tr></table></figure><hr><h2 id="总结">总结</h2><p>模型评估的核心逻辑是&quot;<strong>用独立、无偏的数据，结合任务和业务目标，选择合适的指标和框架</strong>&quot;。实际应用中，优先遵循：</p><h3 id="✅-分类任务最佳实践">✅ 分类任务最佳实践</h3><ul><li>用<strong>分层K折交叉验证</strong>调参</li><li>最终用测试集的 <strong>AUC-ROC</strong>（类别不均衡）或 <strong>F1-Score</strong>（需平衡Precision/Recall）评估</li><li>极不均衡场景使用 <strong>AUC-PR</strong></li></ul><h3 id="✅-回归任务最佳实践">✅ 回归任务最佳实践</h3><ul><li>用<strong>K折交叉验证</strong>调参</li><li>最终用测试集的 <strong>RMSE</strong>（直观误差）或 <strong>R²</strong>（解释力）评估</li><li>根据业务需求选择 <strong>MAE</strong>（对异常值不敏感）或 <strong>MAPE</strong>（相对误差）</li></ul><h3 id="✅-聚类任务最佳实践">✅ 聚类任务最佳实践</h3><ul><li>无真实标签时用 <strong>Silhouette Coefficient</strong> 或 <strong>CH指数</strong></li><li>有真实标签时用 <strong>NMI</strong> 评估</li><li>结合业务场景定义&quot;好聚类&quot;的标准</li></ul><h3 id="⚠️-必须规避的陷阱">⚠️ 必须规避的陷阱</h3><ol><li><strong>数据泄露</strong>：标准化、特征选择等操作必须在划分数据集<strong>之后</strong>进行</li><li><strong>测试集污染</strong>：测试集不能参与任何调参过程</li><li><strong>单一指标盲区</strong>：结合多个指标和业务目标综合评估</li><li><strong>忽视置信区间</strong>：报告指标时应包含标准差或置信区间</li></ol><p>公式现已全部修正为标准Markdown格式，可正常渲染！</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h1&gt;机器学习模型评估完整指南&lt;/h1&gt;
&lt;p&gt;在机器学习中，模型评估是验证模型泛化能力、选择最优方案、定位性能缺陷的核心环节。评估方法需结合&lt;strong&gt;任务类型&lt;/strong&gt;（分类/回归/聚类）、&lt;strong&gt;数据特性&lt;/strong&gt;（是否有标签、数据量大小）和&lt;</summary>
        
      
    
    
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>经验误差与过拟合</title>
    <link href="https://hellowydwyd.github.io/2025/10/09/%E7%BB%8F%E9%AA%8C%E8%AF%AF%E5%B7%AE%E4%B8%8E%E8%BF%87%E6%8B%9F%E5%90%88/"/>
    <id>https://hellowydwyd.github.io/2025/10/09/%E7%BB%8F%E9%AA%8C%E8%AF%AF%E5%B7%AE%E4%B8%8E%E8%BF%87%E6%8B%9F%E5%90%88/</id>
    <published>2025-10-09T06:18:11.000Z</published>
    <updated>2025-10-09T06:29:28.451Z</updated>
    
    <content type="html"><![CDATA[<p>在机器学习模型的训练与评估中，<strong>经验误差（Empirical Error）</strong> 和<strong>过拟合（Overfitting）</strong> 是决定模型泛化能力（对新数据的预测能力）的核心概念——前者是模型在训练数据上的“表现指标”，后者是模型训练中最常见的“性能陷阱”，二者紧密关联又存在本质区别。下面将从定义、计算、影响因素、与过拟合的关系及解决方案等方面，进行系统性拆解。</p><h2 id="一、经验误差（Empirical-Error）：模型在“训练数据”上的误差">一、经验误差（Empirical Error）：模型在“训练数据”上的误差</h2><h3 id="1-核心定义与本质">1. 核心定义与本质</h3><p>经验误差，又称<strong>训练误差（Training Error）</strong>，是指<strong>模型在训练数据集上的预测结果与真实标签之间的误差</strong>。<br>其本质是模型对“已见过数据”的拟合程度度量——反映了模型从训练数据中“学习到规律”的能力，但无法直接代表模型对“未见过新数据”的预测能力（即泛化能力）。</p><p>例如：用线性回归模型预测房价，将训练集中1000条“面积-房价”数据输入模型后，计算模型预测的房价与真实房价的平均差值，这个差值就是经验误差。</p><h3 id="2-常见计算方式（分类与回归任务差异）">2. 常见计算方式（分类与回归任务差异）</h3><p>经验误差的计算需根据任务类型（分类/回归）选择不同指标，核心思路是“量化预测值与真实值的差异”。</p><h4 id="（1）回归任务（输出为连续值，如房价预测、温度预测）">（1）回归任务（输出为连续值，如房价预测、温度预测）</h4><p><strong>均方误差（Mean Squared Error, MSE）</strong>：最常用的回归误差指标，计算预测值与真实值差值的平方的平均值，对异常值更敏感（平方放大了大误差）。</p><p>公式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">MSE = \frac{1}{m} \sum_{i=1}^{m} (y_i - \hat{y}_i)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">MSE</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 是训练样本数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 个样本的真实标签，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\hat{y}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是模型的预测值。</p><p><strong>平均绝对误差（Mean Absolute Error, MAE）</strong>：计算预测值与真实值差值的绝对值的平均值，对异常值更鲁棒（无平方放大）。</p><p>公式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mi>A</mi><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">MAE = \frac{1}{m} \sum_{i=1}^{m} |y_i - \hat{y}_i|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></p><h4 id="（2）分类任务（输出为离散类别，如垃圾邮件识别、疾病诊断）">（2）分类任务（输出为离散类别，如垃圾邮件识别、疾病诊断）</h4><p><strong>错误率（Error Rate）</strong>：分类错误的样本数占总训练样本数的比例，适用于二分类和多分类。</p><p>公式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>错误率</mtext><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mi>I</mi><mo stretchy="false">(</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mo mathvariant="normal">≠</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">错误率 = \frac{1}{m} \sum_{i=1}^{m} I(\hat{y}_i \neq y_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">错误率</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span> 是指示函数：若括号内条件成立，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">I=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>；否则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">I=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>。</p><p><strong>准确率（Accuracy）</strong>：分类正确的样本数占总训练样本数的比例，是错误率的互补指标（准确率 = 1 - 错误率）。</p><h3 id="3-经验误差的“局限性”：不能直接代表泛化能力">3. 经验误差的“局限性”：不能直接代表泛化能力</h3><p>经验误差的核心问题是“<strong>数据偏差</strong>”——训练数据无法完全代表真实世界的所有情况（如训练集中的房价数据只覆盖了某几个小区，未包含其他区域）。因此：</p><ul><li>经验误差低 ≠ 泛化能力强：模型可能“死记硬背”了训练数据（即过拟合），但对新数据预测不准；</li><li>经验误差高 → 泛化能力差：若模型在训练数据上都无法拟合（即欠拟合），则对新数据更不可能预测准确。</li></ul><p>例如：用一个10次多项式拟合“面积-房价”的线性数据，经验误差可能接近0（几乎完美贴合训练点），但对新的“面积”样本，预测房价会严重偏离真实值（泛化能力差）。</p><h2 id="二、过拟合（Overfitting）：模型“学偏了”训练数据的噪声">二、过拟合（Overfitting）：模型“学偏了”训练数据的噪声</h2><h3 id="1-核心定义与本质-2">1. 核心定义与本质</h3><p>过拟合是指<strong>模型在训练数据上表现极好（经验误差极低），但在未见过的测试数据上表现极差（泛化误差极高）的现象</strong>。<br>其本质是模型“过度学习”了训练数据中的<strong>噪声（Noise）和偶然特征（Accidental Features）</strong>，而非数据背后的“普遍规律（本质特征）”——相当于学生为了考试死记硬背习题答案，却没理解知识点，遇到新题就不会做。</p><h4 id="直观示例（以“线性数据-噪声”的拟合为例）">直观示例（以“线性数据+噪声”的拟合为例）</h4><p>假设有一组真实规律为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">y = 2x + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 的数据，但训练数据中加入了随机噪声（如部分样本因测量误差偏离直线）：</p><ul><li>用<strong>线性模型（一次函数）</strong> 拟合：会贴近数据的整体趋势，经验误差虽不是最小，但测试误差小（泛化能力强）；</li><li>用<strong>高次多项式（如10次函数）</strong> 拟合：会“缠绕”所有训练点，甚至包括偏离直线的噪声点，经验误差接近0，但在测试数据上会大幅偏离真实直线（泛化误差大）——这就是典型的过拟合。</li></ul><h3 id="2-过拟合的核心表现：经验误差与泛化误差“差距过大”">2. 过拟合的核心表现：经验误差与泛化误差“差距过大”</h3><p>为了更清晰地判断过拟合，需要引入“<strong>泛化误差（Generalization Error）</strong>”——模型在所有真实数据（包括训练集和未见过的测试集）上的误差，通常用“测试误差（Test Error，模型在测试集上的误差）”近似代替。</p><p>过拟合的关键特征是“<strong>经验误差远小于测试误差</strong>”，具体表现为：</p><table><thead><tr><th>指标</th><th>过拟合模型的表现</th><th>正常拟合模型的表现</th></tr></thead><tbody><tr><td>训练集（经验误差）</td><td>误差极低（如准确率99%+）</td><td>误差较低（如准确率90%）</td></tr><tr><td>测试集（泛化误差）</td><td>误差极高（如准确率60%）</td><td>误差接近训练误差（如准确率88%）</td></tr><tr><td>误差差距</td><td>经验误差与测试误差差距大（&gt;30%）</td><td>误差差距小（&lt;5%）</td></tr></tbody></table><h3 id="3-过拟合的常见原因">3. 过拟合的常见原因</h3><p>过拟合的本质是“<strong>模型能力过强，而数据约束不足</strong>”，具体可归纳为以下4类：</p><h4 id="（1）模型复杂度远超数据复杂度">（1）模型复杂度远超数据复杂度</h4><ul><li>当模型的“表达能力”太强（如深度神经网络的层数过多、决策树的深度过深、多项式回归的次数过高），而数据的“规律复杂度”很低（如线性数据）时，模型会用复杂的结构去“硬凑”训练数据中的噪声。<br>例：用100层的神经网络预测“身高-体重”的线性关系，模型会学习到训练数据中“某个人因穿鞋导致身高测量偏差”这类偶然特征。</li></ul><h4 id="（2）训练数据量不足或质量差">（2）训练数据量不足或质量差</h4><ul><li><strong>数据量不足</strong>：若训练样本数远小于模型参数数量（如用10个样本训练100个参数的线性模型），模型很容易“记住”每个样本的特征，而非普遍规律；</li><li><strong>数据质量差</strong>：训练数据中包含大量标注错误（如将“垃圾邮件”标为“正常邮件”）或异常值，模型会将这些错误数据当作“规律”学习。</li></ul><h4 id="（3）训练过程过度迭代">（3）训练过程过度迭代</h4><ul><li>模型训练时，若迭代次数过多（如梯度下降迭代10万次），即使模型初期已学到核心规律，后续迭代仍会持续优化以降低经验误差，最终导致模型“过度贴合”训练数据的噪声。<br>例：神经网络训练中，随着epoch（迭代轮次）增加，经验误差会持续下降，但测试误差会先下降后上升——测试误差上升的阶段就是过拟合开始的标志。</li></ul><h4 id="（4）数据分布不一致（训练集与真实数据差异大）">（4）数据分布不一致（训练集与真实数据差异大）</h4><ul><li>若训练数据的分布（如特征的取值范围、类别比例）与真实世界数据的分布差异大（如用“北方城市房价数据”训练模型，预测“南方城市房价”），模型学到的规律无法迁移到新数据，表现为“在训练集上拟合好，在测试集上拟合差”，本质也是一种广义的过拟合。</li></ul><h2 id="三、经验误差与过拟合的核心关系">三、经验误差与过拟合的核心关系</h2><p>经验误差是过拟合的“表象指标”，但二者并非直接的“因果关系”，需明确以下3点核心关联：</p><h3 id="1-过拟合的前提：经验误差极低">1. 过拟合的前提：经验误差极低</h3><p>过拟合的必要条件是“模型在训练数据上表现极好”——若模型的经验误差本身就很高（如欠拟合），则不存在过拟合的可能。<br>例如：用线性模型拟合非线性数据，经验误差很高（无法贴合训练点），此时模型连训练数据都没学会，更不会“过度学习”噪声。</p><h3 id="2-经验误差低-≠-过拟合：关键看泛化误差">2. 经验误差低 ≠ 过拟合：关键看泛化误差</h3><p>经验误差低只是过拟合的“表象”，判断是否过拟合的核心是“<strong>经验误差与泛化误差的差距</strong>”：</p><ul><li>若经验误差低，且泛化误差也低（差距小）：模型是“正常拟合”，学到了数据的核心规律；</li><li>若经验误差低，但泛化误差高（差距大）：模型是“过拟合”，学到了训练数据的噪声。</li></ul><h3 id="3-经验误差的“合理范围”：并非越低越好">3. 经验误差的“合理范围”：并非越低越好</h3><p>在模型训练中，经验误差需要“足够低”（确保模型学到规律），但不能“过低”（避免过拟合）。例如：在图像分类任务中，经验误差从90%降到95%是合理的（模型优化了细节），但从95%降到99.9%可能意味着模型开始学习训练图像中的“水印”“拍摄角度偏差”等噪声特征。</p><h2 id="四、如何缓解过拟合？（核心解决方案）">四、如何缓解过拟合？（核心解决方案）</h2><p>缓解过拟合的核心思路是“<strong>平衡模型能力与数据约束</strong>”——要么降低模型复杂度，要么增强数据对模型的约束，具体方法可分为以下5类：</p><h3 id="1-降低模型复杂度（“让模型变简单”）">1. 降低模型复杂度（“让模型变简单”）</h3><ul><li><strong>简化模型结构</strong>：对决策树，通过“剪枝”（删除冗余的叶节点）降低深度；对神经网络，减少层数或每层的神经元数量；对回归模型，降低多项式的次数；</li><li><strong>参数正则化（Regularization）</strong>：在损失函数中加入“参数惩罚项”，限制模型参数的取值大小，避免参数过大导致模型过度拟合噪声。<br>例：线性回归的“岭回归（L2正则）”在损失函数中加入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msubsup><mi>w</mi><mi>j</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">\lambda \sum_{j=1}^{n} w_j^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2499em;vertical-align:-0.4358em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4413em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3948em;"><span></span></span></span></span></span></span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">w_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 是模型参数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span></span></span></span> 是正则化强度），迫使参数趋向于0，让模型更“简单”。</li></ul><h3 id="2-增加数据量与提升数据质量（“让数据更可靠”）">2. 增加数据量与提升数据质量（“让数据更可靠”）</h3><ul><li><strong>扩充训练数据</strong>：通过“数据增强（Data Augmentation）”生成更多有效样本（如图像任务中旋转、裁剪、翻转图像，文本任务中同义词替换），或收集更多真实数据，让模型有足够的数据学习普遍规律；</li><li><strong>清洗数据</strong>：删除训练数据中的异常值、标注错误样本，或用“插值法”修正异常值（如用均值替换数值型特征的异常值），避免模型学习错误规律。</li></ul><h3 id="3-早停（Early-Stopping）：“及时停止训练”">3. 早停（Early Stopping）：“及时停止训练”</h3><ul><li>在模型训练过程中，实时监控测试误差的变化：当测试误差下降到最低点后，若继续迭代，测试误差开始上升（说明模型开始过拟合），此时立即停止训练，保留测试误差最低时的模型参数。<br>例：神经网络训练中，用验证集（从训练集中拆分出的子集）监控误差，当验证误差连续5个epoch不下降时，触发早停。</li></ul><h3 id="4-集成学习（Ensemble-Learning）：“多个模型一起决策”">4. 集成学习（Ensemble Learning）：“多个模型一起决策”</h3><ul><li>通过构建多个“弱模型”（如多个简单决策树），并将它们的预测结果组合（如投票、平均），降低单个模型过拟合的风险。<br>例：随机森林（Random Forest）通过构建多个决策树，每个树用不同的训练子集和特征子集训练，最终通过投票决定预测结果——单个树可能过拟合，但多个树的组合能“抵消”各自的噪声，提升泛化能力。</li></ul><h3 id="5-数据分布对齐（“让训练数据更贴近真实场景”）">5. 数据分布对齐（“让训练数据更贴近真实场景”）</h3><ul><li>若训练集与测试集分布差异大，可通过“域适应（Domain Adaptation）”技术，将训练数据的分布调整到与测试数据一致（如通过迁移学习，用真实场景的少量数据微调模型）；</li><li>避免“数据泄露（Data Leakage）”：确保训练过程中不使用测试集的数据（如特征归一化时，只用训练集的均值和方差，而非测试集的），防止模型提前“看到”测试数据，导致经验误差虚低。</li></ul><h2 id="五、总结">五、总结</h2><ul><li><strong>经验误差</strong>是模型在训练数据上的误差，是衡量“模型对已见数据的拟合程度”的指标，但不能直接代表泛化能力，需结合测试误差判断模型性能；</li><li><strong>过拟合</strong>是模型“过度学习训练数据噪声”导致的泛化能力差的现象，核心特征是“经验误差低、测试误差高”，本质是“模型能力过强，数据约束不足”；</li><li>缓解过拟合的核心是“平衡模型复杂度与数据约束”，常见方法包括降低模型复杂度、扩充数据、早停、集成学习等。</li></ul><p>理解经验误差与过拟合的关系，是避免模型“纸上谈兵”（只在训练数据上表现好）、提升实际应用性能的关键——机器学习的最终目标不是“最小化经验误差”，而是“最小化泛化误差”。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;在机器学习模型的训练与评估中，&lt;strong&gt;经验误差（Empirical Error）&lt;/strong&gt; 和&lt;strong&gt;过拟合（Overfitting）&lt;/strong&gt;</summary>
        
      
    
    
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>假设空间和版本空间</title>
    <link href="https://hellowydwyd.github.io/2025/10/09/%E5%81%87%E8%AE%BE%E7%A9%BA%E9%97%B4%E5%92%8C%E7%89%88%E6%9C%AC%E7%A9%BA%E9%97%B4/"/>
    <id>https://hellowydwyd.github.io/2025/10/09/%E5%81%87%E8%AE%BE%E7%A9%BA%E9%97%B4%E5%92%8C%E7%89%88%E6%9C%AC%E7%A9%BA%E9%97%B4/</id>
    <published>2025-10-09T05:59:30.000Z</published>
    <updated>2025-10-09T06:48:29.951Z</updated>
    
    <content type="html"><![CDATA[<p>在机器学习中，<strong>假设空间（Hypothesis Space）</strong> 和<strong>版本空间（Version Space）</strong> 是理解模型归纳学习过程的核心概念，二者共同描述了“模型可能学到的所有规律”与“符合训练数据的规律”之间的关系。下面将从定义、本质、构建方法、关系及示例等方面，进行详细拆解。</p><h2 id="一、假设空间（Hypothesis-Space）：模型“能想到”的所有可能规律">一、假设空间（Hypothesis Space）：模型“能想到”的所有可能规律</h2><h3 id="1-核心定义">1. 核心定义</h3><p>假设空间是<strong>所有可能的“输入→输出”映射关系的集合</strong>，即模型在训练前，基于问题的先验知识（如特征类型、输出形式）所能覆盖的全部“假设（Hypothesis）”。<br>这里的“假设”，本质是对数据规律的抽象描述（比如“若特征A=1且特征B=0，则输出为正例”），是模型试图从数据中学习的“目标函数”的候选者。</p><h3 id="2-本质：“归纳偏置”决定假设空间的边界">2. 本质：“归纳偏置”决定假设空间的边界</h3><p>假设空间的大小和形式，由<strong>归纳偏置（Inductive Bias）</strong> 决定——即模型自带的“偏好”，它排除了部分不可能的假设，缩小了学习范围。<br>例如：</p><ul><li>线性回归的归纳偏置是“数据符合线性关系”，因此其假设空间是<strong>所有线性函数（y=wx+b）的集合</strong>；</li><li>决策树的归纳偏置是“用轴平行的决策边界划分数据”，因此其假设空间是<strong>所有可能的轴平行决策树结构的集合</strong>；</li><li>若不加入任何归纳偏置（即“无偏学习”），假设空间会包含所有可能的映射关系（如对10个二值特征，假设空间大小为2^(2^10)，远超宇宙原子数），但这种情况在现实中无法学习（模型无法从无限多假设中筛选出有效规律）。</li></ul><h3 id="3-如何构建假设空间？（以“表格式数据的分类问题”为例）">3. 如何构建假设空间？（以“表格式数据的分类问题”为例）</h3><p>假设我们要解决一个“西瓜好坏分类”问题，特征包括：</p><ul><li>色泽：青绿、乌黑、浅白（3种可能）</li><li>根蒂：蜷缩、硬挺、稍蜷（3种可能）</li><li>敲声：浊响、清脆、沉闷（3种可能）</li><li>输出：好瓜（正例）、坏瓜（负例）</li></ul><p>此时，假设空间的构建需包含以下四类假设：</p><ol><li><strong>具体假设</strong>：每个特征取特定值，对应“明确的规律”。<br>例：(色泽=青绿) ∧ (根蒂=蜷缩) ∧ (敲声=浊响) → 好瓜；</li><li><strong>部分特征泛化假设</strong>：某些特征取“任意值”（用“<em>”表示），对应“忽略部分特征的规律”。<br>例：(色泽=青绿) ∧ (根蒂=</em>) ∧ (敲声=浊响) → 好瓜（即“只要色泽青绿、敲声浊响，无论根蒂如何，都是好瓜”）；</li><li><strong>全泛化假设</strong>：所有特征取“<em>”，对应“所有样本都是正例”。<br>例：(</em>) ∧ (<em>) ∧ (</em>) → 好瓜；</li><li><strong>空假设</strong>：没有任何样本满足条件（对应“不存在好瓜”）。</li></ol><h4 id="假设空间大小计算">假设空间大小计算</h4><p>对每个特征，有“取特定值（如色泽=青绿）”和“取任意值（<em>）”两种选择，且最后需加入空假设。<br>以西瓜问题为例：3个特征，每个特征有3种特定值，因此假设空间大小为：<br>(3+1)（色泽的选择：3种特定值+1种</em>） × (3+1)（根蒂） × (3+1)（敲声） + 1（空假设） = 4×4×4 +1 = <strong>65</strong>。</p><h2 id="二、版本空间（Version-Space）：符合训练数据的“候选规律”">二、版本空间（Version Space）：符合训练数据的“候选规律”</h2><h3 id="1-核心定义-2">1. 核心定义</h3><p>版本空间是<strong>假设空间中所有“与训练数据完全一致”的假设的子集</strong>。<br>即：对于训练集中的每一个样本，假设都能正确预测其标签（正例预测为正，负例预测为负），这类假设的集合就是版本空间。</p><h3 id="2-本质：“数据约束”筛选后的假设子集">2. 本质：“数据约束”筛选后的假设子集</h3><p>如果说假设空间是模型“能想到的所有规律”，那么版本空间就是“数据告诉模型‘这些规律是可行的’”——它通过训练数据，从假设空间中剔除了“与事实矛盾”的假设，保留了“暂时正确”的假设。</p><h3 id="3-如何构建版本空间？（三步法）">3. 如何构建版本空间？（三步法）</h3><p>以西瓜分类的训练数据为例（假设训练集有2个正例、1个负例）：</p><table><thead><tr><th>样本</th><th>色泽</th><th>根蒂</th><th>敲声</th><th>标签</th></tr></thead><tbody><tr><td>1</td><td>青绿</td><td>蜷缩</td><td>浊响</td><td>好瓜</td></tr><tr><td>2</td><td>乌黑</td><td>蜷缩</td><td>浊响</td><td>好瓜</td></tr><tr><td>3</td><td>青绿</td><td>硬挺</td><td>浊响</td><td>坏瓜</td></tr></tbody></table><p>构建版本空间需遵循“<strong>保留一致假设，剔除矛盾假设</strong>”的原则，具体分三步：</p><ol><li><strong>初始化</strong>：将假设空间中的所有假设纳入候选集；</li><li><strong>正例约束</strong>：对每个正例（如样本1、2），剔除“无法覆盖该正例”的假设。<br>例：假设“(色泽=青绿) ∧ (根蒂=蜷缩) ∧ (敲声=清脆) → 好瓜”无法覆盖样本1（敲声不符），因此被剔除；</li><li><strong>负例约束</strong>：对每个负例（如样本3），剔除“错误覆盖该负例”的假设（即把负例预测为正例的假设）。<br>例：假设“(色泽=青绿) ∧ (根蒂=*) ∧ (敲声=浊响) → 好瓜”会将样本3（色泽=青绿、敲声=浊响）预测为好瓜，与标签矛盾，因此被剔除。</li></ol><p>最终剩余的假设，就是版本空间。例如上述训练集的版本空间可能包含：</p><ul><li>(色泽=*) ∧ (根蒂=蜷缩) ∧ (敲声=浊响) → 好瓜（覆盖样本1、2，不覆盖样本3）；</li><li>(色泽=青绿∨乌黑) ∧ (根蒂=蜷缩) ∧ (敲声=浊响) → 好瓜（若假设允许特征取多个特定值）。</li></ul><h2 id="三、假设空间与版本空间的核心区别与联系">三、假设空间与版本空间的核心区别与联系</h2><p>为了更清晰地理解二者关系，可通过下表对比：</p><table><thead><tr><th>维度</th><th>假设空间（Hypothesis Space）</th><th>版本空间（Version Space）</th></tr></thead><tbody><tr><td><strong>范围</strong></td><td>所有可能的假设（全集）</td><td>符合训练数据的假设（子集）</td></tr><tr><td><strong>依赖因素</strong></td><td>归纳偏置（模型自带的偏好）</td><td>归纳偏置 + 训练数据（数据约束）</td></tr><tr><td><strong>大小变化</strong></td><td>固定不变（训练前后，模型的归纳偏置不变，假设空间不变）</td><td>随训练数据增加而缩小（数据越多，约束越强，假设越少）</td></tr><tr><td><strong>核心作用</strong></td><td>定义模型的“学习能力边界”（能学什么，不能学什么）</td><td>提供“候选目标函数”（模型从版本空间中选一个假设作为最终模型）</td></tr><tr><td><strong>极端情况</strong></td><td>无偏学习时，假设空间无限大</td><td>训练数据足够多（覆盖所有情况）时，版本空间只有1个假设（即目标函数）</td></tr></tbody></table><h2 id="四、关键应用：为什么需要理解这两个概念？">四、关键应用：为什么需要理解这两个概念？</h2><ol><li><p><strong>解释“过拟合”与“欠拟合”</strong></p><ul><li>欠拟合：模型的假设空间太小（如用线性模型拟合非线性数据），导致版本空间中没有“接近目标函数”的假设；</li><li>过拟合：训练数据有噪声，导致版本空间中包含“错误假设”（如记住噪声样本的假设），而模型选择了这类假设。</li></ul></li><li><p><strong>指导模型选择</strong><br>选择模型本质是选择“合适的假设空间”：</p><ul><li>简单任务（如线性可分数据）：用小假设空间（如线性回归），避免过拟合；</li><li>复杂任务（如图像分类）：用大假设空间（如深度神经网络），避免欠拟合。</li></ul></li><li><p><strong>理解“归纳学习的本质”</strong><br>机器学习的核心是“从有限训练数据中，从假设空间筛选出版本空间，再选择一个假设作为最终模型”——这一过程的本质是“归纳推理”，而假设空间和版本空间正是这一推理过程的数学抽象。</p></li></ol><h2 id="五、总结">五、总结</h2><ul><li><strong>假设空间</strong>是“模型能想到的所有规律”，由归纳偏置决定，是学习的“候选池”；</li><li><strong>版本空间</strong>是“符合训练数据的规律”，由归纳偏置和训练数据共同决定，是学习的“有效候选池”；</li><li>二者的关系是“全集与子集”，训练的过程就是“从假设空间筛选出版本空间，再从版本空间选择最终模型”。</li></ul><p>理解这两个概念，能帮助我们更深刻地把握模型的学习边界、数据的作用，以及过拟合/欠拟合的本质，从而更科学地设计和调优机器学习模型。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;在机器学习中，&lt;strong&gt;假设空间（Hypothesis Space）&lt;/strong&gt; 和&lt;strong&gt;版本空间（Version Space）&lt;/strong&gt;</summary>
        
      
    
    
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="机器学习" scheme="https://hellowydwyd.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>媒体接入控制的基本概念</title>
    <link href="https://hellowydwyd.github.io/2025/10/08/%E5%AA%92%E4%BD%93%E6%8E%A5%E5%85%A5%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/"/>
    <id>https://hellowydwyd.github.io/2025/10/08/%E5%AA%92%E4%BD%93%E6%8E%A5%E5%85%A5%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/</id>
    <published>2025-10-08T07:52:08.000Z</published>
    <updated>2025-10-09T06:48:40.311Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、核心定义">一、核心定义</h2><p>媒体接入控制（MAC，Medium Access Control）是数据链路层中针对<strong>共享信道</strong>的关键技术，核心目标是协调多个发送 / 接收站点对共享传输媒体的占用，避免因多站点同时使用信道导致的通信问题。</p><h2 id="二、媒体接入控制的分类及详解">二、媒体接入控制的分类及详解</h2><p>媒体接入控制主要分为<strong>静态划分信道</strong>和<strong>动态接入控制</strong>两大类，其中动态接入控制又细分为受控接入和随机接入，具体差异如下表所示：</p><table><thead><tr><th>大类</th><th>子类</th><th>核心原理</th><th>特点 / 优缺点</th><th>适用场景</th></tr></thead><tbody><tr><td><strong>静态划分信道</strong></td><td>频分多址（FDMA）</td><td>预先将信道的频率资源固定分配给不同站点</td><td>- 优点：无冲突，分配规则简单 - 缺点：灵活性差，对<strong>突发性数据传输</strong>的信道利用率极低</td><td>通常用于无线网络的<strong>物理层</strong>，不用于数据链路层</td></tr><tr><td></td><td>时分多址（TDMA）</td><td>预先将信道的时间资源固定划分为多个时隙，分配给不同站点</td><td>同频分多址，固定分配导致灵活性和利用率不足</td><td>同上（无线网络物理层）</td></tr><tr><td></td><td>码分多址（CDMA）</td><td>预先为不同站点分配独特的编码，站点通过专属编码在同一频段 / 时间传输数据</td><td>同频分多址，固定编码分配限制灵活性</td><td>同上（无线网络物理层）</td></tr><tr><td><strong>动态接入控制</strong></td><td>受控接入 - 集中控制</td><td>存在 1 个 “主站”，主站以循环方式轮询各站点，仅被轮询到且有数据的站点可发送</td><td>- 优点：有序控制，冲突少 - 缺点：存在<strong>单点故障</strong>（主站故障则整个系统瘫痪），已逐渐被淘汰</td><td>早期共享信道场景，目前应用较少</td></tr><tr><td></td><td>受控接入 - 分散控制（令牌环）</td><td>各站点平等，连接成环形网络；“令牌”（特殊控制帧）沿环逐站传递，仅持有令牌的站点可发送数据，发送后传递令牌</td><td>- 优点：无主站依赖，站点地位平等 - 缺点：环形拓扑维护复杂，令牌丢失会导致通信中断</td><td>早期环形局域网，目前应用较少</td></tr><tr><td></td><td>随机接入</td><td>所有站点通过 “竞争” 随机在信道上发送数据；若多站点同时发送，会产生 “碰撞（冲突）”，导致发送失败</td><td>- 优点：灵活性高，适应突发性数据传输 - 关键问题：需解决 “如何避免冲突” 和 “冲突后如何恢复通信”</td><td>共享式以太网（经典应用）；无线局域网（因无线信道广播特性，仍依赖此技术）</td></tr></tbody></table><h2 id="三、技术发展趋势">三、技术发展趋势</h2><p>随着交换技术成熟和成本降低，<strong>有线领域</strong>已发生根本性转变：</p><ul><li>过去的 “共享式局域网”（依赖随机接入等共享信道技术），已被 “交换式局域网” 完全取代；</li><li>交换式局域网基于 “点对点链路” 和 “链路层交换机”，无需共享信道，性能更高。</li></ul><p>而<strong>无线领域</strong>因 “无线信道的广播天性”，无法采用点对点交换架构，仍需使用共享媒体技术（如随机接入）。</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;一、核心定义&quot;&gt;一、核心定义&lt;/h2&gt;
&lt;p&gt;媒体接入控制（MAC，Medium Access Control）是数据链路层中针对&lt;strong&gt;共享信道&lt;/strong&gt;的关键技术，核心目标是协调多个发送 /</summary>
        
      
    
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>PPP协议</title>
    <link href="https://hellowydwyd.github.io/2025/10/08/PPP%E5%8D%8F%E8%AE%AE/"/>
    <id>https://hellowydwyd.github.io/2025/10/08/PPP%E5%8D%8F%E8%AE%AE/</id>
    <published>2025-10-08T05:52:13.000Z</published>
    <updated>2025-10-08T05:52:39.355Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、协议基础与定位">一、协议基础与定位</h2><ol><li><strong>核心定位</strong>：PPP是目前使用最广泛的<strong>点对点数据链路层协议</strong>，主要用于解决用户设备与ISP（互联网服务提供商，如中国电信、中国联通、中国移动）之间的网络接入问题，是用户接入因特网的关键数据链路层技术，常与PPPoE（PPP over Ethernet）协议配合使用。</li><li><strong>发展与标准</strong>：由因特网工程任务组（IETF）于1992年制定，经1993-1994年修订后成为因特网正式标准，核心标准文档为<strong>RFC1661</strong>（《The Point-to-Point Protocol (PPP)》）和<strong>RFC1662</strong>（《PPP in HDLC-like Framing》），此外还有多个扩展标准（如RFC1598定义PPP在X.25中的应用、RFC1618定义PPP over ISDN等）。</li></ol><h2 id="二、协议核心构成">二、协议核心构成</h2><p>PPP协议通过三部分协同工作，实现点对点链路的高效数据传输，具体如下：</p><table><thead><tr><th>构成部分</th><th>核心功能</th><th>关键说明</th></tr></thead><tbody><tr><td>对各种协议数据报的封装方法（封装成帧）</td><td>将网络层不同协议的数据包（如IP、IPX、AppleTalk）封装成PPP帧，适配物理层传输</td><td>是数据在链路层传输的“包装规范”，确保数据格式统一</td></tr><tr><td>链路控制协议（LCP）</td><td>建立、配置、测试数据链路连接，协商链路参数</td><td>负责链路的“初始化与维护”，是PPP链路建立的基础</td></tr><tr><td>一套网络控制协议（NCPs）</td><td>为不同网络层协议提供支持，配置网络层参数</td><td>每种NCP对应一种网络层协议，如IPCP（IP控制协议）用于配置IP地址</td></tr></tbody></table><h2 id="三、PPP帧格式">三、PPP帧格式</h2><p>PPP帧分为首部、数据部分和尾部，各字段功能与规格明确，具体结构如下：</p><h3 id="1-帧结构总览">1. 帧结构总览</h3><table><thead><tr><th>字段</th><th>标志（F）</th><th>地址（A）</th><th>控制（C）</th><th>协议（P）</th><th>数据部分</th><th>帧检验序列（FCS）</th><th>标志（F）</th></tr></thead><tbody><tr><td>长度</td><td>1字节</td><td>1字节</td><td>1字节</td><td>2字节</td><td>≤1500字节</td><td>2字节</td><td>1字节</td></tr><tr><td>功能</td><td>帧的定界符，取值为<code>0x7E</code>（二进制<code>01111110</code>）</td><td>预留，固定取值<code>0xFF</code>，目前无实际作用</td><td>预留，固定取值<code>0x03</code>，目前无实际作用</td><td>指明数据部分的协议类型，用于上层协议分发</td><td>承载网络层数据包（如IP数据报、LCP/NCP分组）</td><td>基于CRC-CCITT（公式：<code>X¹⁶+X¹²+X⁵+1</code>）计算的校验位，检测帧传输错误</td><td>与首部标志一致，确保帧边界完整</td></tr></tbody></table><h3 id="2-协议（P）字段关键取值">2. 协议（P）字段关键取值</h3><table><thead><tr><th>协议字段值</th><th>对应数据类型</th><th>说明</th></tr></thead><tbody><tr><td><code>0x0021</code></td><td>IP数据报</td><td>数据部分需送交网络层IP协议处理</td></tr><tr><td><code>0xC021</code></td><td>LCP分组</td><td>数据部分需送交链路层LCP协议处理</td></tr><tr><td><code>0x8021</code></td><td>NCP分组</td><td>数据部分需送交对应NCP协议处理（如IPCP）</td></tr></tbody></table><h2 id="四、透明传输机制">四、透明传输机制</h2><p>透明传输是指确保帧内数据部分中的<code>0x7E</code>（帧定界符）、控制字符等不被误识别为帧边界，PPP针对不同链路类型采用两种方法：</p><h3 id="1-面向字节的异步链路：字节填充法（插入转义字符）">1. 面向字节的异步链路：字节填充法（插入转义字符）</h3><ul><li><strong>发送方处理规则</strong>：<ol><li>若数据中出现<code>0x7E</code>（定界符），替换为<code>0x7D</code>（转义字符）+<code>0x5E</code>；</li><li>若数据中出现<code>0x7D</code>（转义字符），替换为<code>0x7D</code>+<code>0x5D</code>；</li><li>若数据中出现ASCII控制字符（数值＜<code>0x20</code>），在该字符前插入<code>0x7D</code>，并将字符编码+<code>0x20</code>。</li></ol></li><li><strong>接收方处理规则</strong>：执行反向变换，恢复原始数据（如<code>0x7D+0x5E</code>还原为<code>0x7E</code>，<code>0x7D+0x5D</code>还原为<code>0x7D</code>）。</li></ul><h3 id="2-面向比特的同步链路：比特填充法（插入比特0）">2. 面向比特的同步链路：比特填充法（插入比特0）</h3><ul><li><strong>发送方处理规则</strong>：扫描数据部分的比特流，每发现5个连续的“1”，立即插入1个“0”（例：<code>0111110</code>→<code>01111100</code>）；</li><li><strong>接收方处理规则</strong>：扫描数据部分的比特流，每发现5个连续的“1”，删除其后的1个“0”，恢复原始比特流。</li></ul><h2 id="五、差错检测机制">五、差错检测机制</h2><p>PPP采用<strong>帧检验序列（FCS）</strong> 实现差错检测，具体流程：</p><ol><li>发送方：基于CRC-CCITT算法，对“地址（A）+控制（C）+协议（P）+数据部分”计算FCS值，封装到FCS字段；</li><li>接收方：收到帧后，对相同字段重新计算FCS，与帧中FCS字段对比——若一致则接收帧，若不一致则丢弃帧；</li><li>注意：PPP数据链路层<strong>不提供可靠传输服务</strong>（无重传机制），可靠性需由上层协议（如TCP）保障。</li></ol><h2 id="六、工作状态与链路建立流程">六、工作状态与链路建立流程</h2><p>PPP链路建立需经历“物理层连接→LCP配置→鉴别→NCP配置→数据通信→链路终止”六个阶段，具体流程如下：</p><ol><li><strong>静止状态</strong>：链路未建立，无物理层连接；</li><li><strong>物理层连接建立</strong>：检测到载波信号，物理层链路接通；</li><li><strong>LCP配置协商</strong>：<ul><li>双方交换LCP分组，协商链路参数（如最大帧长、是否启用鉴别）；</li><li>协商成功进入下一阶段，失败则终止链路；</li></ul></li><li><strong>鉴别阶段</strong>：<ul><li>可选流程，支持三种方式：无需鉴别、口令鉴别协议（PAP）、挑战握手鉴别协议（CHAP）；</li><li>鉴别成功进入NCP配置，失败则终止链路；</li></ul></li><li><strong>NCP配置阶段</strong>：<ul><li>双方交换网络层特定的NCP分组（如IP场景下的IPCP），配置网络层参数（如分配IP地址）；</li><li>配置完成后，链路进入“网络打开”状态，可进行数据通信；</li></ul></li><li><strong>链路终止</strong>：<ul><li>触发条件：载波停止、出现故障、收到终止请求；</li><li>终止后返回“静止状态”。</li></ul></li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2</summary>
        
      
    
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>可靠传输-选择重传协议</title>
    <link href="https://hellowydwyd.github.io/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE/"/>
    <id>https://hellowydwyd.github.io/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE/</id>
    <published>2025-10-08T05:03:49.000Z</published>
    <updated>2025-10-09T06:43:31.917Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、协议背景与核心目标">一、协议背景与核心目标</h2><h3 id="1-问题起源">1. 问题起源</h3><p>回退N帧协议（GBN）存在资源浪费缺陷：</p><ul><li>接收窗口尺寸 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，仅能按序接收数据</li><li>若某一数据分组误码，后续无错分组会因&quot;失序&quot;被丢弃</li><li>导致发送方超时重传这些无错分组，浪费通信资源</li></ul><h3 id="2-核心目标">2. 核心目标</h3><ul><li>仅重传误码分组</li><li>增大接收窗口尺寸 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></li><li>缓存&quot;序号在接收窗口内、无错但失序&quot;的分组</li><li>待缺失分组补全后再一并提交上层</li><li>提升传输效率</li></ul><h2 id="二、协议关键机制">二、协议关键机制</h2><h3 id="1-分组序号编码">1. 分组序号编码</h3><ul><li>采用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 比特编号</li><li>序号范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim 2^n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></li><li>示例：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">n = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>，序号范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">0 \sim 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span></li></ul><h3 id="2-窗口尺寸规则">2. 窗口尺寸规则</h3><h4 id="发送窗口-W-T">发送窗口 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></h4><p>取值范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">1 &lt; W_T \leq 2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><p>关键约束：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_T = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 时：退化为停止-等待协议</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>&gt;</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">W_T &gt; 2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 时：接收方无法区分新/旧分组</li></ul><p>示例：取最大值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">W_T = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mn>3</mn><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">2^{3-1} = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>）</p><h4 id="接收窗口-W-R">接收窗口 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></h4><p>取值范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>R</mi></msub><mo>≤</mo><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">1 &lt; W_R \leq W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>关键说明：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 时：退化为 GBN 协议</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>&gt;</mo><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_R &gt; W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 无意义</li></ul><p>示例：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">W_R = W_T = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span></p><h3 id="3-发送方行为规则">3. 发送方行为规则</h3><ol><li>批量发送：连续发送序号在发送窗口内的分组</li><li>窗口滑动：<ul><li>仅在按序收到已发送分组确认时向前滑动</li><li>收到未按序确认时，记录确认但窗口不滑动</li></ul></li><li>超时重传：仅重传超时且未收到确认的分组</li></ol><h3 id="4-接收方行为规则">4. 接收方行为规则</h3><ol><li>分组接收：可接收窗口内无错但失序的分组，并缓存</li><li>确认方式：逐一确认，不使用累积确认</li><li>窗口滑动：仅在按序接收完当前窗口内分组时滑动</li></ol><h2 id="三、错误案例：窗口尺寸超限">三、错误案例：窗口尺寸超限</h2><h3 id="问题场景">问题场景</h3><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">W_T = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">W_R = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">n = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>（实际最大值应为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>）</li></ul><h3 id="风险">风险</h3><p>重传计时器超时后，接收方无法区分：</p><ul><li>重传的旧分组</li><li>新窗口内的新分组</li></ul><h2 id="四、协议对比">四、协议对比</h2><table><thead><tr><th>协议类型</th><th>接收窗口 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th><th>确认方式</th><th>重传策略</th><th>效率</th></tr></thead><tbody><tr><td>停止-等待协议(SW)</td><td>1</td><td>逐一确认</td><td>超时重传1个分组</td><td>低</td></tr><tr><td>回退N帧协议(GBN)</td><td>1</td><td>累积确认</td><td>超时重传所有后续分组</td><td>中</td></tr><tr><td>选择重传协议(SR)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">&gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>逐一确认</td><td>仅重传超时/误码分组</td><td>高</td></tr></tbody></table><h2 id="附：SR协议伪代码示例">附：SR协议伪代码示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SelectiveRepeatProtocol</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, window_size</span>):<br>        <span class="hljs-variable language_">self</span>.window_size = window_size<br>        <span class="hljs-variable language_">self</span>.send_window = []<br>        <span class="hljs-variable language_">self</span>.recv_window = []<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_packet</span>(<span class="hljs-params">self, packet</span>):<br>        <span class="hljs-comment"># 发送数据包逻辑</span><br>        <span class="hljs-keyword">pass</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">receive_packet</span>(<span class="hljs-params">self, packet</span>):<br>        <span class="hljs-comment"># 接收数据包逻辑</span><br>        <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;一、协议背景与核心目标&quot;&gt;一、协议背景与核心目标&lt;/h2&gt;
&lt;h3 id=&quot;1-问题起源&quot;&gt;1. 问题起源&lt;/h3&gt;
&lt;p&gt;回退N帧协议（GBN）存在资源浪费缺陷：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;接收窗口尺寸 &lt;span class=&quot;katex&quot;&gt;&lt;span</summary>
        
      
    
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>可靠传输-回退N帧协议</title>
    <link href="https://hellowydwyd.github.io/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE/"/>
    <id>https://hellowydwyd.github.io/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE/</id>
    <published>2025-10-08T03:25:50.000Z</published>
    <updated>2025-10-09T06:43:21.754Z</updated>
    
    <content type="html"><![CDATA[<h1>回退 N 帧协议（Go-Back-N, GBN）详解</h1><h2 id="一、协议背景与定位">一、协议背景与定位</h2><p>回退 N 帧协议（Go-Back-N，GBN）是数据链路层实现可靠传输的关键协议，属于<strong>连续 ARQ 协议</strong>与<strong>滑动窗口协议</strong>的一种。其设计初衷是解决停止 - 等待协议（SW）信道利用率低的问题 —— 停止 - 等待协议一次只能发送 1 个分组，需等待确认后再发下一个，若出现超时重传，利用率更低；而 GBN 通过 “流水线传输” 机制，允许发送方连续发送多个分组，大幅提升信道利用率。</p><h2 id="二、协议核心参数与规则">二、协议核心参数与规则</h2><h3 id="1-分组编号（序号）">1. 分组编号（序号）</h3><ul><li><strong>比特数</strong>：文档中以 3 个比特为例，分组序号范围为<strong>0~7</strong>（共 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">2^3=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> 个序号）。</li><li><strong>作用</strong>：标识分组顺序，避免接收方混淆新 / 旧分组，确保按序传输。</li></ul><h3 id="2-窗口尺寸规则">2. 窗口尺寸规则</h3><p>窗口是协议的核心机制，分为发送窗口（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）和接收窗口（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>），尺寸需严格遵循以下规则：</p><table><thead><tr><th>窗口类型</th><th>尺寸范围（n 为序号比特数）</th><th>文档示例（n=3）</th><th>核心作用</th></tr></thead><tbody><tr><td>发送窗口（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 &lt; W_T \leq 2^n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">W_T=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>（≤7）</td><td>限制发送方未确认时可连续发送的分组数量</td></tr><tr><td>接收窗口（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>（固定）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>仅允许按序接收分组，不支持乱序缓存</td></tr></tbody></table><ul><li><strong>关键注意点</strong>：若发送窗口尺寸超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>（如文档中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">W_T=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>），接收方将无法分辨新 / 旧分组（例如序号 0 可能是 “新分组 0” 或 “重传分组 0”），导致传输错误。</li></ul><h2 id="三、发送方核心逻辑">三、发送方核心逻辑</h2><ol><li><strong>连续发送</strong>：在未收到接收方确认的情况下，可将序号落在 “发送窗口内” 的所有分组连续发送（无需等待单个确认）。</li><li><strong>窗口滑动条件</strong>：仅当收到对已发送分组的确认时，发送窗口才向前滑动对应位数（例如确认了序号 3 的分组，窗口从 “0~4” 滑动到 “1~5”）。</li><li><strong>重传机制</strong>：<ul><li><strong>超时重传</strong>：若某个分组超时未收到确认，发送方需<strong>回退重传该分组及后续所有已发送的分组</strong>（即 “回退 N 帧” 的由来）。例如：发送了 4、5、6、7 号分组，若 4 号超时，需重传 4、5、6、7 共 4 个分组。</li><li><strong>快速重传</strong>：若收到<strong>多个重复确认</strong>（如连续收到 ACK3），可在超时计时器到期前提前重传（具体收到多少个重复确认触发重传，由实际实现决定）。</li></ul></li></ol><h2 id="四、接收方核心逻辑">四、接收方核心逻辑</h2><ol><li><strong>按序接收</strong>：因 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，仅接收 “序号落在接收窗口内” 且无差错的分组，接收后将窗口向前滑动 1 位。</li><li><strong>确认机制</strong>：采用<strong>累积确认</strong>（核心优化），而非逐个确认：<ul><li>无需对每个收到的分组单独发确认，可在连续收到多个按序分组后，仅对 “最后一个按序分组” 发送确认（例如收到 0、1、2 号分组，仅发 ACK2，表示 0~2 号均已正确接收）。</li><li>可通过 “捎带确认” 减少开销：在接收方自身有数据分组要发送时，顺带确认之前按序接收的分组。</li></ul></li><li><strong>乱序处理</strong>：收到未按序的分组（如期望接收 4 号，却收到 5 号），直接丢弃，并<strong>重发最近一次按序接收的分组的确认</strong>（如重发 ACK3），提示发送方 “4 号分组丢失，需重传”。</li></ol><h2 id="五、典型场景分析">五、典型场景分析</h2><h3 id="1-无差错场景">1. 无差错场景</h3><ul><li>发送方连续发送窗口内分组（如 0~4 号）；</li><li>接收方按序接收 0、1、2、3、4 号，通过累积确认发送 ACK4（表示 0~4 均已接收）；</li><li>发送方收到 ACK4 后，发送窗口从 “0~4” 滑动到 “1~5”，继续发送 5、6 等分组。</li></ul><h3 id="2-有差错场景（分组丢失-误码）">2. 有差错场景（分组丢失 / 误码）</h3><ul><li>例：发送方发送 0~7 号分组，其中 5 号分组误码，6、7、0、1 号分组虽正确到达；</li><li>接收方因 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，仅接收 0~4 号（按序），并发 ACK4；收到 5 号误码分组后丢弃，后续 6、7、0、1 号均为乱序，也丢弃，且持续重发 ACK4；</li><li>发送方未收到 5 号及以后的确认，超时后需<strong>回退重传 5、6、7 号分组</strong>（及后续已发送的分组）—— 即使 6、7 号曾正确到达，因 5 号丢失，仍需 “牵连重传”。</li><li><strong>关键结论</strong>：若通信线路质量差（差错率高），GBN 的信道利用率会大幅下降，甚至接近停止 - 等待协议。</li></ul><h2 id="六、协议优缺点总结">六、协议优缺点总结</h2><table><thead><tr><th>优点</th><th>缺点</th></tr></thead><tbody><tr><td>1. 流水线传输，大幅提升信道利用率（优于停止 - 等待协议）； 2. 累积确认减少确认开销； 3. 快速重传机制降低超时等待时间。</td><td>1. 接收方不支持乱序缓存，差错分组后续的正确分组需 “牵连重传”； 2. 线路质量差时，重传开销大，利用率接近停止 - 等待协议； 3. 发送窗口尺寸受序号比特数限制，灵活性较低。</td></tr></tbody></table><h2 id="七、与其他协议的关联">七、与其他协议的关联</h2><p>文档中提及 GBN 与另外两种可靠传输协议的对比，核心差异如下：</p><table><thead><tr><th>协议类型</th><th>发送窗口尺寸</th><th>接收窗口尺寸</th><th>核心特点</th></tr></thead><tbody><tr><td>停止 - 等待协议（SW）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_T=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>简单但利用率低，一次发 1 个</td></tr><tr><td>回退 N 帧协议（GBN）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 &lt; W_T \leq 2^n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>连续发送，差错时牵连重传</td></tr><tr><td>选择重传协议（SR）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">W_T=W_R=2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">W_R=2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></td><td>支持乱序缓存，仅重传差错分组（利用率更高，但复杂度高）</td></tr></tbody></table>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h1&gt;回退 N 帧协议（Go-Back-N, GBN）详解&lt;/h1&gt;
&lt;h2 id=&quot;一、协议背景与定位&quot;&gt;一、协议背景与定位&lt;/h2&gt;
&lt;p&gt;回退 N 帧协议（Go-Back-N，GBN）是数据链路层实现可靠传输的关键协议，属于&lt;strong&gt;连续 ARQ</summary>
        
      
    
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>可靠传输-停止等待协议</title>
    <link href="https://hellowydwyd.github.io/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE/"/>
    <id>https://hellowydwyd.github.io/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE/</id>
    <published>2025-10-08T03:00:24.000Z</published>
    <updated>2025-10-09T06:43:25.801Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、停止-等待协议（SW）核心机制">一、停止 - 等待协议（SW）核心机制</h2><p>停止 - 等待协议是最基础的可靠传输协议，核心逻辑为 “发送方发送一个数据分组后，停止发送并等待接收方确认，收到确认后再发送下一个分组”，具体机制包含以下 4 个关键模块：</p><h3 id="1-确认与否认（ACK-NAK）">1. 确认与否认（ACK/NAK）</h3><ul><li><strong>正常场景</strong>：发送方发送<code>DATA</code>分组，接收方正确接收后，返回<code>ACK</code>（确认）分组，发送方收到<code>ACK</code>后继续发送下一个<code>DATA</code>。</li><li><strong>误码场景</strong>：接收方检测到<code>DATA</code>分组存在误码时，有两种处理方式：<ul><li>直接丢弃误码分组，等待发送方超时重传（适用于误码率较低的链路）；</li><li>向发送方发送<code>NAK</code>（否认）分组，触发发送方尽早重传（适用于误码率较高的点对点链路）。</li></ul></li></ul><h3 id="2-超时重传">2. 超时重传</h3><ul><li><strong>核心问题</strong>：若<code>DATA</code>分组丢失或<code>ACK</code>分组丢失，发送方会一直等待确认，陷入死锁。</li><li><strong>解决方案</strong>：发送方发送<code>DATA</code>分组后，立即启动<strong>超时计时器</strong>；若计时器超时仍未收到<code>ACK/NAK</code>，则重传原<code>DATA</code>分组。</li><li><strong>重传时间设定</strong>：需 “略大于发送方到接收方的平均往返时间（RTT）”，避免过早重传导致资源浪费，或过晚重传导致时延增加。<ul><li>数据链路层：点对点往返时间稳定，重传时间易设定；</li><li>运输层：端到端往返时间不确定，重传时间设定难度较高。</li></ul></li></ul><h3 id="3-分组编号（避免重复）">3. 分组编号（避免重复）</h3><ul><li><strong>数据分组编号</strong>：由于协议 “停等” 特性，只需 1 个比特编号（0 和 1）即可区分新分组与重复分组（确保每次新分组编号与上一次不同）。</li><li><strong>ACK 分组编号</strong>：理论上需与数据分组编号比特数一致（帮助发送方判断<code>ACK</code>是否重复），但数据链路层极少出现<code>ACK</code>迟到场景，因此可省略<code>ACK</code>编号。</li></ul><h3 id="4-异常场景处理">4. 异常场景处理</h3><p>文档明确了 4 种典型异常场景的协议行为，具体如下表：</p><table><thead><tr><th>异常场景</th><th>发送方行为</th><th>接收方行为</th><th>最终结果</th></tr></thead><tbody><tr><td><code>DATA</code>分组丢失</td><td>启动超时计时器，超时后重传<code>DATA</code></td><td>未收到<code>DATA</code>，不发送<code>ACK/NAK</code></td><td>重传<code>DATA</code>被正确接收，返回<code>ACK</code></td></tr><tr><td><code>ACK</code>分组丢失</td><td>未收到<code>ACK</code>，超时后重传<code>DATA</code></td><td>已正确接收原<code>DATA</code>，收到重传<code>DATA</code>后丢弃（因编号重复），重新发送<code>ACK</code></td><td>发送方收到重发的<code>ACK</code>，继续发送下一个<code>DATA</code></td></tr><tr><td><code>DATA</code>分组误码</td><td>若收到<code>NAK</code>则立即重传；若未收到<code>NAK</code>，则超时后重传</td><td>丢弃误码<code>DATA</code>，可选发送<code>NAK</code></td><td>重传<code>DATA</code>被正确接收，返回<code>ACK</code></td></tr><tr><td><code>ACK</code>分组迟到</td><td>未及时收到<code>ACK</code>，超时后重传<code>DATA</code></td><td>已收到原<code>DATA</code>，收到重传<code>DATA</code>后丢弃，重新发送<code>ACK</code></td><td>发送方收到迟到 / 重发的<code>ACK</code>，停止重传</td></tr></tbody></table><h2 id="二、停止-等待协议的信道利用率">二、停止 - 等待协议的信道利用率</h2><h3 id="1-利用率公式">1. 利用率公式</h3><p>信道利用率（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span>）表示有效传输时间占总周期时间的比例，公式如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>U</mi><mo>≈</mo><mfrac><msub><mi>T</mi><mi>D</mi></msub><mrow><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><msub><mi>T</mi><mi>D</mi></msub><mo>+</mo><msub><mi>T</mi><mi>A</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">U \approx \frac{T_D}{RTT + T_D + T_A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">T_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>：数据分组发送时延（发送分组所需时间）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">RTT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span>：往返时间（分组从发送到接收ACK的总时间）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>A</mi></msub></mrow><annotation encoding="application/x-tex">T_A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>：ACK分组发送时延（通常远小于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">T_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，可忽略）</li></ul><p>简化公式为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>U</mi><mo>≈</mo><mfrac><msub><mi>T</mi><mi>D</mi></msub><mrow><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><msub><mi>T</mi><mi>D</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">U \approx \frac{T_D}{RTT + T_D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h3 id="2-核心缺陷">2. 核心缺陷</h3><p>当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">RTT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span>远大于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">T_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（如卫星链路）时，信道利用率极低；若出现重传，利用率会进一步下降 —— 这也是 GBN 和 SR 协议产生的核心原因（弥补 SW 利用率低的缺陷）。</p><h2 id="三、相关协议对比（GBN-与-SR）">三、相关协议对比（GBN 与 SR）</h2><p>文档虽未详细展开 GBN 和 SR 协议，但明确其设计目标是 “解决 SW 信道利用率低的问题”，三者核心差异如下：</p><table><thead><tr><th>协议</th><th>发送方式</th><th>重传策略</th><th>信道利用率</th><th>复杂度</th></tr></thead><tbody><tr><td>停止 - 等待（SW）</td><td>一次发 1 个，停等确认</td><td>仅重传超时 / 否认的分组</td><td>最低（RTT 越大越低）</td><td>最低</td></tr><tr><td>回退 N 帧（GBN）</td><td>连续发 N 个，无需等待确认</td><td>超时后重传该分组及后续所有分组</td><td>中等</td><td>中等</td></tr><tr><td>选择重传（SR）</td><td>连续发 N 个，无需等待确认</td><td>仅重传超时 / 否认的分组</td><td>最高</td><td>最高（需缓存已发未确认分组）</td></tr></tbody></table><h2 id="四、总结">四、总结</h2><p>停止 - 等待协议是可靠传输的 “基础模型”，通过 “停等确认 + 超时重传 + 分组编号” 实现数据可靠交付，优点是逻辑简单、易于实现，缺点是信道利用率极低（尤其长时延链路）。GBN 和 SR 协议在此基础上优化，通过 “连续发送 + 选择性重传” 提升利用率，但复杂度相应增加。三者共同构成了计算机网络各层可靠传输的核心技术框架，需结合场景选择适用协议</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;一、停止-等待协议（SW）核心机制&quot;&gt;一、停止 - 等待协议（SW）核心机制&lt;/h2&gt;
&lt;p&gt;停止 - 等待协议是最基础的可靠传输协议，核心逻辑为 “发送方发送一个数据分组后，停止发送并等待接收方确认，收到确认后再发送下一个分组”，具体机制包含以下 4</summary>
        
      
    
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>可靠传输的基本概念</title>
    <link href="https://hellowydwyd.github.io/2025/10/07/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/"/>
    <id>https://hellowydwyd.github.io/2025/10/07/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/</id>
    <published>2025-10-07T13:32:56.000Z</published>
    <updated>2025-10-07T13:35:04.540Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、差错检测技术">一、差错检测技术</h2><p>接收方数据链路层可通过<strong>差错检测技术</strong>（典型技术为循环冗余校验 CRC），检测帧在传输过程中是否产生<strong>误码（比特错误）</strong>，核心是借助帧尾的<strong>FCS 字段（检错码）</strong> 实现检测。</p><h2 id="二、数据链路层的两种服务类型">二、数据链路层的两种服务类型</h2><table><thead><tr><th>服务类型</th><th>核心特点</th><th>适用场景逻辑</th></tr></thead><tbody><tr><td>不可靠传输服务</td><td>仅丢弃存在误码的帧，不额外处理</td><td>适用于误码率低的场景，可减少开销</td></tr><tr><td>可靠传输服务</td><td>确保 “发送端发送什么，接收端就收到什么”</td><td>适用于误码率高的场景，需保障数据准确性</td></tr></tbody></table><h2 id="三、不同链路的服务需求差异">三、不同链路的服务需求差异</h2><ol><li><strong>有线链路</strong>：误码率较低，为减小开销，<strong>不要求</strong>数据链路层提供可靠传输服务；若出现误码，由上层协议处理可靠传输问题。</li><li><strong>无线链路</strong>：易受干扰导致误码率较高，<strong>必须要求</strong>数据链路层向上层提供可靠传输服务。</li></ol><h2 id="四、传输差错的分类">四、传输差错的分类</h2><p>比特差错只是传输差错的一种，从计算机网络体系结构整体来看，传输差错可分为四类，具体如下：</p><table><thead><tr><th>差错类型</th><th>定义</th><th>常见出现层级</th></tr></thead><tbody><tr><td>比特差错</td><td>数据传输中比特位发生错误（如 0 变 1、1 变 0）</td><td>数据链路层</td></tr><tr><td>分组丢失</td><td>分组在传输中被丢弃（如路由器输入队列满时主动丢弃）</td><td>多出现于上层（非数据链路层）</td></tr><tr><td>分组失序</td><td>分组到达接收端的顺序与发送顺序不一致</td><td>多出现于上层（非数据链路层）</td></tr><tr><td>分组重复</td><td>同一分组被多次传输到接收端</td><td>多出现于上层（非数据链路层）</td></tr></tbody></table><h2 id="五、可靠传输的层级范围与选择原则">五、可靠传输的层级范围与选择原则</h2><ol><li><strong>层级范围</strong>：可靠传输服务不局限于数据链路层，网络体系结构中<strong>其他各层均可选择实现</strong>。例如：<ul><li>运输层：TCP 提供面向连接的可靠传输服务，UDP 提供无连接的不可靠传输服务。</li><li>网际层：IP 提供无连接的不可靠传输服务。</li><li>数据链路层：802.11 无线局域网要求实现可靠传输，以太网不要求。</li></ul></li><li><strong>选择原则</strong>：可靠传输实现复杂、开销较大，<strong>是否使用取决于应用需求</strong>，需在 “可靠性” 与 “开销成本” 间权衡。</li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;一、差错检测技术&quot;&gt;一、差错检测技术&lt;/h2&gt;
&lt;p&gt;接收方数据链路层可通过&lt;strong&gt;差错检测技术&lt;/strong&gt;（典型技术为循环冗余校验</summary>
        
      
    
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>差错检测</title>
    <link href="https://hellowydwyd.github.io/2025/10/07/%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B/"/>
    <id>https://hellowydwyd.github.io/2025/10/07/%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B/</id>
    <published>2025-10-07T12:57:17.000Z</published>
    <updated>2025-10-07T12:59:19.657Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、核心背景：比特差错与误码率">一、核心背景：比特差错与误码率</h2><ol><li><strong>比特差错定义</strong>：实际通信链路非理想，传输中比特可能发生翻转（1 变 0 或 0 变 1），此现象称为比特差错。</li><li><strong>误码率（BER）</strong>：衡量差错程度的指标，指一段时间内传输错误的比特数占总传输比特数的比率。</li><li><strong>差错检测的必要性</strong>：使用差错检测码检测传输中的比特差错，是数据链路层的重要任务之一，常见应用场景为以太网 V2 的 MAC 帧、PPP 帧等帧结构，二者均包含用于差错检测的 FCS（帧检验序列）字段，具体帧结构如下：</li></ol><p><strong>以太网 V2 的 MAC 帧</strong>：总长度最大为 1518 字节，各字段及长度如下表：</p><table><thead><tr><th>字段</th><th>目的地址</th><th>源地址</th><th>类型</th><th>数据载荷</th><th>FCS</th></tr></thead><tbody><tr><td>长度（字节）</td><td>6</td><td>6</td><td>2</td><td>46~1500</td><td>4</td></tr></tbody></table><p><strong>PPP 帧</strong>：各字段及长度如下表：</p><table><thead><tr><th>字段</th><th>标志</th><th>地址</th><th>控制</th><th>协议</th><th>数据载荷</th><th>FCS</th><th>标志</th></tr></thead><tbody><tr><td>长度（字节）</td><td>1</td><td>1</td><td>1</td><td>2</td><td>不超过 1500</td><td>2</td><td>1</td></tr></tbody></table><h2 id="二、主流差错检测方法">二、主流差错检测方法</h2><h3 id="（一）奇偶校验">（一）奇偶校验</h3><ol><li><strong>核心原理</strong>：在待发送数据后添加 1 位奇偶校验位，使整体数据（含校验位）中 “1” 的个数满足特定规则 —— 奇校验（“1” 的个数为奇数）或偶校验（“1” 的个数为偶数）。</li><li><strong>差错检测能力</strong>：<ul><li><strong>可检出错误</strong>：当传输过程中发生奇数个位误码时，数据中 “1” 的奇偶性改变，可检测出错误。例如奇校验下，原数据 “11011”（含校验位共 5 个 1）传输中 1 位误码后，“1” 的个数变为 4（偶数），奇偶性改变，能检出错误。</li><li><strong>不可检出错误</strong>：当发生偶数个位误码时，“1” 的奇偶性不变，无法检测出错误。例如偶校验下，原数据 “0111101”（含校验位共 5 个 1，偶校验时需调整校验位使 “1” 的个数为偶数）传输中 2 位误码后，“1” 的个数仍为偶数，奇偶性未变，漏检错误。</li></ul></li></ol><h3 id="（二）循环冗余校验（CRC）">（二）循环冗余校验（CRC）</h3><h4 id="1-核心机制">1. 核心机制</h4><ul><li><strong>前提约定</strong>：收发双方预先约定一个生成多项式 G (x)，且生成多项式必须包含最低次项。</li><li><strong>发送方处理</strong>：<ol><li>构造被除数：在待发送数据后添加生成多项式最高次数个 0；</li><li>构造除数：由生成多项式各项系数构成比特串；</li><li>计算冗余码：将被除数与除数进行 “异或除法”（仅做异或运算，无借位），得到的余数即为冗余码，其长度与生成多项式最高次数相同；</li><li>发送数据：将冗余码添加到待发送数据后，形成完整传输数据。</li></ol></li><li><strong>接收方处理</strong>：<ol><li>构造被除数：直接将接收到的完整数据作为被除数；</li><li>构造除数：与发送方一致，由约定的生成多项式各项系数构成比特串；</li><li>验证差错：对被除数和除数进行 “异或除法”，若余数为 0，判定无差错；若余数不为 0，判定传输过程产生误码。</li></ol></li></ul><h4 id="2-生成多项式示例与常用类型">2. 生成多项式示例与常用类型</h4><ul><li><strong>示例</strong>：生成多项式 G (x) = x⁴ + x² + x + 1，其各项系数构成的比特串为 10111（x⁴系数为 1，x³ 系数为 0，x² 系数为 1，x¹ 系数为 1，x⁰系数为 1）。</li><li><strong>常用生成多项式</strong>：<ul><li>CRC-16：G(x) = x¹⁶ + x¹⁵ + x² + 1</li><li>CRC-CCITT：G(x) = x¹⁶ + x¹² + x⁵ + 1</li><li>CRC-32：G(x) = x³² + x²⁶ + x²³ + x²² + x¹⁶ + x¹² + x¹¹ + x¹⁰ + x⁸ + x⁷ + x⁵ + x⁴ + x² + x + 1</li></ul></li></ul><h4 id="3-计算示例">3. 计算示例</h4><ul><li><strong>场景</strong>：待发送信息为 101001，生成多项式 G (x) = x³ + x² + 1（最高次数为 3，各项系数构成比特串 1101）。</li><li><strong>发送方计算冗余码</strong>：<ol><li>构造被除数：待发送信息 101001 后加 3 个 0，得到 101001000；</li><li>构造除数：1101；</li><li>异或除法计算：101001000 ÷ 1101（异或运算），最终余数为 001（因生成多项式最高次数为 3，余数需补 0 凑足 3 位），即冗余码为 001；</li><li>发送数据：101001 + 001 = 101001001。</li></ol></li><li><strong>接收方验证</strong>：<ol><li>若接收到的信息为 101101001，以其为被除数，除数仍为 1101；</li><li>异或除法计算后余数不为 0，判定传输产生误码。</li></ol></li></ul><h2 id="三、差错处理相关补充">三、差错处理相关补充</h2><ol><li><strong>检错码与纠错码的区别</strong>：<ul><li><strong>检错码</strong>：仅能检测帧传输中的差错，无法定位错误，因此不能纠正错误（如奇偶校验、CRC）；</li><li><strong>纠错码</strong>：通过更多冗余信息实现前向纠错（定位并纠正错误），但开销大，在计算机网络中较少使用。</li></ul></li><li><strong>计算机网络中的差错纠正策略</strong>：通常采用 “检错重传” 方式（检测到差错后要求发送方重传数据），或直接丢弃差错帧，具体取决于数据链路层向上层提供的是可靠传输服务还是不可靠传输服务。</li><li><strong>CRC 的优势</strong>：检错能力强（漏检率极低），虽计算复杂，但易于通过硬件实现，因此在数据链路层被广泛应用。</li></ol>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;一、核心背景：比特差错与误码率&quot;&gt;一、核心背景：比特差错与误码率&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;比特差错定义&lt;/strong&gt;：实际通信链路非理想，传输中比特可能发生翻转（1 变 0 或 0 变</summary>
        
      
    
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>封装成帧</title>
    <link href="https://hellowydwyd.github.io/2025/10/06/%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7/"/>
    <id>https://hellowydwyd.github.io/2025/10/06/%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7/</id>
    <published>2025-10-06T08:44:31.000Z</published>
    <updated>2025-10-06T08:44:31.485Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、封装成帧核心定义">一、封装成帧核心定义</h2><p>封装成帧是数据链路层的核心功能之一，指该层为上层（网络层）交付的协议数据单元（PDU）添加<strong>帧头</strong>和<strong>帧尾</strong>，最终形成可在链路中传输的 “帧”。其中，帧头和帧尾包含关键控制信息，核心作用之一是<strong>帧定界</strong>—— 帮助接收方数据链路层从物理层传递的连续比特流中准确提取出单个帧。</p><h2 id="二、典型帧结构">二、典型帧结构</h2><p>该文档重点介绍了两种主流帧格式，具体结构如下：</p><h3 id="1-以太网-V2-的-MAC-帧">1. 以太网 V2 的 MAC 帧</h3><ul><li><strong>总长度限制</strong>：最大长度为 1518 字节（含帧头、数据载荷、帧尾）。</li><li><strong>字段构成</strong>（按顺序）：</li></ul><table><thead><tr><th>字段名称</th><th>长度（字节）</th><th>核心作用</th></tr></thead><tbody><tr><td>目的地址</td><td>6</td><td>标识帧的接收设备（MAC 地址）</td></tr><tr><td>源地址</td><td>6</td><td>标识帧的发送设备（MAC 地址）</td></tr><tr><td>类型</td><td>2</td><td>指明上层使用的协议（如 IP 协议）</td></tr><tr><td>数据载荷</td><td>46~1500</td><td>承载上层（网络层）交付的协议数据单元</td></tr><tr><td>FCS</td><td>4</td><td>帧检验序列，用于检测帧在传输中的差错</td></tr></tbody></table><ul><li><strong>补充说明</strong>：实际传输时，MAC 帧前会附加 “前导码”（7 字节，用于同步时钟）和 “帧开始定界符”（1 字节，标识帧开始），且帧之间需保留 “帧间间隔”（96 比特时间，避免帧冲突）。</li></ul><h3 id="2-PPP-帧（点对点协议帧）">2. PPP 帧（点对点协议帧）</h3><ul><li><strong>字段构成</strong>（按顺序）：</li></ul><table><thead><tr><th>字段名称</th><th>长度（字节）</th><th>核心作用</th></tr></thead><tbody><tr><td>标志（Flag）</td><td>1</td><td>帧定界符，固定值为<code>01111110</code>，标识帧的开始与结束</td></tr><tr><td>地址</td><td>1</td><td>PPP 为点对点链路，通常设为固定值<code>FF</code>（广播地址）</td></tr><tr><td>控制</td><td>1</td><td>用于流量控制和差错控制，默认值为<code>03</code></td></tr><tr><td>协议</td><td>2</td><td>指明上层协议（如 IP 协议对应<code>0021</code>）</td></tr><tr><td>数据载荷</td><td>≤1500</td><td>承载上层协议数据单元</td></tr><tr><td>FCS</td><td>2</td><td>帧检验序列，检测传输差错</td></tr><tr><td>标志（Flag）</td><td>1</td><td>与帧头标志一致，标识帧结束</td></tr></tbody></table><h2 id="三、透明传输技术">三、透明传输技术</h2><h3 id="1-透明传输定义">1. 透明传输定义</h3><p>数据链路层对上层交付的传输数据无任何限制（即数据中可包含任意比特组合），上层无需关注链路层细节，如同链路层 “不存在”，这一特性称为透明传输。</p><h3 id="2-实现方式（按链路类型分类）">2. 实现方式（按链路类型分类）</h3><h4 id="（1）面向字节的物理链路：字节填充（字符填充）">（1）面向字节的物理链路：字节填充（字符填充）</h4><ul><li><strong>核心逻辑</strong>：若数据中出现与 “标志字段（Flag，<code>01111110</code>）” 或 “转义字符（ESC，<code>1B</code>）” 相同的字节，需在其前插入转义字符<code>ESC</code>，避免被误识别为帧定界符或转义符。</li><li><strong>示例</strong>：<ul><li>原始数据含<code>Flag</code>（<code>01111110</code>）→ 填充后变为<code>ESC + Flag</code>；</li><li>原始数据含<code>ESC</code>（<code>1B</code>）→ 填充后变为<code>ESC + ESC</code>；</li><li>接收方收到后，删除<code>ESC</code>即可恢复原始数据。</li></ul></li></ul><h4 id="（2）面向比特的物理链路：比特填充（零比特填充法）">（2）面向比特的物理链路：比特填充（零比特填充法）</h4><ul><li><strong>核心逻辑</strong>：以 HDLC 协议为例，帧定界符为<code>01111110</code>（含 6 个连续 1）。发送方在数据部分检测到 “5 个连续 1” 时，自动插入 1 个 “0”；接收方检测到 “5 个连续 1+1 个 0” 时，删除该 “0”，恢复原始数据。</li><li><strong>真题示例（2013 年题 37）</strong>：<ul><li>原始比特串：<code>011111000111111</code>；</li><li>填充规则：5 个连续 1 后插 0，处理后为<code>011111000011111010</code>（对应选项 A）；</li><li>最终帧结构：前后附加<code>01111110</code>（标志字段），完整帧为<code>01111110 011111000011111010 01111110</code>。</li></ul></li></ul><h2 id="四、最大传送单元（MTU）">四、最大传送单元（MTU）</h2><ol><li><strong>定义</strong>：为平衡传输效率与差错控制（帧越长，差错重传代价越高），每种数据链路层协议均规定 “帧的数据部分长度上限”，即最大传送单元 MTU。</li><li><strong>核心作用</strong>：限制帧的数据载荷大小（如以太网 V2 的 MAC 帧数据载荷上限为 1500 字节），避免帧过长导致传输效率下降或差错风险增加。</li><li><strong>关系公式</strong>：<code>帧总长度 = 帧头长度 + 数据载荷长度（≤MTU） + 帧尾长度</code>。</li></ol><h2 id="五、关键总结">五、关键总结</h2><table><thead><tr><th>核心概念</th><th>核心内容</th></tr></thead><tbody><tr><td>封装成帧</td><td>数据链路层添加帧头 / 帧尾形成帧，实现帧定界</td></tr><tr><td>典型帧结构</td><td>以太网 V2 MAC 帧（1518 字节上限）、PPP 帧（标志字段定界）</td></tr><tr><td>透明传输</td><td>数据无限制，通过字节填充（面向字节链路）或比特填充（面向比特链路）实现</td></tr><tr><td>MTU</td><td>帧数据部分长度上限，平衡传输效率与差错控制</td></tr></tbody></table>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;一、封装成帧核心定义&quot;&gt;一、封装成帧核心定义&lt;/h2&gt;
&lt;p&gt;封装成帧是数据链路层的核心功能之一，指该层为上层（网络层）交付的协议数据单元（PDU）添加&lt;strong&gt;帧头&lt;/strong&gt;和&lt;strong&gt;帧尾&lt;/strong&gt;，最终形成可在链路中传输的</summary>
        
      
    
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="计算机与网络" scheme="https://hellowydwyd.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
</feed>
