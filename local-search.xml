<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>2 关系数据库</title>
    <link href="/2025/10/23/2-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    <url>/2025/10/23/2-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h2 id="一、关系数据库发展与理论基础">一、关系数据库发展与理论基础</h2><h3 id="（一）核心奠基人及贡献">（一）核心奠基人及贡献</h3><p>E.F.Codd（IBM公司）是关系数据库理论的核心奠基人，其关键贡献如下：</p><ul><li>1970年：在《Communication of the ACM》发表论文，提出<strong>关系数据模型</strong>，为关系数据库奠定基础。</li><li>后续研究：提出关系代数、关系演算概念，构建关系数据库的数学运算体系。</li><li>范式理论：1972年提出第一、二、三范式（1NF、2NF、3NF），1974年提出BC范式，解决数据冗余与异常问题。</li><li>荣誉：因对关系数据库理论的开创性贡献，获1981年ACM图灵奖。</li></ul><h3 id="（二）理论基础与代表系统">（二）理论基础与代表系统</h3><ul><li>数学基础：关系理论建立在<strong>集合代数理论</strong>之上，确保逻辑严谨性。</li><li>早期代表系统：<ul><li>System R：由IBM研制，是关系数据库技术的重要早期实践。</li><li>INGRES：由加州Berkeley分校研制，推动关系数据库的学术与工业应用。</li></ul></li><li>主流商业数据库：<ul><li>大型数据库：Oracle、Informix、Sybase、SQL Server、DB2，适用于企业级海量数据存储与处理。</li><li>小型数据库：Access、Foxpro、Foxbase，多用于个人或小型团队的数据管理。</li></ul></li></ul><h2 id="二、关系数据结构及形式化定义">二、关系数据结构及形式化定义</h2><h3 id="（一）核心概念与定义">（一）核心概念与定义</h3><ol><li><p><strong>域（Domain）</strong></p><ul><li>定义：一组具有相同数据类型的值的集合，是属性的取值范围。</li><li>示例：整数集、{'男','女'}、长度为10的字符串集合、0-100的整数区间。</li></ul></li><li><p><strong>笛卡尔积（Cartesian Product）</strong></p><ul><li>定义：给定域D₁,D₂,...,Dₙ，其笛卡尔积为所有域取值的无重复组合，记为D₁×D₂×...×Dₙ。</li><li>性质：<ul><li>结果为n元组集合，每个元组(d₁,d₂,...,dₙ)中dᵢ∈Dᵢ。</li><li>可表示为二维表：每行对应一个元组，每列对应一个域。</li></ul></li><li>示例：若D₁={t1,t2}（教师）、D₂={s1,s2,s3}（学生）、D₃={c1,c2}（课程），则笛卡尔积包含(t1,s1,c1),(t1,s1,c2),...,(t2,s3,c2)共2×3×2=12个元组。</li></ul></li><li><p><strong>关系（Relation）</strong></p><ul><li>定义：笛卡尔积的<strong>有意义子集</strong>，记为R(D₁,D₂,...,Dₙ)，其中R为关系名，n为关系的&quot;度/目&quot;。</li><li>核心属性：<ul><li>元组（Tuple）：关系中的每个元素（对应二维表的行），如(t1,s1,c1)。</li><li>分量（Component）：元组中的每个值（对应表中单元格），如t1、s1。</li><li>基数（Cardinal number）：关系中的元组个数，若域Dᵢ基数为mᵢ，则笛卡尔积基数为M=∏mᵢ，关系基数≤M。</li><li>属性（Attribute）：关系中每列的名称（因不同列可能来自同一域，需命名区分），n目关系必有n个属性。</li></ul></li></ul></li><li><p><strong>码（Key）</strong></p><ul><li>候选码（Candidate Key）：能唯一标识元组的最小属性组（去掉任一属性则失去唯一性），如&quot;学号&quot;可作为学生关系的候选码。</li><li>主码（Primary Key）：从多个候选码中选定的&quot;唯一标识&quot;，用于数据库操作中的定位，如学生关系中选&quot;学号&quot;为主码。</li><li>全码（All-key）：关系的所有属性组构成候选码，仅在特殊场景（如多实体无单一标识属性的联系）中存在，如&quot;教师-学生-课程&quot;联系表可能以（教师编码,学生学号,课程号）为全码。</li><li>外部码（Foreign Key）：关系R中的属性组，非R的码，但与关系S的主码对应，用于建立关系间的关联，如&quot;学生&quot;表的&quot;学院号&quot;是&quot;学院&quot;表&quot;学院号&quot;的外码。</li></ul></li><li><p><strong>三类关系</strong></p><ul><li>基本关系（基表）：实际存储数据的逻辑表，对应现实世界的实体集（如&quot;学生表&quot;&quot;课程表&quot;）。</li><li>查询表：查询结果生成的临时表，不长期存储。</li><li>视图表：由基表或其他视图导出的&quot;虚表&quot;，仅存储定义，不存储数据，查询时动态计算。</li></ul></li></ol><h3 id="（二）关系的性质">（二）关系的性质</h3><ol><li>列同质：每列分量来自同一域，且属性名唯一。</li><li>行无序：元组的顺序不影响数据逻辑（集合特性）。</li><li>元组唯一：任意两个元组的候选码不同（无重复元组）。</li><li>分量不可再分：满足第一范式（1NF），即每个单元格不能包含多个值或子结构（如&quot;地址&quot;不能拆分为&quot;省+市&quot;存储在同一单元格）。</li></ol><h3 id="（三）关系模式与关系数据库">（三）关系模式与关系数据库</h3><ol><li><p><strong>关系模式（Relation Schema）</strong></p><ul><li>定义：对关系的静态描述，包含元组结构、完整性约束、属性依赖，形式化表示为R(U,D,DOM,F)：<ul><li>R：关系名；U：属性名集合；D：属性对应的域；DOM：属性到域的映象；F：属性间数据依赖。</li></ul></li><li>简记形式：R(A₁,A₂,...,Aₙ)（如学生模式S(学号,姓名,性别,学院号)）。</li><li>与关系的区别：关系模式是&quot;型&quot;（静态结构），关系是&quot;值&quot;（某时刻的实际数据，动态变化）。</li></ul></li><li><p><strong>关系数据库（Relation Database）</strong></p><ul><li>型（内涵）：关系数据库模式，包含域定义和若干关系模式。</li><li>值（外延）：某时刻所有关系的集合，即实际存储的数据。</li></ul></li></ol><h2 id="三、关系操作">三、关系操作</h2><h3 id="（一）常用操作分类">（一）常用操作分类</h3><ol><li><strong>查询操作</strong>（核心）：<ul><li>基本操作：选择、投影、并、差、笛卡尔积（5种，构成其他查询的基础）。</li><li>扩展操作：交、连接（等值/自然连接）、除、广义投影、外连接、聚集。</li></ul></li><li><strong>数据更新</strong>：插入、删除、修改。</li></ol><h3 id="（二）操作特点">（二）操作特点</h3><ul><li>集合操作：操作对象和结果均为集合（一次一集合），区别于非关系型数据库的&quot;一次一记录&quot;。</li></ul><h3 id="（三）关系数据语言">（三）关系数据语言</h3><ol><li><p><strong>语言特点</strong>：</p><ul><li>一体化：集数据定义（DDL）、数据操纵（DML）、数据控制（DCL）于一体，操作对象统一为关系。</li><li>非过程化：用户只需说明&quot;做什么&quot;（目标），无需指定&quot;怎么做&quot;（执行路径，由系统自动优化）。</li><li>面向集合：操作结果为关系，支持复杂关联查询。</li></ul></li><li><p><strong>语言分类</strong>：</p><ul><li>关系代数：用&quot;运算&quot;表达查询（如选择、投影），需指明操作步骤。</li><li>关系演算：用&quot;谓词&quot;描述查询目标（如元组演算、域演算），无需说明步骤。</li></ul></li></ol><h2 id="四、关系的完整性">四、关系的完整性</h2><p>关系模型通过完整性约束确保数据正确性、一致性，分为三类：</p><h3 id="（一）实体完整性（Entity-Integrity）">（一）实体完整性（Entity Integrity）</h3><ol><li>规则：基本关系的<strong>主属性不能取空值</strong>（空值表示&quot;未知&quot;或&quot;无意义&quot;）。</li><li>理由：主属性是实体的唯一标识，空值会导致实体无法区分（如学生表&quot;学号&quot;不能为空）。</li></ol><h3 id="（二）参照完整性（Referential-Integrity）">（二）参照完整性（Referential Integrity）</h3><ol><li><p>规则：若F是关系R的外码（对应关系S的主码Kₛ），则R中F的取值只能是：</p><ul><li>空值（若F允许空）；</li><li>S中某元组的Kₛ值（确保引用的实体存在）。</li></ul></li><li><p>示例：</p><ul><li>学生表&quot;学院号&quot;（外码）只能取学院表中存在的&quot;学院号&quot;，或空值（未分配学院）。</li><li>选修表&quot;学号&quot;（外码）必须取学生表中存在的&quot;学号&quot;（因&quot;学号&quot;是选修表的主属性，不允许空）。</li></ul></li><li><p><strong>违约处理</strong>：</p><ul><li>拒绝执行：默认策略（如插入不存在&quot;学院号&quot;的学生，直接拒绝）。</li><li>级联操作：删除/修改被参照表元组时，同步删除/修改参照表关联元组（如删除学生时，级联删除其选修记录）。</li><li>设置为空值：删除/修改被参照表元组时，将参照表外码设为空（仅适用于外码允许空的场景）。</li></ul></li></ol><h3 id="（三）用户定义的完整性（User-Defined-Integrity）">（三）用户定义的完整性（User-Defined Integrity）</h3><ol><li>定义：针对具体应用的语义约束，如&quot;性别只能是男/女&quot;&quot;成绩范围0-100&quot;&quot;年龄≥16&quot;。</li><li>实现：由数据库系统提供机制（如CHECK约束），避免由应用程序单独处理，确保一致性。</li></ol><h2 id="五、关系代数（重点）">五、关系代数（重点）</h2><p>以&quot;学生-课程&quot;数据库（S：学生，C：课程，SC：选修）为例，说明核心运算：</p><h3 id="（一）基本运算">（一）基本运算</h3><ol><li><p><strong>选择（σ）</strong>：从关系中筛选满足条件的元组（行过滤）。</p><ul><li>公式：σ_F(R)={t|t∈R且F(t)为真}（F为条件表达式，如σ_性别='男'(S)）。</li><li>示例：查询IS系学生：σ_学院号='IS'(S)。</li></ul></li><li><p><strong>投影（Π）</strong>：从关系中选取指定属性，去除重复元组（列过滤）。</p><ul><li>公式：Π_A(R)={t[A]|t∈R}（A为属性集合）。</li><li>示例：查询所有学生的姓名和学院：Π_姓名,学院号(S)。</li></ul></li><li><p><strong>并（∪）</strong>：两个相容关系（同元、同域）的元组集合合并，去重。</p><ul><li>公式：R∪S={t|t∈R或t∈S}。</li><li>示例：查询选修1号或2号课程的学生号：Π_学号(σ_课程号=1(SC))∪Π_学号(σ_课程号=2(SC))。</li></ul></li><li><p><strong>差（−）</strong>：从R中去除属于S的元组。</p><ul><li>公式：R−S={t|t∈R且t∉S}。</li><li>示例：查询选修1号但未选修2号课程的学生号：Π_学号(σ_课程号=1(SC))−Π_学号(σ_课程号=2(SC))。</li></ul></li><li><p><strong>笛卡尔积（×）</strong>：两个关系的元组所有可能组合（行数=R行数×S行数，列数=R列数+S列数）。</p><ul><li>公式：R×S={tᵣtₛ|tᵣ∈R且tₛ∈S}（tᵣtₛ表示元组连串）。</li><li>示例：学生表与课程表的笛卡尔积S×C，包含所有&quot;学生-课程&quot;组合（需通过条件过滤有效关联）。</li></ul></li></ol><h3 id="（二）扩展运算">（二）扩展运算</h3><ol><li><p><strong>交（∩）</strong>：两个相容关系的共同元组，可由差运算推导（R∩S=R−(R−S)）。</p><ul><li>示例：查询同时选修1号和2号课程的学生号：Π_学号(σ_课程号=1(SC))∩Π_学号(σ_课程号=2(SC))。</li></ul></li><li><p><strong>连接（Join）</strong>：</p><ul><li>定义：从笛卡尔积中筛选属性满足条件的元组，分为：<ul><li>θ连接：筛选R.AθS.B（θ为比较符，如&gt;、=）的元组。</li><li>等值连接：θ为&quot;=&quot;的连接（筛选属性值相等的元组，保留重复列）。</li><li>自然连接：等值连接的特殊形式，连接属性名相同且去除重复列（最常用）。</li></ul></li><li>示例：查询学生及其选修课程：S⋈SC（自然连接，通过&quot;学号&quot;关联）。</li></ul></li><li><p><strong>除（÷）</strong>：</p><ul><li>定义：若R(X,Y)、S(Y,Z)，则R÷S是R中&quot;X的象集包含S中Y投影&quot;的元组在X上的投影（适用于&quot;包含所有&quot;的查询）。</li><li>示例：查询选修所有课程的学生号：Π_学号,课程号(SC)÷Π_课程号(C)。</li></ul></li><li><p><strong>外连接（Outer Join）</strong>：</p><ul><li>解决自然连接中&quot;失配元组丢失&quot;问题，分为：<ul><li>左外连接（R⋈_左 S）：保留R中所有元组，S中无匹配的元组填空。</li><li>右外连接（R⋈_右 S）：保留S中所有元组，R中无匹配的元组填空。</li><li>全外连接（R⋈_全 S）：保留R和S中所有元组，无匹配的填空。</li></ul></li><li>示例：查询所有教师及其授课信息（包括无授课任务的教师）：教师表⋈_左 授课表。</li></ul></li><li><p><strong>聚集（Aggregation）</strong>：对属性值进行统计计算，常用函数：</p><ul><li>sum（求和）、avg（平均）、count（计数）、max（最大值）、min（最小值）。</li><li>分组聚集：按指定属性分组后，对每组应用聚集函数（如&quot;按学号分组，求平均成绩&quot;）。</li><li>示例：查询每位学生的平均成绩：学号G avg(成绩)(SC)。</li></ul></li></ol><h2 id="六、视图（View）">六、视图（View）</h2><h3 id="（一）定义与特性">（一）定义与特性</h3><ul><li>定义：命名的查询语句（虚表），语法：<code>create view 视图名 as &lt;查询表达式&gt;</code>。</li><li>特性：不存储数据，仅存储定义；查询视图时，动态执行底层查询。</li></ul><h3 id="（二）优点">（二）优点</h3><ol><li>简化查询：将复杂查询封装为视图，用户直接查询视图（如&quot;教师授课视图&quot;封装教师、授课、课程表的连接）。</li><li>数据安全：限制用户访问的属性或行（如&quot;学生成绩视图&quot;仅显示&quot;姓名+课程名+成绩&quot;，隐藏&quot;学号&quot;）。</li><li>逻辑独立性：若基表结构变化，可通过修改视图定义，不影响用户查询（如基表&quot;学院号&quot;改为&quot;部门号&quot;，视图中映射为&quot;学院号&quot;）。</li></ol><h3 id="（三）物化视图（Materialized-View）">（三）物化视图（Materialized View）</h3><ul><li>定义：存储视图查询结果的&quot;实表&quot;，定期或触发更新以保持与基表一致。</li><li>应用场景：查询频繁、计算复杂的场景（如&quot;商品月度销量统计&quot;），提升查询效率。</li></ul><h2 id="七、完整性检查与违约处理">七、完整性检查与违约处理</h2><h3 id="（一）实体完整性检查">（一）实体完整性检查</h3><ul><li>触发时机：插入或更新主属性时。</li><li>检查内容：<ol><li>主码值是否唯一（通过全表扫描或索引扫描）。</li><li>主属性是否为空。</li></ol></li><li>违约处理：拒绝插入或更新。</li></ul><h3 id="（二）参照完整性检查">（二）参照完整性检查</h3><ul><li>触发时机：插入/更新参照表、删除/更新被参照表。</li><li>违约处理：拒绝执行、级联操作、设置为空（根据业务需求配置）。</li></ul><h3 id="（三）用户定义完整性检查">（三）用户定义完整性检查</h3><ul><li>触发时机：插入或更新属性时。</li><li>检查内容：是否满足语义约束（如成绩范围、性别取值）。</li><li>违约处理：拒绝操作。</li></ul>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数据库</tag>
      
      <tag>MySql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1 数据库概论</title>
    <link href="/2025/10/23/1-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E8%AE%BA/"/>
    <url>/2025/10/23/1-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E8%AE%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="一、数据库基本概念">一、数据库基本概念</h2><h3 id="（一）核心定义">（一）核心定义</h3><ol><li><strong>数据（Data）</strong>：事物的符号表示，涵盖数字、文字、图像、声音等，可经数字化以二进制形式存入计算机处理。</li><li><strong>数据库（DB）</strong>：长期存于计算机内、有组织且可共享的数据集合，按特定数据模型组织、描述和储存，具有低冗余度、高数据独立性与易扩张性。</li><li><strong>数据库管理系统（DBMS）</strong>：数据库系统的核心系统软件，需操作系统支持，实现用户对数据库的操作，核心功能如下：<ul><li>数据定义：提供数据定义语言，定义数据库及数据库对象。</li><li>数据操纵：提供数据操纵语言，实现数据的查询、插入、修改、删除。</li><li>数据控制：提供数据控制语言，保障数据安全、完整性及并发控制。</li><li>数据库建立维护：含初始数据装入、转储、恢复及系统性能监视分析。</li></ul></li><li><strong>数据库系统（DBS）</strong>：引入数据库后的计算机系统，由数据库、操作系统、DBMS、应用程序、用户、数据库管理员（DBA）组成。</li></ol><h3 id="（二）数据库应用系统架构">（二）数据库应用系统架构</h3><table><thead><tr><th>架构类型</th><th>核心逻辑</th><th>特点</th></tr></thead><tbody><tr><td>客户/服务器（C/S）架构</td><td>应用程序发送数据请求→DBMS分析执行→返回处理结果</td><td>直接交互，适用于对响应速度要求较高的场景</td></tr><tr><td>浏览器/服务器（B/S）架构</td><td>基于Web的三层架构（浏览器→Web服务器→数据库服务器）</td><td>无需安装客户端，通过浏览器即可访问，维护成本低</td></tr></tbody></table><h3 id="（三）数据管理技术发展阶段">（三）数据管理技术发展阶段</h3><ol><li><strong>人工管理阶段（20世纪50年代中期前）</strong>：数据面向应用程序，一个数据集仅对应一个程序，数据与程序紧密耦合。</li><li><strong>文件系统阶段（20世纪50年代后期-60年代中期）</strong>：计算机用于数据管理，处理方式含批处理与联机实时处理，通过文件系统管理数据，应用程序与数据仍存在一定依赖。</li><li><strong>数据库系统阶段（20世纪60年代后期起）</strong>：为解决多用户、多应用共享数据需求，DBMS出现，实现数据统一管理，应用程序通过DBMS访问数据库，降低数据与程序耦合度。</li></ol><h2 id="二、数据模型">二、数据模型</h2><h3 id="（一）概述">（一）概述</h3><ol><li><strong>定义</strong>：对现实世界数据特征的抽象，用于描述、组织数据及对数据操作，是数据库系统的核心与基础。现实世界数据需经“现实世界→信息世界（概念模型）→计算机世界（逻辑模型）”三阶段转换。</li><li><strong>分类</strong>：按应用层次分概念模型、逻辑模型、物理模型。</li><li><strong>组成要素</strong>：含数据结构、数据操作、数据完整性约束三部分。</li></ol><h3 id="（二）概念模型">（二）概念模型</h3><ol><li><strong>核心概念</strong>：对现实世界的第一层抽象（又称信息模型），用于数据库设计人员与用户交流，核心概念包括实体、属性、实体型、实体集、联系。</li><li><strong>实体联系类型</strong><ul><li>一对一（1:1）：如一个班仅一个正班长，一个正班长仅属一个班。</li><li>一对多（1:n）：如一个班有多个学生，一个学生仅属一个班。</li><li>多对多（m:n）：如一个学生可选多门课，一门课可被多个学生选。</li></ul></li><li><strong>表示方法（E-R图）</strong><ul><li>实体：矩形框，框内标实体名。</li><li>属性：椭圆框，框内标属性名，用无向边连对应实体。</li><li>联系：菱形框，框内标联系名，用无向边连参与联系的实体，标注联系类型（1:1、1:n、m:n），联系属性用无向边连菱形框。</li></ul></li></ol><h3 id="（三）逻辑模型">（三）逻辑模型</h3><table><thead><tr><th>模型类型</th><th>数据组织方式</th><th>特点</th><th>示例</th></tr></thead><tbody><tr><td>层次模型</td><td>树状层次结构，仅一个根节点，其他节点仅一个父节点</td><td>简单易用，但难表达非层次性联系（如多对多）</td><td>某大学组织结构（大学→学院→专业→学生）</td></tr><tr><td>网状模型</td><td>网状结构，节点可有多条联系</td><td>能直接描述复杂现实关系，层次模型是其特例，但结构复杂、难掌握</td><td>教师、课程、学生间的多向关联</td></tr><tr><td>关系模型</td><td>二维表（关系），表由行和列组成</td><td>基于严格数学概念，数据结构清晰，易懂易用，应用最广泛</td><td>学生表（学号、姓名、性别等）、成绩表（学号、课程号、成绩等）</td></tr></tbody></table><h2 id="三、数据库系统结构">三、数据库系统结构</h2><h3 id="（一）三级模式结构">（一）三级模式结构</h3><ol><li><strong>外模式（子模式/用户模式）</strong>：对应用户级，是用户所见的数据视图，为模式的子集，一个数据库可有多外模式，一个应用程序仅用一个外模式，由外模式DDL描述定义。</li><li><strong>模式（概念模式/逻辑模式）</strong>：对应概念级，是数据库设计者构建的全局逻辑结构，为所有用户的公共数据视图，一个数据库仅一个模式，由模式DDL描述定义。</li><li><strong>内模式（存储模式）</strong>：对应物理级，描述数据物理结构与存储方式，是数据在数据库内部的表示，一个数据库仅一个内模式，由内模式DDL描述定义。</li></ol><h3 id="（二）二级映像与数据独立性">（二）二级映像与数据独立性</h3><ol><li><strong>外模式/模式映像</strong>：定义外模式与模式的对应关系。模式改变时，DBA调整该映像可使外模式不变，保障数据与程序的<strong>逻辑独立性</strong>（应用程序基于外模式编写，无需修改）。</li><li><strong>模式/内模式映像</strong>：唯一，定义全局逻辑结构与存储结构的对应关系。存储结构改变时，DBA调整该映像可使模式不变，保障数据与程序的<strong>物理独立性</strong>（应用程序无需修改）。</li></ol><h3 id="（三）DBMS工作过程（以读记录为例）">（三）DBMS工作过程（以读记录为例）</h3><ol><li>应用程序向DBMS发读数据命令；</li><li>DBMS检查命令语法、语义，调用对应外模式验证存取权限，拒绝则返回错误；</li><li>调用模式，依外模式/模式映像确定需读的模式记录；</li><li>调用内模式，依模式/内模式映像确定物理文件、存取方式及物理记录；</li><li>向操作系统发读物理记录命令；</li><li>操作系统执行读操作，将数据从存储区送系统缓冲区；</li><li>DBMS依映像导出应用程序所需记录格式；</li><li>将数据从系统缓冲区传至应用程序工作区；</li><li>向应用程序返回执行状态信息。</li></ol><h2 id="四、大数据简介">四、大数据简介</h2><h3 id="（一）基本概念与特点">（一）基本概念与特点</h3><ol><li><strong>定义</strong>：指海量/巨量数据，需新计算模式进行获取、存储、管理、处理及提炼以辅助决策。维基百科定义为“数据集规模超常用工具在可接受时间内的采集、管理、处理能力”；NIST强调其“巨量（Volume）、多样（Variety）、快速（Velocity）、多变（Variability）”特性。</li><li><strong>4V+1C特点</strong><ul><li>巨量（Volume）：数据量达PB（1PB=1024TB）、EB（1EB=1024PB）级，PB级为常态；</li><li>多样（Variety）：数据来源与格式多样，含结构化、半结构化（如日志）、非结构化数据（如音视频）；</li><li>快速（Velocity）：数据增长快，需快速处理以提取价值；</li><li>价值（Value）：需挖掘海量数据的潜在价值；</li><li>复杂（Complexity）：数据处理与分析难度高。</li></ul></li></ol><h3 id="（二）处理过程">（二）处理过程</h3><ol><li><strong>数据采集与预处理</strong><ul><li>采集：通过多数据库接收智能终端、移动APP、网页端、传感器等数据；</li><li>预处理：含数据清理（标准化格式、去异常/重复数据、纠错）、数据集成（合并多源数据建数据仓库）、数据变换（平滑、泛化、规范化以适配挖掘）、数据归约（精简数据规模，保留有用特征）。</li></ul></li><li><strong>大数据分析</strong><ul><li>统计分析：用分布式数据库/计算集群分析数据，常用R语言（免费开源，用于统计计算与制图）；</li><li>数据挖掘：无预设主题，通过分类（将未知样本映射到已知类别）、聚类（相似数据聚为一类）、关联分析（找数据项间隐藏规则）、预测建模（预测未来结果）等方法找数据模式与趋势。</li></ul></li><li><strong>数据可视化</strong>：用图形、图像技术直观表达数据，助力发现数据隐含规律。</li></ol><h3 id="（三）技术支撑">（三）技术支撑</h3><ol><li><strong>计算速度提升</strong>：Hadoop（分布式架构）、Spark（内存集群计算）、HDFS（海量存储）、MapReduce（并行计算）等技术提高计算效率，解决实时分析差、处理效率低等问题。</li><li><strong>存储成本下降</strong>：云计算数据中心降低企业计算与存储成本，如租用硬件无需购服务器及雇人维护，可长期存历史数据。</li><li><strong>人工智能需求</strong>：大数据为AI提供数据基础，如AlphaGo、阿里云小Ai等案例体现AI与大数据的结合。</li></ol><h3 id="（四）NoSQL与NewSQL数据库">（四）NoSQL与NewSQL数据库</h3><ol><li><strong>传统关系数据库问题</strong>：读写速度慢（数据量大时I/O瓶颈）、支撑容量有限（亿级记录查询效率低）、扩展困难（需停机维护）、管理运营成本高，且复杂SQL查询在大数据场景作用有限。</li><li><strong>NoSQL数据库</strong><ul><li>定义：泛指非关系型数据库（Not Only SQL），常用模型有Cassandra、Hbase、Redis等。</li><li>特点：读写快、容量大；易扩展（动态增删节点无需停机）；遵循BASE原则（基本可用、柔性状态、最终一致）；数据模型灵活（无需预定义模式）；高可用（多节点备份）。</li><li>分类：键值（Key-Value）模型（如Redis，查改快）、列存储模型（如Cassandra，适数据仓库）、文档型模型（如MongoDB，存Json/XML文档）、图模型（如Neo4j，直观表达数据联系）。</li></ul></li><li><strong>NewSQL数据库</strong>：结合SQL与NoSQL优势，解决NoSQL通用性差、不支持SQL及ACID特性的问题，代表模型有VoltDB、Spanner。</li></ol>]]></content>
    
    
    <categories>
      
      <category>数据库</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数据库</tag>
      
      <tag>MySql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2.4 两类错误率、Neyman-Pearson 决策与ROC曲线</title>
    <link href="/2025/10/21/2-4-%E4%B8%A4%E7%B1%BB%E9%94%99%E8%AF%AF%E7%8E%87%E3%80%81Neyman-Pearson-%E5%86%B3%E7%AD%96%E4%B8%8EROC%E6%9B%B2%E7%BA%BF/"/>
    <url>/2025/10/21/2-4-%E4%B8%A4%E7%B1%BB%E9%94%99%E8%AF%AF%E7%8E%87%E3%80%81Neyman-Pearson-%E5%86%B3%E7%AD%96%E4%B8%8EROC%E6%9B%B2%E7%BA%BF/</url>
    
    <content type="html"><![CDATA[<p>在两类分类问题中，不同类型的错误（如医学诊断中的漏诊、误诊）往往带来不同损失。本节围绕&quot;两类错误率的细分与权衡&quot;展开，重点介绍错误率的定义、Neyman-Pearson决策规则（固定一类错误率最小化另一类）及ROC曲线（可视化错误率权衡关系），是贝叶斯决策框架的重要补充。</p><h2 id="一、核心概念与两类错误率定义">一、核心概念与两类错误率定义</h2><h3 id="1-基本场景与符号约定">1. 基本场景与符号约定</h3><ul><li><strong>两类问题</strong>：设类别为&quot;阳性&quot;（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，如疾病存在）和&quot;阴性&quot;（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，如疾病不存在），决策空间仅含&quot;判为阳性&quot;（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）和&quot;判为阴性&quot;（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>），无拒绝决策。</li><li><strong>决策结果分类</strong>：根据&quot;真实类别&quot;与&quot;决策结果&quot;的组合，分为4种情况：</li></ul><table><thead><tr><th>决策\真实状态</th><th>阳性（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）</th><th>阴性（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）</th></tr></thead><tbody><tr><td>判为阳性（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）</td><td>真阳性（TP）</td><td>假阳性（FP）</td></tr><tr><td>判为阴性（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）</td><td>假阴性（FN）</td><td>真阴性（TN）</td></tr></tbody></table><h3 id="2-关键错误率与评价指标">2. 关键错误率与评价指标</h3><p>基于上述4类结果，定义两类错误率及衍生评价指标：</p><h4 id="（1）两类核心错误率">（1）两类核心错误率</h4><ul><li><strong>假阳性率（第一类错误率，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>）</strong>：真实阴性样本被误判为阳性的比例，反映&quot;误诊&quot;风险：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>α</mi><mo>=</mo><mtext>FP率</mtext><mo>=</mo><mfrac><mtext>FP</mtext><mrow><mtext>FP</mtext><mo>+</mo><mtext>TN</mtext></mrow></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-35)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\alpha = \text{FP率} = \frac{\text{FP}}{\text{FP} + \text{TN}} \tag{2-35}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">FP</span><span class="mord cjk_fallback">率</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">FP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">TN</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">FP</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-35</span></span><span class="mord">)</span></span></span></span></span></span></p></li><li><strong>假阴性率（第二类错误率，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span>）</strong>：真实阳性样本被误判为阴性的比例，反映&quot;漏诊&quot;风险：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>β</mi><mo>=</mo><mtext>FN率</mtext><mo>=</mo><mfrac><mtext>FN</mtext><mrow><mtext>TP</mtext><mo>+</mo><mtext>FN</mtext></mrow></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-34)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\beta = \text{FN率} = \frac{\text{FN}}{\text{TP} + \text{FN}} \tag{2-34}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">FN</span><span class="mord cjk_fallback">率</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FN</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">FN</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-34</span></span><span class="mord">)</span></span></span></span></span></span></p></li></ul><h4 id="（2）临床-工程常用评价指标">（2）临床/工程常用评价指标</h4><ul><li><strong>灵敏度（Sensitivity，Sn）</strong>：真实阳性样本被正确识别的比例（漏诊率的互补指标）：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>Sn</mtext><mo>=</mo><mfrac><mtext>TP</mtext><mrow><mtext>TP</mtext><mo>+</mo><mtext>FN</mtext></mrow></mfrac><mo>=</mo><mn>1</mn><mo>−</mo><mi>β</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-32)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{Sn} = \frac{\text{TP}}{\text{TP} + \text{FN}} = 1 - \beta \tag{2-32}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">Sn</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FN</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span><span class="tag"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-32</span></span><span class="mord">)</span></span></span></span></span></span></p>（含义：疾病患者被正确诊断的概率，越高漏诊越少）</li><li><strong>特异度（Specificity，Sp）</strong>：真实阴性样本被正确识别的比例（误诊率的互补指标）：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>Sp</mtext><mo>=</mo><mfrac><mtext>TN</mtext><mrow><mtext>TN</mtext><mo>+</mo><mtext>FP</mtext></mrow></mfrac><mo>=</mo><mn>1</mn><mo>−</mo><mi>α</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-33)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{Sp} = \frac{\text{TN}}{\text{TN} + \text{FP}} = 1 - \alpha \tag{2-33}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">Sp</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TN</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FP</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TN</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span><span class="tag"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-33</span></span><span class="mord">)</span></span></span></span></span></span></p>（含义：健康人被正确排除的概率，越高误诊越少）</li><li><strong>正确率（Accuracy，ACC）</strong>：所有样本中正确分类的比例（全局性能）：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>ACC</mtext><mo>=</mo><mfrac><mrow><mtext>TP</mtext><mo>+</mo><mtext>TN</mtext></mrow><mrow><mtext>TP</mtext><mo>+</mo><mtext>TN</mtext><mo>+</mo><mtext>FP</mtext><mo>+</mo><mtext>FN</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{ACC} = \frac{\text{TP} + \text{TN}}{\text{TP} + \text{TN} + \text{FP} + \text{FN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">ACC</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">TN</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FN</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">TN</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p></li><li><strong>精确率（Precision，Pre）</strong>：判为阳性的样本中真实阳性的比例（避免&quot;假阳性污染&quot;）：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Pre</mtext><mo>=</mo><mfrac><mtext>TP</mtext><mrow><mtext>TP</mtext><mo>+</mo><mtext>FP</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Pre} = \frac{\text{TP}}{\text{TP} + \text{FP}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">Pre</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FP</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p></li><li><strong>F1度量</strong>：精确率与召回率（Recall，即灵敏度）的调和平均，综合两者性能：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>F1</mtext><mo>=</mo><mn>2</mn><mo>×</mo><mfrac><mrow><mtext>Pre</mtext><mo>×</mo><mtext>Recall</mtext></mrow><mrow><mtext>Pre</mtext><mo>+</mo><mtext>Recall</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{F1} = 2 \times \frac{\text{Pre} \times \text{Recall}}{\text{Pre} + \text{Recall}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">F1</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.1408em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Pre</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">Recall</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Pre</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">Recall</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p></li></ul><h2 id="二、Neyman-Pearson决策规则">二、Neyman-Pearson决策规则</h2><h3 id="1-问题背景">1. 问题背景</h3><p>在部分场景中，需<strong>固定某一类错误率</strong>（如医学诊断中要求漏诊率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>≤</mo><msub><mi>ε</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\beta \leq \varepsilon_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，避免遗漏重症患者），在此约束下最小化另一类错误率（如误诊率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>），这一需求催生Neyman-Pearson决策。</p><h3 id="2-数学建模与推导">2. 数学建模与推导</h3><h4 id="（1）约束优化问题">（1）约束优化问题</h4><p>设：</p><ul><li>决策域：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">R</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathscr{R}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.06259em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0626em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">R</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathscr{R}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.06259em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0626em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）</li><li>类条件密度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x|\omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（阳性样本特征密度）、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x|\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（阴性样本特征密度）</li><li>约束：第二类错误率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><msub><mo>∫</mo><msub><mi mathvariant="script">R</mi><mn>1</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo>≤</mo><msub><mi>ε</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\beta = \int_{\mathscr{R}_1} p(x|\omega_2)dx \leq \varepsilon_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2609em;vertical-align:-0.4559em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1342em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathscr mtight" style="margin-right:0.06259em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0626em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4559em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（固定漏诊率上限）</li><li>目标：最小化第一类错误率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><msub><mo>∫</mo><msub><mi mathvariant="script">R</mi><mn>2</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">\alpha = \int_{\mathscr{R}_2} p(x|\omega_1)dx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2609em;vertical-align:-0.4559em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1342em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathscr mtight" style="margin-right:0.06259em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0626em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4559em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span></span>（最小化误诊率）</li></ul><h4 id="（2）拉格朗日乘数法求解">（2）拉格朗日乘数法求解</h4><p>将约束优化转化为无约束问题，构造拉格朗日函数：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>γ</mi><mo>=</mo><mi>α</mi><mo>+</mo><mi>λ</mi><mrow><mo fence="true">(</mo><mi>β</mi><mo>−</mo><msub><mi>ε</mi><mn>0</mn></msub><mo fence="true">)</mo></mrow><mo>=</mo><msub><mo>∫</mo><msub><mi mathvariant="script">R</mi><mn>2</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo>+</mo><mi>λ</mi><mrow><mo fence="true">(</mo><msub><mo>∫</mo><msub><mi mathvariant="script">R</mi><mn>1</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo>−</mo><msub><mi>ε</mi><mn>0</mn></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\gamma = \alpha + \lambda \left( \beta - \varepsilon_0 \right) = \int_{\mathscr{R}_2} p(x|\omega_1)dx + \lambda \left( \int_{\mathscr{R}_1} p(x|\omega_2)dx - \varepsilon_0 \right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.372em;vertical-align:-1.012em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.4219em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathscr mtight" style="margin-right:0.06259em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0626em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.012em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.462em;vertical-align:-1.012em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.4219em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathscr mtight" style="margin-right:0.06259em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0626em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.012em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span></p><p>其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>为拉格朗日乘数。</p><p>通过分析<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span></span></span></span>的最小化条件（积分区域优化），可得<strong>决策规则</strong>：</p><p>定义<strong>似然比</strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">l(x) = \frac{p(x|\omega_1)}{p(x|\omega_2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，存在阈值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>λ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\lambda^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>，使得：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>若 </mtext><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>≥</mo><msup><mi>λ</mi><mo>∗</mo></msup><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub><mspace width="1em"/><mo stretchy="false">(</mo><mtext>判为阳性</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>若 </mtext><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>&lt;</mo><msup><mi>λ</mi><mo>∗</mo></msup><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>2</mn></msub><mspace width="1em"/><mo stretchy="false">(</mo><mtext>判为阴性</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(2-43)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}&amp;\text{若 } l(x) \geq \lambda^* \implies x \in \omega_1 \quad (\text{判为阳性}) \\&amp;\text{若 } l(x) &lt; \lambda^* \implies x \in \omega_2 \quad (\text{判为阴性}) \tag{2-43}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.75em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord cjk_fallback">判为阳性</span></span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord cjk_fallback">判为阴性</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-43</span></span><span class="mord">)</span></span></span></span></span></span></p><h4 id="（3）阈值-lambda-的确定">（3）阈值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>λ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\lambda^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>的确定</h4><p>阈值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>λ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\lambda^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>需满足约束<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi><mo>=</mo><msub><mi>ε</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\beta = \varepsilon_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，即：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mo>∫</mo><mrow><mo stretchy="false">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>≥</mo><msup><mi>λ</mi><mo>∗</mo></msup><mo stretchy="false">}</mo></mrow></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo>=</mo><msub><mi>ε</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\int_{\{x | l(x) \geq \lambda^*\}} p(x|\omega_2)dx = \varepsilon_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.447em;vertical-align:-1.0869em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.3869em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">{</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span><span class="mrel mtight">≥</span><span class="mord mtight"><span class="mord mathnormal mtight">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6183em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mclose mtight">}</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0869em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>由于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">l(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>是随机变量，其密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>l</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(l|\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>可通过样本估计，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>λ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\lambda^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>需通过数值方法（如试探法）求解，确保上述积分等于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ε</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\varepsilon_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">ε</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><h2 id="三、ROC曲线与AUC指标">三、ROC曲线与AUC指标</h2><h3 id="1-ROC曲线的定义与绘制">1. ROC曲线的定义与绘制</h3><h4 id="（1）核心思想">（1）核心思想</h4><p>通过调整决策阈值（如Neyman-Pearson中的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>λ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\lambda^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>），可得到多组&quot;假阳性率（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>）-真阳性率（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">1-\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span>）&quot; pairs，将这些pairs绘制成曲线，即为<strong>ROC曲线</strong>（Receiver Operating Characteristic Curve）。</p><h4 id="（2）曲线特征">（2）曲线特征</h4><ul><li><strong>坐标轴</strong>：横坐标为&quot;假阳性率（1-特异度）&quot;，纵坐标为&quot;真阳性率（灵敏度）&quot;</li><li><strong>极端点</strong>：<ul><li>阈值极小（全判阳性）：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\alpha=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mi>β</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1-\beta=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>（对应点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>）</li><li>阈值极大（全判阴性）：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\alpha=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mi>β</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">1-\beta=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>（对应点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>）</li></ul></li><li><strong>随机猜测线</strong>：若分类器无判别能力，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>=</mo><mn>1</mn><mo>−</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">\alpha = 1-\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span>，对应对角线（AUC=0.5）</li><li><strong>理想曲线</strong>：沿纵轴上升至<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，再沿横轴右移至<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>（AUC=1，无错误）</li></ul><h3 id="2-ROC曲线的应用">2. ROC曲线的应用</h3><h4 id="（1）分类器性能比较">（1）分类器性能比较</h4><ul><li>曲线<strong>越靠近左上角</strong>，分类器性能越好（高灵敏度+高特异度）</li><li>例：若分类器A的ROC曲线完全包围分类器B的曲线，则A性能优于B</li></ul><h4 id="（2）最优阈值选择">（2）最优阈值选择</h4><p>根据应用需求在曲线上选择&quot;工作点&quot;：</p><ul><li>医学诊断（如癌症筛查）：优先高灵敏度（降低漏诊），选择曲线上&quot;灵敏度接近1&quot;的点</li><li>垃圾邮件过滤：优先高特异度（降低误判正常邮件），选择曲线上&quot;特异度接近1&quot;的点</li></ul><h4 id="（3）AUC指标（曲线下面积）">（3）AUC指标（曲线下面积）</h4><p>为量化ROC曲线性能，定义<strong>AUC（Area Under ROC Curve）</strong>：</p><ul><li>取值范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.5</mn><mo>≤</mo><mtext>AUC</mtext><mo>≤</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0.5 \leq \text{AUC} \leq 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">0.5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord text"><span class="mord">AUC</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></li><li>含义：随机抽取1个阳性样本和1个阴性样本，分类器将阳性样本判为阳性的概率高于阴性样本的概率</li><li>评价标准：AUC越接近1，分类器区分能力越强；AUC=0.5时无区分能力</li></ul><h2 id="四、与贝叶斯决策的关联">四、与贝叶斯决策的关联</h2><ol><li><p><strong>与最小风险贝叶斯决策的区别</strong>：<br>最小风险决策通过&quot;损失函数&quot;权衡两类错误（如<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>12</mn></msub></mrow><annotation encoding="application/x-tex">\lambda_{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（误诊损失）、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>21</mn></msub></mrow><annotation encoding="application/x-tex">\lambda_{21}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（漏诊损失）），而Neyman-Pearson决策直接&quot;固定一类错误率&quot;，更适用于&quot;某类错误代价极高且必须控制&quot;的场景（如新冠筛查需严格控制漏诊率）。</p></li><li><p><strong>决策规则的统一性</strong>：<br>最小错误率贝叶斯决策（阈值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\lambda = \frac{P(\omega_2)}{P(\omega_1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>）、最小风险决策（阈值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo>=</mo><mfrac><mrow><msub><mi>λ</mi><mn>12</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><mrow><msub><mi>λ</mi><mn>21</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\lambda = \frac{\lambda_{12}P(\omega_2)}{\lambda_{21}P(\omega_1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>）与Neyman-Pearson决策（阈值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>λ</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\lambda^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>），本质均为&quot;似然比与阈值比较&quot;，仅阈值确定方式不同（分别由先验概率、损失+先验概率、错误率约束决定）。</p></li></ol><h2 id="五、核心结论">五、核心结论</h2><ol><li>两类分类问题中，<strong>假阳性率与假阴性率存在 trade-off</strong>（降低一类必然升高另一类），需根据场景优先级选择权衡策略</li><li>Neyman-Pearson决策是&quot;固定一类错误率、最小化另一类&quot;的经典方法，适用于&quot;某类错误不可容忍&quot;的场景</li><li>ROC曲线是错误率权衡关系的直观可视化工具，AUC可定量评价分类器性能，二者是模式识别系统（如医疗诊断、风控）性能评估的核心手段</li></ol>]]></content>
    
    
    <categories>
      
      <category>模式识别与机器学习</category>
      
      <category>第二章 统计决策方法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>模式识别</tag>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2.3 最小风险贝叶斯决策</title>
    <link href="/2025/10/21/2-3-%E6%9C%80%E5%B0%8F%E9%A3%8E%E9%99%A9%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%86%B3%E7%AD%96/"/>
    <url>/2025/10/21/2-3-%E6%9C%80%E5%B0%8F%E9%A3%8E%E9%99%A9%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%86%B3%E7%AD%96/</url>
    
    <content type="html"><![CDATA[<p>最小风险贝叶斯决策的核心是<strong>考虑分类错误带来的损失差异</strong>，在贝叶斯决策框架下追求&quot;期望风险最小&quot;，而非单纯的&quot;错误率最小&quot;，是最小错误率贝叶斯决策的扩展（后者可视为前者的特例）。</p><h2 id="一、核心概念与符号约定">一、核心概念与符号约定</h2><h3 id="1-基本要素定义">1. 基本要素定义</h3><ul><li><strong>样本</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mi>d</mi></msup></mrow><annotation encoding="application/x-tex">x \in \mathbb{R}^d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span>维特征向量）</li><li><strong>状态空间</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>ω</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>ω</mi><mi>c</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Omega = \{\omega_1, \omega_2, \dots, \omega_c\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Ω</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>个类别，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>种自然状态）</li><li><strong>决策空间</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>α</mi><mi>k</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Delta = \{\alpha_1, \alpha_2, \dots, \alpha_k\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>种可能决策，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>可不等于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>，如含&quot;拒绝决策&quot;）</li><li><strong>损失函数</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_i, \omega_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（对真实状态为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\omega_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>的样本采取决策<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\alpha_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>时的损失）</li></ul><h3 id="2-决策表示例（损失函数-lambda-alpha-i-omega-j-的一般决策表）">2. 决策表示例（损失函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_i, \omega_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的一般决策表）</h3><table><thead><tr><th>决策\状态</th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\omega_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></th><th><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">\omega_c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_1, \omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_1, \omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_1, \omega_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>c</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_1, \omega_c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_2, \omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_2, \omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_2, \omega_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>c</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_2, \omega_c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋱</mo></mrow><annotation encoding="application/x-tex">\ddots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.823em;"></span><span class="minner">⋱</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋱</mo></mrow><annotation encoding="application/x-tex">\ddots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.823em;"></span><span class="minner">⋱</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\alpha_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_i, \omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_i, \omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_i, \omega_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>c</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_i, \omega_c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋱</mo></mrow><annotation encoding="application/x-tex">\ddots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.823em;"></span><span class="minner">⋱</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow><annotation encoding="application/x-tex">\vdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span></td></tr><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\alpha_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_k, \omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_k, \omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_k, \omega_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>…</mo></mrow><annotation encoding="application/x-tex">\dots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.123em;"></span><span class="minner">…</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>c</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda(\alpha_k, \omega_c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td></tr></tbody></table><ul><li>通常约定：正确决策损失最小（如<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda(\alpha_i, \omega_i) = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>），错误决策损失更大（如<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda(\alpha_i, \omega_j) &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">i \neq j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span>）。</li></ul><h2 id="二、核心公式推导">二、核心公式推导</h2><h3 id="1-条件风险（给定样本x时的期望损失）">1. 条件风险（给定样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>时的期望损失）</h3><p>对样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>，已知其属于各类的后验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_j | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>（由贝叶斯公式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(\omega_j | x) = \frac{p(x | \omega_j)P(\omega_j)}{p(x)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.5523em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0323em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.5073em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>计算），采取决策<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\alpha_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的<strong>条件风险</strong>定义为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>c</mi></munderover><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-26)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">R(\alpha_i | x) = \sum_{j=1}^c \lambda(\alpha_i, \omega_j) P(\omega_j | x) \tag{2-26}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0652em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:3.0652em;vertical-align:-1.4138em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-26</span></span><span class="mord">)</span></span></span></span></span></span></p><ul><li>含义：在样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的特征信息下，采取决策<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\alpha_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>时，所有可能自然状态（类别）对应的损失加权和（权重为后验概率）。</li></ul><h3 id="2-期望风险（全局平均风险）">2. 期望风险（全局平均风险）</h3><p>对所有可能样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>，条件风险的加权平均（权重为样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的概率密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>），即<strong>期望风险</strong>：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>R</mi><mo>=</mo><msub><mo>∫</mo><msup><mi mathvariant="double-struck">R</mi><mi>d</mi></msup></msub><mi>R</mi><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-28)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">R = \int_{\mathbb{R}^d} R(\alpha(x) | x) p(x) dx \tag{2-28}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2719em;vertical-align:-0.9119em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.3645em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.782em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span><span class="tag"><span class="strut" style="height:2.2719em;vertical-align:-0.9119em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-28</span></span><span class="mord">)</span></span></span></span></span></span></p><ul><li>含义：全局范围内采取决策规则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\alpha(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>（对不同<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>选择不同<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\alpha_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）的平均损失，是衡量决策性能的全局指标。</li></ul><h3 id="3-最小风险决策规则">3. 最小风险决策规则</h3><p>要使期望风险<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>最小，需对<strong>每个样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>单独最小化其条件风险</strong>（因<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">p(x) \geq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，全局积分最小等价于逐点最小），即：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msup><mi>α</mi><mo>∗</mo></msup><mo>=</mo><mi>arg</mi><mo>⁡</mo><munder><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>k</mi></mrow></munder><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-27)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\alpha^* = \arg\min_{i=1,2,\dots,k} R(\alpha_i | x) \tag{2-27}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7387em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6382em;vertical-align:-0.8882em;"></span><span class="mop">ar<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3479em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="minner mtight">…</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8882em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:1.6382em;vertical-align:-0.8882em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-27</span></span><span class="mord">)</span></span></span></span></span></span></p><ul><li>含义：对每个样本<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>，选择条件风险最小的决策<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>α</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">\alpha^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span>，该决策即为当前样本的最优决策。</li></ul><h2 id="三、两类问题的简化形式（无拒绝决策）">三、两类问题的简化形式（无拒绝决策）</h2><p>当问题为两类（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1, \omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）且决策仅为&quot;判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>&quot;（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）或&quot;判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>&quot;（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）时，公式可简化：</p><h3 id="1-关键损失约定">1. 关键损失约定</h3><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>11</mn></msub><mo>=</mo><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda_{11} = \lambda(\alpha_1, \omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（正确决策：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的损失）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>12</mn></msub><mo>=</mo><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda_{12} = \lambda(\alpha_1, \omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（错误决策：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的损失）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>21</mn></msub><mo>=</mo><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda_{21} = \lambda(\alpha_2, \omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（错误决策：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的损失）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>22</mn></msub><mo>=</mo><mi>λ</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda_{22} = \lambda(\alpha_2, \omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（正确决策：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的损失）</li></ul><p>通常取<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>11</mn></msub><mo>=</mo><msub><mi>λ</mi><mn>22</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda_{11} = \lambda_{22} = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，且<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>12</mn></msub><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda_{12} &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>21</mn></msub><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda_{21} &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>。</p><h3 id="2-条件风险简化">2. 条件风险简化</h3><ul><li>决策<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）的条件风险：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>λ</mi><mn>12</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-28a)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">R(\alpha_1 | x) = \lambda_{12} P(\omega_2 | x) \tag{2-28a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-28a</span></span><span class="mord">)</span></span></span></span></span></span></p></li><li>决策<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\alpha_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）的条件风险：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>λ</mi><mn>21</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-28b)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">R(\alpha_2 | x) = \lambda_{21} P(\omega_1 | x) \tag{2-28b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-28b</span></span><span class="mord">)</span></span></span></span></span></span></p></li></ul><h3 id="3-两类问题的决策规则">3. 两类问题的决策规则</h3><p>比较<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(\alpha_1 | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(\alpha_2 | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>，选择风险更小的决策：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>若 </mtext><msub><mi>λ</mi><mn>12</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>≤</mo><msub><mi>λ</mi><mn>21</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>若 </mtext><msub><mi>λ</mi><mn>12</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>&gt;</mo><msub><mi>λ</mi><mn>21</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(2-29)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}&amp;\text{若 } \lambda_{12} P(\omega_2 | x) \leq \lambda_{21} P(\omega_1 | x) \implies x \in \omega_1 \\&amp;\text{若 } \lambda_{12} P(\omega_2 | x) &gt; \lambda_{21} P(\omega_1 | x) \implies x \in \omega_2 \tag{2-29}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.75em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-29</span></span><span class="mord">)</span></span></span></span></span></span></p><h3 id="4-似然比形式（与贝叶斯公式结合）">4. 似然比形式（与贝叶斯公式结合）</h3><p>将后验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(\omega_j | x) = \frac{p(x | \omega_j)P(\omega_j)}{p(x)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.5523em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0323em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.5073em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>代入式(2-29)，消去公共项<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>，可得<strong>似然比决策规则</strong>：</p><p>定义似然比<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">l(x) = \frac{p(x | \omega_1)}{p(x | \omega_2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，阈值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo>=</mo><mfrac><mrow><msub><mi>λ</mi><mn>12</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><mrow><msub><mi>λ</mi><mn>21</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\lambda = \frac{\lambda_{12} P(\omega_2)}{\lambda_{21} P(\omega_1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，则：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>若 </mtext><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>≥</mo><mi>λ</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>若 </mtext><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>λ</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(2-31)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}&amp;\text{若 } l(x) \geq \lambda \implies x \in \omega_1 \\&amp;\text{若 } l(x) &lt; \lambda \implies x \in \omega_2 \tag{2-31}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.75em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-31</span></span><span class="mord">)</span></span></span></span></span></span></p><h2 id="四、与最小错误率贝叶斯决策的关系">四、与最小错误率贝叶斯决策的关系</h2><p>当两类错误损失相等（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>12</mn></msub><mo>=</mo><msub><mi>λ</mi><mn>21</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lambda_{12} = \lambda_{21} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>）且正确决策损失为0（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>11</mn></msub><mo>=</mo><msub><mi>λ</mi><mn>22</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda_{11} = \lambda_{22} = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>）时，最小风险决策规则退化为<strong>最小错误率决策规则</strong>：</p><ul><li>条件风险简化为错误概率：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(\alpha_1 | x) = P(\omega_2 | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>（错误率），<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(\alpha_2 | x) = P(\omega_1 | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>（错误率）；</li><li>决策规则变为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>若 </mtext><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\text{若 } P(\omega_1 | x) &gt; P(\omega_2 | x) \implies x \in \omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，即最小错误率准则。</li></ul><h2 id="五、示例">五、示例</h2><p>已知条件（例2.1延伸）：</p><ul><li>先验概率：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.9</mn></mrow><annotation encoding="application/x-tex">P(\omega_1) = 0.9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.9</span></span></span></span>（正常细胞），<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.1</mn></mrow><annotation encoding="application/x-tex">P(\omega_2) = 0.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.1</span></span></span></span>（异常细胞）；</li><li>类条件密度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.2</mn></mrow><annotation encoding="application/x-tex">p(x | \omega_1) = 0.2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.2</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.4</mn></mrow><annotation encoding="application/x-tex">p(x | \omega_2) = 0.4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.4</span></span></span></span>；</li><li>损失表：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>11</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda_{11}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>12</mn></msub><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">\lambda_{12}=6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>21</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lambda_{21}=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mn>22</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\lambda_{22}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>。</li></ul><p><strong>步骤1：计算后验概率（例2.1结果）</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.818</mn><mo separator="true">,</mo><mspace width="1em"/><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.182</mn></mrow><annotation encoding="application/x-tex">P(\omega_1 | x) = 0.818, \quad P(\omega_2 | x) = 0.182</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.818</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.182</span></span></span></span></span></p><p><strong>步骤2：计算条件风险</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>λ</mi><mn>12</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>6</mn><mo>×</mo><mn>0.182</mn><mo>=</mo><mn>1.092</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>λ</mi><mn>21</mn></msub><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>×</mo><mn>0.818</mn><mo>=</mo><mn>0.818</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}R(\alpha_1 | x) &amp;= \lambda_{12} P(\omega_2 | x) = 6 \times 0.182 = 1.092 \\R(\alpha_2 | x) &amp;= \lambda_{21} P(\omega_1 | x) = 1 \times 0.818 = 0.818\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0.182</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1.092</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0.818</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.818</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p><strong>步骤3：决策</strong><br>因<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>R</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(\alpha_2 | x) &lt; R(\alpha_1 | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>，故决策为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（异常细胞）—— 与最小错误率决策（判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）结果相反，体现了&quot;损失差异&quot;对决策的影响。</p><h2 id="六、核心结论">六、核心结论</h2><ol><li>最小风险贝叶斯决策的关键是<strong>损失函数设计</strong>，需结合领域知识（如&quot;漏诊癌症&quot;损失远大于&quot;误诊正常&quot;）；</li><li>决策过程需先计算后验概率，再计算条件风险，最终选择风险最小的决策；</li><li>最小错误率决策是最小风险决策的特例（损失均等时），更适用于&quot;错误损失无差异&quot;的场景。</li></ol>]]></content>
    
    
    <categories>
      
      <category>模式识别与机器学习</category>
      
      <category>第二章 统计决策方法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>模式识别</tag>
      
      <tag>机器学习</tag>
      
      <tag>贝叶斯决策</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2.2 错误率与贝叶斯决策</title>
    <link href="/2025/10/21/2-2-%E9%94%99%E8%AF%AF%E7%8E%87%E4%B8%8E%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%86%B3%E7%AD%96/"/>
    <url>/2025/10/21/2-2-%E9%94%99%E8%AF%AF%E7%8E%87%E4%B8%8E%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%86%B3%E7%AD%96/</url>
    
    <content type="html"><![CDATA[<p>最小错误率贝叶斯决策是统计决策的核心方法之一，其核心目标是在已知类先验概率和类条件概率密度的前提下，通过贝叶斯公式将先验概率转化为后验概率，选择后验概率最大的类别作为决策结果，从而使分类的总体错误率最小。</p><h2 id="一、核心思想与理论基础">一、核心思想与理论基础</h2><p>分类决策的本质是对样本所属类别进行概率判断：</p><ul><li>若样本特征为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>，类别空间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>ω</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>ω</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>ω</mi><mi>c</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{\omega_1, \omega_2, \dots, \omega_c\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>为类别数），需比较样本属于各类别的<strong>后验概率</strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>；</li><li>后验概率反映&quot;已知特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>时，样本属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类&quot;的置信度，由<strong>先验概率</strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>在总体中出现的概率）和<strong>类条件概率密度</strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>中特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的分布密度）通过<strong>贝叶斯公式</strong>推导得出。</li></ul><h2 id="二、关键公式与推导">二、关键公式与推导</h2><h3 id="1-贝叶斯公式：先验概率与后验概率的转换">1. 贝叶斯公式：先验概率与后验概率的转换</h3><p>根据概率论中的贝叶斯公式，后验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>的计算公式为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac><mspace width="1em"/><mo stretchy="false">(</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>c</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-9)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">P(\omega_i | x) = \frac{p(x | \omega_i) P(\omega_i)}{p(x)} \quad (i=1,2,\dots,c) \tag{2-9}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-9</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中：</p><ul><li>分母<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>为<strong>总体密度</strong>，是所有类别特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的混合密度，满足：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>c</mi></munderover><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x) = \sum_{j=1}^c p(x | \omega_j) P(\omega_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0652em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>其作用是对后验概率进行归一化，确保所有类别后验概率之和为1（即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>c</mi></msubsup><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\sum_{i=1}^c P(\omega_i | x) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.104em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>）。</li></ul><h3 id="2-最小错误率决策规则">2. 最小错误率决策规则</h3><p>由于分母<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>对所有类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>相同，比较后验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>的大小等价于比较分子<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i) P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的大小。因此，最小错误率贝叶斯决策规则可表示为以下3种等价形式：</p><h4 id="（1）后验概率最大准则">（1）后验概率最大准则</h4><p>若某类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\omega_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的后验概率大于其他所有类别，则将样本归为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\omega_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>k</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mi>j</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>c</mi></mrow></munder><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mi>k</mi></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-10)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } P(\omega_k | x) = \max_{j=1,2,\dots,c} P(\omega_j | x) \implies x \in \omega_k \tag{2-10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="minner mtight">…</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-10</span></span><span class="mord">)</span></span></span></span></span></span></p><h4 id="（2）联合概率最大准则">（2）联合概率最大准则</h4><p>直接比较<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i) P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（类条件概率密度与先验概率的乘积，即联合概率密度的核心部分）：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mi>j</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>c</mi></mrow></munder><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mi>k</mi></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-11)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } p(x | \omega_k) P(\omega_k) = \max_{j=1,2,\dots,c} p(x | \omega_j) P(\omega_j) \implies x \in \omega_k \tag{2-11}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="minner mtight">…</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-11</span></span><span class="mord">)</span></span></span></span></span></span></p><h4 id="（3）似然比准则（两类问题专用）">（3）似然比准则（两类问题专用）</h4><p>对于两类问题（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">c=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>），定义<strong>似然比</strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">l(x) = \frac{p(x | \omega_1)}{p(x | \omega_2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>（反映特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的似然度比值），决策规则可转化为与阈值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\lambda = \frac{P(\omega_2)}{P(\omega_1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>比较：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>≷</mo><mi>λ</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>ω</mi><mn>1</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>ω</mi><mn>2</mn></msub></mstyle></mtd></mtr></mtable></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-12)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } l(x) \gtrless \lambda \implies x \in \begin{cases} \omega_1 \\ \omega_2 \end{cases} \tag{2-12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">≷</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-12</span></span><span class="mord">)</span></span></span></span></span></span></p><ul><li>当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mi>λ</mi></mrow><annotation encoding="application/x-tex">l(x) &gt; \lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1 | x) &gt; P(\omega_2 | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>，决策为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>；</li><li>当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>λ</mi></mrow><annotation encoding="application/x-tex">l(x) &lt; \lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span></span></span></span>时，决策为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li></ul><h4 id="（4）对数似然比准则（数值计算优化）">（4）对数似然比准则（数值计算优化）</h4><p>为避免乘积运算溢出，对似然比取负对数（负对数为单调递减函数，不改变决策结果），定义<strong>对数似然比</strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>ln</mi><mo>⁡</mo><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(x) = -\ln l(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>，决策规则变为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>≤</mo><mi>ln</mi><mo>⁡</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mfrac><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>ω</mi><mn>1</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>ω</mi><mn>2</mn></msub></mstyle></mtd></mtr></mtable></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-13)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } h(x) \leq \ln \frac{P(\omega_1)}{P(\omega_2)} \implies x \in \begin{cases} \omega_1 \\ \omega_2 \end{cases} \tag{2-13}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-13</span></span><span class="mord">)</span></span></span></span></span></span></p><h2 id="三、错误率的定义与计算">三、错误率的定义与计算</h2><h3 id="1-错误率的本质">1. 错误率的本质</h3><p>错误率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>是所有样本分类错误的概率期望，反映分类器的总体性能。对于两类问题，错误率由两部分组成：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_1(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>：将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类样本误判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率；</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_2(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>：将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类样本误判为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率。</li></ul><h3 id="2-错误率计算公式">2. 错误率计算公式</h3><p>两类问题的平均错误率为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-15)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">P(e) = P(\omega_1) P_1(e) + P(\omega_2) P_2(e) \tag{2-15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-15</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∫</mo><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">P_1(e) = \int_{\Re_2} p(x | \omega_1) dx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2609em;vertical-align:-0.4559em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1303em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4559em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\Re_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类的决策区域，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类样本落入<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\Re_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率）；</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∫</mo><msub><mi mathvariant="normal">ℜ</mi><mn>1</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">P_2(e) = \int_{\Re_1} p(x | \omega_2) dx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2609em;vertical-align:-0.4559em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1303em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4559em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\Re_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类的决策区域）。</li></ul><p>决策区域<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\Re_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\Re_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>由<strong>决策边界</strong>划分，满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1 | x) = P(\omega_2 | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>（或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_1) P(\omega_1) = p(x | \omega_2) P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>）。</p><h2 id="四、多类问题的扩展">四、多类问题的扩展</h2><p>当类别数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">c &gt; 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>时，最小错误率贝叶斯决策规则保持一致：</p><ol><li>对每个类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，计算后验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>（或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i) P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>）；</li><li>选择后验概率最大的类别作为决策结果，数学表达为：</li></ol><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>k</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mi>j</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>c</mi></mrow></munder><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mi>k</mi></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-17a)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } P(\omega_k | x) = \max_{j=1,2,\dots,c} P(\omega_j | x) \implies x \in \omega_k \tag{2-17a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="minner mtight">…</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-17a</span></span><span class="mord">)</span></span></span></span></span></span></p><p>或等价地：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mi>j</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>c</mi></mrow></munder><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mi>k</mi></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-17b)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } p(x | \omega_k) P(\omega_k) = \max_{j=1,2,\dots,c} p(x | \omega_j) P(\omega_j) \implies x \in \omega_k \tag{2-17b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="minner mtight">…</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-17b</span></span><span class="mord">)</span></span></span></span></span></span></p><p>多类问题的决策边界为相邻两类决策区域的分界面，满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i | x) = P(\omega_j | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">i \neq j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span>）。</p><h2 id="五、核心总结">五、核心总结</h2><table><thead><tr><th>核心概念</th><th>数学表达/规则</th><th>作用</th></tr></thead><tbody><tr><td>贝叶斯公式</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo>∣</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(\omega_i \mid x) = \frac{p(x \mid \omega_i) P(\omega_i)}{p(x)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></td><td>连接先验概率与后验概率，为决策提供依据</td></tr><tr><td>最小错误率决策规则（两类）</td><td>1. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo>∣</mo><mi>x</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo>∣</mo><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">P(\omega_1 \mid x) &gt; P(\omega_2 \mid x) \implies x \in \omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>；<br>2. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p(x \mid \omega_1) P(\omega_1) &gt; p(x \mid \omega_2) P(\omega_2) \implies x \in \omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>；<br>3. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mi>λ</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">l(x) &gt; \lambda \implies x \in \omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td><td>确保单次决策错误率最小</td></tr><tr><td>平均错误率（两类）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><msub><mo>∫</mo><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><msub><mo>∫</mo><msub><mi mathvariant="normal">ℜ</mi><mn>1</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">P(e) = P(\omega_1) \int_{\Re_2} p(x \mid \omega_1) dx + P(\omega_2) \int_{\Re_1} p(x \mid \omega_2) dx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2609em;vertical-align:-0.4559em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1303em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4559em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2609em;vertical-align:-0.4559em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1303em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4559em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span></span></td><td>衡量分类器总体性能</td></tr></tbody></table><p>最小错误率贝叶斯决策的前提是已知<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，若这两个参数未知，则需通过样本估计（见第3章概率密度估计）。</p>]]></content>
    
    
    <categories>
      
      <category>模式识别与机器学习</category>
      
      <category>第二章 统计决策方法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>模式识别</tag>
      
      <tag>机器学习</tag>
      
      <tag>贝叶斯决策</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2.1 引言：一个简单的例子</title>
    <link href="/2025/10/21/2-1-%E5%BC%95%E8%A8%80%EF%BC%9A%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90/"/>
    <url>/2025/10/21/2-1-%E5%BC%95%E8%A8%80%EF%BC%9A%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90/</url>
    
    <content type="html"><![CDATA[<p>分类本质是基于观测对样本所属类别进行决策的过程。本节通过“猜硬币”和“癌细胞识别”两个实例，引入贝叶斯决策的核心思想，明确先验概率、类条件密度、后验概率等关键概念及数学关系，为后续统计决策方法奠定基础。</p><h2 id="一、猜硬币问题：贝叶斯决策的直观引入">一、猜硬币问题：贝叶斯决策的直观引入</h2><p>假设待猜硬币仅可能属于两类：一角硬币（记为类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）、五角硬币（记为类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>），核心是通过概率判断样本（硬币）所属类别，分“无观测”和“有观测（称重）”两种场景分析。</p><h3 id="1-无观测时的决策：基于先验概率">1. 无观测时的决策：基于先验概率</h3><ul><li><strong>问题背景</strong>：无任何硬币信息（如重量、尺寸），仅依据过往经验判断两类硬币出现的概率。</li><li><strong>先验概率定义</strong>：在未对样本（硬币）进行任何观测时，类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>出现的概率，记为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">i=1,2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span></span></span></span>）。例如，若近期接触一角硬币的频率更高，可设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1) &gt; P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。</li><li><strong>决策规则（最小错误率准则）</strong>：<br>若<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1) &gt; P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，则决策硬币属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（一角）；反之则属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（五角），数学表达为：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub><mo separator="true">;</mo><mspace width="1em"/><mtext>否则 </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>2</mn></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } P(\omega_1) &gt; P(\omega_2) \implies x \in \omega_1; \quad \text{否则 } x \in \omega_2 \tag{2-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord cjk_fallback">否则</span><span class="mord"> </span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-1</span></span><span class="mord">)</span></span></span></span></span></span></p></li><li><strong>错误率分析</strong>：对两类问题，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">P(\omega_1) + P(\omega_2) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>。若决策<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x \in \omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，错误率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mtext>error</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\text{error}) = 1 - P(\omega_1) = P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord text"><span class="mord">error</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>；反之错误率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>。式(2-1)的决策可使单次决策的错误率最小。</li></ul><h3 id="2-有观测时的决策：基于后验概率">2. 有观测时的决策：基于后验概率</h3><ul><li><strong>问题扩展</strong>：允许用天平称量硬币重量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>，需结合重量信息优化决策，核心是计算“已知重量为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>时，硬币属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类”的概率（后验概率）。</li><li><strong>后验概率定义</strong>：给定样本特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>（如硬币重量）时，样本属于类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率，记为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>。</li><li><strong>贝叶斯公式：先验概率与后验概率的转换</strong>：<br>根据概率论中的贝叶斯公式，后验概率可通过先验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>和类条件密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>（类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>中特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的概率密度）计算：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac><mspace width="1em"/><mo stretchy="false">(</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">P(\omega_i | x) = \frac{p(x, \omega_i)}{p(x)} = \frac{p(x | \omega_i) P(\omega_i)}{p(x)} \quad (i=1,2) \tag{2-3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-3</span></span><span class="mord">)</span></span></span></span></span></span></p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>为总体密度（所有类别特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的混合密度），满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x) = p(x | \omega_1) P(\omega_1) + p(x | \omega_2) P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，仅起归一化作用。</li><li><strong>决策规则（最小错误率准则）</strong>：<br>比较两类后验概率，将样本归为后验概率更大的类别，数学表达为：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub><mo separator="true">;</mo><mspace width="1em"/><mtext>否则 </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>2</mn></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } P(\omega_1 | x) &gt; P(\omega_2 | x) \implies x \in \omega_1; \quad \text{否则 } x \in \omega_2 \tag{2-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord cjk_fallback">否则</span><span class="mord"> </span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-2</span></span><span class="mord">)</span></span></span></span></span></span></p>由于式(2-3)中分母<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>对两类相同，决策时可仅比较分子，等价于：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>若 </mtext><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>1</mn></msub><mo separator="true">;</mo><mspace width="1em"/><mtext>否则 </mtext><mi>x</mi><mo>∈</mo><msub><mi>ω</mi><mn>2</mn></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{若 } p(x | \omega_1) P(\omega_1) &gt; p(x | \omega_2) P(\omega_2) \implies x \in \omega_1; \quad \text{否则 } x \in \omega_2 \tag{2-4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> </span></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord cjk_fallback">否则</span><span class="mord"> </span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-4</span></span><span class="mord">)</span></span></span></span></span></span></p></li><li><strong>关键参数说明</strong>：<ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>：可通过统计市场流通硬币的比例估计（如一角硬币占比60%，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.6</mn></mrow><annotation encoding="application/x-tex">P(\omega_1) = 0.6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.6</span></span></span></span>）；</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>：可通过大量同类硬币的重量数据拟合（如一角硬币重量服从正态分布<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>1</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N(\mu_1, \sigma_1^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，五角硬币服从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>2</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N(\mu_2, \sigma_2^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>）。</li></ul></li></ul><h2 id="二、癌细胞识别：贝叶斯决策的实际应用">二、癌细胞识别：贝叶斯决策的实际应用</h2><p>以“正常细胞（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）与异常细胞（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）的分类”为例，说明贝叶斯决策在实际模式识别问题中的应用，简化为单特征（细胞核总光密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>）分析。</p><h3 id="1-关键参数的获取">1. 关键参数的获取</h3><ul><li><strong>先验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></strong>：通过医院病例统计数据估计，例如某地区正常细胞占比90%，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.9</mn></mrow><annotation encoding="application/x-tex">P(\omega_1) = 0.9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.9</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.1</mn></mrow><annotation encoding="application/x-tex">P(\omega_2) = 0.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.1</span></span></span></span>。</li><li><strong>类条件密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></strong>：通过历史细胞图像数据拟合，例如正常细胞光密度服从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>1</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_1) \sim N(\mu_1, \sigma_1^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，异常细胞服从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msub><mi>μ</mi><mn>2</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_2) \sim N(\mu_2, \sigma_2^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，其概率密度公式为：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><msqrt><mrow><mn>2</mn><mi>π</mi></mrow></msqrt><msub><mi>σ</mi><mi>i</mi></msub></mrow></mfrac><mi>exp</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mo>−</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msub><mi>μ</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><mn>2</mn><msubsup><mi>σ</mi><mi>i</mi><mn>2</mn></msubsup></mrow></mfrac><mo fence="true">)</mo></mrow><mspace width="1em"/><mo stretchy="false">(</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_i) = \frac{1}{\sqrt{2\pi}\sigma_i} \exp\left(-\frac{(x - \mu_i)^2}{2\sigma_i^2}\right) \quad (i=1,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.454em;vertical-align:-0.9629em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.2028em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9472em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9629em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span></span></p></li></ul><h3 id="2-决策边界与错误率计算">2. 决策边界与错误率计算</h3><ul><li><strong>决策边界定义</strong>：特征空间中划分两类决策区域的边界，满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_1 | x) = P(\omega_2 | x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>（或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x | \omega_1) P(\omega_1) = p(x | \omega_2) P(\omega_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>）。设边界点为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>，则特征空间被分为：<ul><li>决策区域<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>1</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Re_1 = (-\infty, t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>：样本归为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（正常细胞）；</li><li>决策区域<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Re_2 = (t, +\infty)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mord">∞</span><span class="mclose">)</span></span></span></span>：样本归为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\omega_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（异常细胞）。</li></ul></li><li><strong>平均错误率计算</strong>：<br>错误率由“正常细胞误判为异常”（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_1(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>）和“异常细胞误判为正常”（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_2(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>）两部分加权组成，权重为对应类别的先验概率：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-15)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">P(e) = P(\omega_1) P_1(e) + P(\omega_2) P_2(e) \tag{2-15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-15</span></span><span class="mord">)</span></span></span></span></span></span></p>其中：<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∫</mo><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo separator="true">,</mo><mspace width="1em"/><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∫</mo><msub><mi mathvariant="normal">ℜ</mi><mn>1</mn></msub></msub><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>ω</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-16a, 2-16b)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">P_1(e) = \int_{\Re_2} p(x | \omega_1) dx, \quad P_2(e) = \int_{\Re_1} p(x | \omega_2) dx \tag{2-16a, 2-16b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.372em;vertical-align:-1.012em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.4258em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.012em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.372em;vertical-align:-1.012em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.4258em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.012em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span><span class="tag"><span class="strut" style="height:2.372em;vertical-align:-1.012em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-16a, 2-16b</span></span><span class="mord">)</span></span></span></span></span></span></p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_1(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>表示<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\omega_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>类样本落入<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">ℜ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\Re_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">ℜ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率（误判率），<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_2(e)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>同理。</li></ul><h2 id="三、核心概念总结">三、核心概念总结</h2><table><thead><tr><th>概念</th><th>定义与数学表达</th><th>作用</th></tr></thead><tbody><tr><td>先验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td>未观测样本时，类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>出现的概率，满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mn>2</mn></msubsup><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\sum_{i=1}^2 P(\omega_i) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2537em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>无观测时的决策依据</td></tr><tr><td>类条件密度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x \mid \omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td>类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>中特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>的概率密度，描述类别内特征的分布规律</td><td>结合观测特征，转换为先验概率与后验概率</td></tr><tr><td>后验概率<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo>∣</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\omega_i \mid x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></td><td>已知特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>时，样本属于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\omega_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率，由贝叶斯公式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo>∣</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(\omega_i \mid x) = \frac{p(x \mid \omega_i) P(\omega_i)}{p(x)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∣</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>计算</td><td>有观测时的核心决策依据</td></tr><tr><td>贝叶斯决策规则</td><td>比较后验概率（或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo>∣</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(x \mid \omega_i) P(\omega_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>），将样本归为概率更大的类别</td><td>最小化单次决策的错误率</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>模式识别与机器学习</category>
      
      <category>第二章 统计决策方法</category>
      
    </categories>
    
    
    <tags>
      
      <tag>模式识别</tag>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.4 模式识别系统的典型构成</title>
    <link href="/2025/10/21/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B8%E5%9E%8B%E6%9E%84%E6%88%90/"/>
    <url>/2025/10/21/%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B8%E5%9E%8B%E6%9E%84%E6%88%90/</url>
    
    <content type="html"><![CDATA[<p>模式识别系统虽因应用场景（如语音识别、图像目标检测、基因数据分析等）不同而存在细节差异，但核心流程具有共性，均围绕“数据处理→特征优化→决策/分析→结果验证”四个核心环节展开。根据是否依赖“类别已知的训练样本”，可分为<strong>监督模式识别系统</strong>与<strong>非监督模式识别系统</strong>，二者在具体流程上有所区别，具体如下：</p><h2 id="一、模式识别系统的核心共性模块">一、模式识别系统的核心共性模块</h2><p>无论监督还是非监督模式识别，系统均需先完成以下基础步骤，为后续分类或聚类提供高质量数据与特征：</p><ol><li><p><strong>信息获取与预处理</strong></p><ul><li><strong>信息获取</strong>：通过传感器（如麦克风、摄像头、基因芯片）或设备（如扫描仪、地震仪）采集原始数据，例如语音信号、图像像素、基因表达值、地震反射信号等。  /</li><li><strong>预处理</strong>：对原始数据进行降噪、去冗余、标准化/归一化、数据补全（处理缺失值）等操作，消除干扰因素（如语音信号中的背景噪音、图像中的光照不均），确保数据质量。</li><li>示例：语音识别中，将连续语音按25ms/帧分割并去噪；字符识别中，对扫描稿件进行版面分析与字符分隔。</li></ul></li><li><p><strong>特征提取与选择</strong></p><ul><li><strong>特征提取</strong>：从预处理后的数据中提取能反映样本本质差异的“关键信息”，将原始数据转化为低维、可计算的特征向量。例如：<ul><li>图像识别中，提取像素密度投影、边缘特征；</li><li>基因数据分析中，从海量基因中筛选与疾病相关的表达量特征。</li></ul></li><li><strong>特征选择</strong>：剔除冗余、无关特征（如对分类无帮助的噪声特征），降低特征空间维度，提升后续模型效率与精度。</li><li>核心目标：通过“降维”与“去噪”，保留对类别区分最关键的信息，为后续分类/聚类奠定基础。</li></ul></li></ol><h2 id="二、监督模式识别系统的具体流程">二、监督模式识别系统的具体流程</h2><p>监督模式识别需依赖“类别已知的训练样本”（即每个样本的特征向量与所属类别标签对应），核心目标是建立“特征→类别”的映射模型（分类器），用于未知样本的类别预测，具体步骤如下：</p><ol><li><p><strong>问题分析</strong></p><ul><li>明确研究目标（如“区分正常细胞/癌细胞”“识别手写数字0-9”），将目标转化为“类别划分任务”；</li><li>分析数据中哪些因素（特征）可能与分类相关（如细胞的细胞核光密度、手写数字的笔画结构）。</li></ul></li><li><p><strong>原始特征获取</strong></p><ul><li>设计实验采集<strong>已知类别标签的训练样本</strong>（如标注好“正常/异常”的细胞图像、标注好“0-9”的手写数字图像）；</li><li>对样本进行观测与预处理，生成原始特征向量（如细胞的光密度特征向量、数字的像素特征向量）。</li></ul></li><li><p><strong>特征提取与选择</strong></p><ul><li>对原始特征进行优化（如降维、去冗余），得到更具区分性的特征向量（如用主成分分析PCA压缩细胞特征维度）。</li></ul></li><li><p><strong>分类器设计（训练）</strong></p><ul><li>选择合适的分类算法（如贝叶斯分类器、支持向量机、神经网络），用训练样本“训练”分类器，确定模型参数（如贝叶斯分类器的先验概率、支持向量机的最优超平面）。</li></ul></li><li><p><strong>分类决策与验证</strong></p><ul><li>对未知样本执行与训练样本相同的“预处理→特征提取”流程，输入训练好的分类器，得到类别预测结果；</li><li>用测试集（独立于训练集的已知类别样本）评估分类器性能（如错误率、准确率），必要时结合领域知识进行后处理（如语音识别中的语言模型校正）。</li></ul></li></ol><h2 id="三、非监督模式识别系统的具体流程">三、非监督模式识别系统的具体流程</h2><p>非监督模式识别无需“类别已知的训练样本”，甚至未知类别数量，核心目标是通过样本特征的“内在相似性”自动聚成类别（聚类），挖掘数据的潜在结构，具体步骤如下：</p><ol><li><p><strong>问题分析</strong></p><ul><li>明确研究目标（如“将客户按消费行为分群”“探索基因表达数据的细胞亚型”），判断是否可通过“寻找聚类”实现目标；</li><li>猜测可能的类别数量（如“客户可能分为高/中/低消费群体”），分析数据中与聚类相关的特征（如客户的消费频次、消费金额）。</li></ul></li><li><p><strong>原始特征获取</strong></p><ul><li>采集<strong>无类别标签的待分析样本</strong>（如未标注“消费群体”的客户消费数据、未标注“细胞亚型”的基因表达数据）；</li><li>对样本进行观测与预处理，生成原始特征向量（如客户的“消费频次-消费金额”向量、细胞的基因表达向量）。</li></ul></li><li><p><strong>特征提取与选择</strong></p><ul><li>优化原始特征（如降维、标准化），突出样本间的相似性差异（如用t-SNE将高维基因表达特征降维至2D/3D，便于聚类）。</li></ul></li><li><p><strong>聚类分析</strong></p><ul><li>选择非监督算法（如K均值、层次聚类、自组织映射SOM），对样本进行自动分组，使“同类样本相似性高、异类样本相似性低”（如用K均值将客户分为3个消费群体）。</li></ul></li><li><p><strong>结果解释与验证</strong></p><ul><li>评估聚类质量（如通过“类内相似度/类间相似度”衡量）；</li><li>结合领域知识解释聚类的实际意义（如“聚类1对应年轻高消费客户，聚类2对应中年中等消费客户”）；</li><li>若有新样本，可将聚类结果用于新样本的类别归属判断（如将新客户归入已有的消费群体）。</li></ul></li></ol><h2 id="四、核心总结">四、核心总结</h2><table><thead><tr><th>对比维度</th><th>监督模式识别</th><th>非监督模式识别</th></tr></thead><tbody><tr><td><strong>核心依赖</strong></td><td>类别已知的训练样本（带标签）</td><td>无类别标签的样本</td></tr><tr><td><strong>核心目标</strong></td><td>建立“特征→类别”映射，预测未知样本类别</td><td>发现数据内在结构，自动聚成相似类别</td></tr><tr><td><strong>关键步骤</strong></td><td>分类器训练（用已知样本优化模型）</td><td>聚类分析（用样本相似性自动分组）</td></tr><tr><td><strong>结果验证</strong></td><td>用测试集评估分类器性能（如错误率）</td><td>结合领域知识解释聚类合理性</td></tr><tr><td><strong>典型应用</strong></td><td>疾病诊断、图像分类、手写数字识别</td><td>客户分群、基因亚型探索、异常检测</td></tr></tbody></table><p>无论是监督还是非监督模式识别，<strong>特征提取与选择</strong>“分类器/聚类算法设计”“结果评估”是系统的核心共性环节，也是模式识别与机器学习学科的重点研究内容。</p>]]></content>
    
    
    <categories>
      
      <category>模式识别与机器学习</category>
      
      <category>第一章 概论</category>
      
    </categories>
    
    
    <tags>
      
      <tag>模式识别</tag>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.3 监督模式识别与非监督模式识别</title>
    <link href="/2025/10/21/1-3-%E7%9B%91%E7%9D%A3%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E9%9D%9E%E7%9B%91%E7%9D%A3%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/"/>
    <url>/2025/10/21/1-3-%E7%9B%91%E7%9D%A3%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E4%B8%8E%E9%9D%9E%E7%9B%91%E7%9D%A3%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<p>监督模式识别与非监督模式识别是模式识别领域的两大核心分支，二者的核心差异在于是否依赖“类别已知的训练样本”作为学习“导师”，在问题设定、学习目标、方法特点及结果解读上均存在显著区别，具体如下：</p><h2 id="一、监督模式识别（Supervised-Pattern-Recognition）">一、监督模式识别（Supervised Pattern Recognition）</h2><h3 id="1-核心定义与前提假设">1. 核心定义与前提假设</h3><ul><li><strong>定义</strong>：在已知“待划分类别”且能获取“类别已知的训练样本”的前提下，以训练样本作为“导师”，建立分类模型（分类器），实现对未知样本类别的预测。</li><li><strong>关键前提</strong>：<ul><li>明确知道要划分的类别数量及类别含义；</li><li>拥有足够数量的“特征-类别”对应训练样本（即每个样本的特征向量与所属类别标签已知）。</li></ul></li></ul><h3 id="2-典型应用场景">2. 典型应用场景</h3><ul><li>图像分类（如区分“猫/狗/汽车”，需先提供大量标注好类别的图像作为训练集）；</li><li>疾病诊断（如根据“患者特征-疾病标签”训练模型，预测新患者是否患病）；</li><li>手写数字识别（如MNIST数据集，每个手写数字图像均标注对应的0-9类别）。</li></ul><h3 id="3-核心流程">3. 核心流程</h3><ol><li><strong>数据准备</strong>：收集类别已知的样本，构建训练集（含特征向量与类别标签）；</li><li><strong>特征处理</strong>：对样本特征进行提取、选择或预处理（如去噪、归一化）；</li><li><strong>模型训练</strong>：用训练集训练分类器（如贝叶斯分类器、支持向量机、神经网络等）；</li><li><strong>分类决策</strong>：用训练好的分类器对未知样本的特征向量进行类别预测。</li></ol><h3 id="4-特点">4. 特点</h3><ul><li><strong>目标明确</strong>：直接学习“特征→类别”的映射关系，分类结果具有明确的预设类别含义；</li><li><strong>依赖标注样本</strong>：标注样本的质量（准确性、代表性）和数量直接影响分类器性能；</li><li><strong>结果确定性</strong>：对同一未知样本，在相同模型下分类结果唯一（排除随机化模型）。</li></ul><h2 id="二、非监督模式识别（Unsupervised-Pattern-Recognition）">二、非监督模式识别（Unsupervised Pattern Recognition）</h2><h3 id="1-核心定义与前提假设-2">1. 核心定义与前提假设</h3><ul><li><strong>定义</strong>：在“未知待划分类别”“无类别已知训练样本”（甚至未知类别数量）的前提下，仅根据样本特征的“相似性”或“内在结构”，将样本自动聚为若干类（称为“聚类”），使同类样本相似性高、异类样本相似性低。</li><li><strong>关键前提</strong>：<ul><li>无需知道类别数量及类别含义；</li><li>仅拥有无类别标签的样本特征向量，通过数据自身规律发现类别。</li></ul></li></ul><h3 id="2-典型应用场景-2">2. 典型应用场景</h3><ul><li>客户分群（如根据用户消费行为特征，将客户自动分为“高消费/中等消费/低消费”群体，无需预先定义群体标签）；</li><li>基因表达数据分析（如根据基因表达水平，将细胞自动聚为不同类型，探索未知细胞亚型）；</li><li>异常检测（如通过正常数据的聚类结构，识别偏离聚类的“异常样本”，如信用卡欺诈交易检测）。</li></ul><h3 id="3-核心流程-2">3. 核心流程</h3><ol><li><strong>数据准备</strong>：收集无类别标签的样本，构建待分析样本集；</li><li><strong>特征处理</strong>：对样本特征进行预处理（如降维、标准化），突出样本间的差异或相似性；</li><li><strong>聚类分析</strong>：选择聚类算法（如K均值、层次聚类、模糊聚类等），对样本进行自动分组；</li><li><strong>结果解释</strong>：结合领域知识分析聚类结果的实际意义（如“聚类1对应年轻高消费客户”），验证聚类合理性。</li></ol><h3 id="4-特点-2">4. 特点</h3><ul><li><strong>目标是“发现类别”</strong>：不预设类别，从数据中挖掘内在结构，属于“探索性分析”；</li><li><strong>无需标注样本</strong>：适用于标注成本高或类别未知的场景（如生物领域新物种分类、工业异常检测）；</li><li><strong>结果非唯一性</strong>：<ul><li>同一数据集采用不同聚类算法（如K均值vs层次聚类）或不同参数（如K均值的K值选择），可能得到不同聚类结果；</li><li>聚类结果的“合理性”需结合领域知识判断（如客户分群结果需业务人员验证是否符合实际客户特征）。</li></ul></li></ul><h2 id="三、监督与非监督模式识别的核心差异对比">三、监督与非监督模式识别的核心差异对比</h2><table><thead><tr><th>对比维度</th><th>监督模式识别</th><th>非监督模式识别</th></tr></thead><tbody><tr><td><strong>样本需求</strong></td><td>需类别已知的训练样本（带标签）</td><td>仅需无类别标签的样本（无标签）</td></tr><tr><td><strong>类别信息</strong></td><td>已知类别数量及含义</td><td>未知类别数量及含义，需从数据中发现</td></tr><tr><td><strong>学习目标</strong></td><td>学习“特征→类别”的映射，用于预测未知样本</td><td>发现样本内在结构，实现“相似样本聚为一类”</td></tr><tr><td><strong>结果特点</strong></td><td>结果唯一，对应预设类别</td><td>结果非唯一，需领域知识解释合理性</td></tr><tr><td><strong>典型算法</strong></td><td>贝叶斯分类器、SVM、神经网络、决策树</td><td>K均值、层次聚类、DBSCAN、自组织映射</td></tr><tr><td><strong>适用场景</strong></td><td>预测性任务（如疾病诊断、图像分类）</td><td>探索性任务（如客户分群、异常检测）</td></tr></tbody></table><h2 id="四、补充说明">四、补充说明</h2><ol><li><strong>术语对应</strong>：国内部分文献中，监督学习也称为“有导师学习”，非监督学习也称为“无导师学习”，本质与本文定义一致。</li><li><strong>非监督学习的扩展</strong>：除聚类外，非监督学习还包括“发现数据内在结构”的任务，如高维数据降维（如PCA、t-SNE）、发现数据间的关联关系等，核心均是“无标签下挖掘数据规律”。</li><li><strong>二者结合</strong>：实际应用中常结合两种方法，例如：先用非监督聚类发现潜在类别，再用聚类结果作为“伪标签”训练监督分类器（半监督学习）；或用监督学习验证非监督聚类的合理性（如用已知类别标签评估聚类纯度）。</li></ol>]]></content>
    
    
    <categories>
      
      <category>模式识别与机器学习</category>
      
      <category>第一章 概论</category>
      
    </categories>
    
    
    <tags>
      
      <tag>模式识别</tag>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.2 模式识别的主要方法</title>
    <link href="/2025/10/21/1.2%20%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E7%9A%84%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95/"/>
    <url>/2025/10/21/1.2%20%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB%E7%9A%84%E4%B8%BB%E8%A6%81%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="一、基于知识的方法">一、基于知识的方法</h2><h3 id="（一）核心原理">（一）核心原理</h3><p>该方法以人类对研究对象的先验知识为基础，通过&quot;分解-符号化-句法分析&quot;的逻辑实现分类，具体流程为：</p><ol><li><p><strong>对象分解与符号化</strong>：将待识别对象拆解为多个基本单元（如汉字的笔画、复杂图像的局部特征），并将每个基本单元用特定符号表示（如用&quot;横&quot;&quot;竖&quot;等符号表示汉字笔画）。</p></li><li><p><strong>句法关系构建</strong>：描述基本单元之间的结构关系（如汉字中&quot;横&quot;与&quot;竖&quot;的连接顺序、位置关系），形成单元符号间的句法规则。</p></li><li><p><strong>句法分析分类</strong>：利用形式语言（如上下文无关文法）和句法分析算法（如自上而下句法分析、自下而上句法分析），根据句法规则判断样本是否符合某类对象的结构特征，进而完成分类。</p></li></ol><h3 id="（二）典型实例">（二）典型实例</h3><p>以<strong>复杂结构汉字识别</strong>为例：</p><ul><li><p>先将汉字图像分解为&quot;横、竖、撇、捺&quot;等基本笔画单元，提取笔画的起始点、转折点、终点等特征点并编码为数字符号；</p></li><li><p>结合汉字结构知识（如&quot;左右结构&quot;&quot;上下结构&quot;、旋转与尺度不变性），构建笔画间的句法关系（如&quot;'木'字由'横、竖、撇、捺'按'横在上、竖居中、撇捺在下'的顺序组成&quot;）；</p></li><li><p>通过句法分析判断待识别汉字的笔画组合是否符合某一已知汉字的句法规则，实现识别。</p></li></ul><h3 id="（三）局限性">（三）局限性</h3><p>该方法高度依赖人类对研究对象的<strong>充分认知</strong>：若对对象的结构、单元关系等缺乏深入了解（如复杂疾病的病理机制、未知天体的特征规律），则无法构建有效的句法规则，导致方法难以应用。</p><h2 id="二、基于数据的方法">二、基于数据的方法</h2><h3 id="（一）核心原理与流程">（一）核心原理与流程</h3><p>该方法不依赖先验知识，完全以数据为驱动，通过&quot;特征确定-训练集构建-模型训练-分类预测&quot;的流程实现识别，是模式识别的主流方法，具体逻辑如下：</p><ol><li><p><strong>特征确定</strong>：选取能反映对象类别差异的特征（如语音识别中的频率、振幅特征，图像识别中的像素分布、边缘特征），将样本表示为特征向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>。</p></li><li><p><strong>训练集构建</strong>：收集大量类别已知的样本，组成训练集$${(x_1,y_1),(x_2,y_2),\dots,(x_N,y_N)}$$，其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>为样本的类别标号。</p></li><li><p><strong>模型训练（学习过程）</strong>：利用训练集训练&quot;学习机器（LM）&quot;，本质是构建从特征向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>到类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">y&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>的映射函数$$y'=f(x)$$（即分类器），目标是让分类器对训练样本的分类误差最小。</p></li><li><p><strong>分类预测</strong>：将未知样本的特征向量输入训练好的分类器，由分类器输出样本的预测类别。</p></li></ol><h3 id="（二）与机器学习的关系">（二）与机器学习的关系</h3><p>基于数据的模式识别可看作<strong>基于数据的机器学习的特殊情况</strong>：</p><ul><li>机器学习的目标包括离散分类、连续值预测（如回归）等，而基于数据的模式识别专注于&quot;离散分类&quot;这一目标，是机器学习中研究最广泛、最核心的方向之一。</li></ul><h3 id="（三）典型实例">（三）典型实例</h3><p>以<strong>语音识别</strong>为例：</p><ul><li><p>特征确定：将语音信号按25ms/帧、10ms间隔分割，提取每帧的梅尔频率倒谱系数（MFCC）作为特征向量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>；</p></li><li><p>训练集构建：收集大量已知内容的语音信号（如&quot;你好&quot;&quot;谢谢&quot;等），标注每段语音对应的文本类别<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>，组成训练集；</p></li><li><p>模型训练：用训练集训练基于隐马尔可夫模型（HMM）或深度学习的分类器，学习&quot;语音特征-文本类别&quot;的映射关系；</p></li><li><p>分类预测：将未知语音信号的特征向量输入分类器，输出语音对应的文本内容，实现识别。</p></li></ul><h2 id="三、两类方法的对比与基于数据的方法的核心地位">三、两类方法的对比与基于数据的方法的核心地位</h2><h3 id="（一）关键差异对比">（一）关键差异对比</h3><table><thead><tr><th>对比维度</th><th>基于知识的方法</th><th>基于数据的方法</th></tr></thead><tbody><tr><td>依赖条件</td><td>人类对对象的先验知识（需充分认知）</td><td>类别已知的训练数据（无需先验知识）</td></tr><tr><td>适用场景</td><td>对象结构清晰、规则可明确描述的场景（如简单汉字识别）</td><td>对象机理复杂、规则难描述的场景（如语音识别、疾病诊断）</td></tr><tr><td>核心逻辑</td><td>符号化与句法分析</td><td>数据驱动的分类器学习</td></tr><tr><td>局限性</td><td>知识不足时无法应用</td><td>需足够多高质量训练数据</td></tr></tbody></table><h3 id="（二）基于数据的方法的核心地位">（二）基于数据的方法的核心地位</h3><ol><li><p><strong>主流性</strong>：在无特别说明时，&quot;模式识别&quot;通常特指基于数据的方法，因其能应对大多数实际场景中&quot;知识不足但数据可获取&quot;的情况。</p></li><li><p><strong>适用范围</strong>：适用于&quot;已知特征与类别相关，但无法确切描述关系&quot;的场景，这种&quot;不确定性&quot;的来源包括：</p><ul><li><p>对对象机理研究不足（如新型疾病的致病基因与疾病类型的关系）；</p></li><li><p>问题本身的随机性（如金融市场中&quot;股价特征-涨跌类别&quot;的关系）；</p></li><li><p>样本异质性（如不同人说话的口音差异）；</p></li><li><p>观测数据不准确（如传感器噪声导致的图像失真）。</p></li></ul></li><li><p><strong>边界条件</strong>：</p><ul><li><p>若&quot;特征-类别&quot;关系可完全确切描述（如简单几何图形的分类），基于知识的方法更高效；</p></li><li><p>若&quot;特征-类别&quot;关系完全随机（无规律性），则两类方法均无法得到有意义的结果。</p></li></ul></li></ol><h2 id="四、基于数据的方法与其他学科的关联">四、基于数据的方法与其他学科的关联</h2><h3 id="（一）与统计学的关联">（一）与统计学的关联</h3><ol><li><p><strong>基础支撑</strong>：基于数据的模式识别的核心是<strong>统计模式识别</strong>，即依据统计学原理（如概率分布、贝叶斯公式）建立分类器，这是模式识别学科最初的主要内容（如基于正态分布的贝叶斯分类器）。</p></li><li><p><strong>方法融合</strong>：即使是非统计起源的方法（如人工神经网络），其本质也与统计学密切相关——例如，神经网络的权重学习可通过最大似然估计、贝叶斯推断等统计学思想解释，目前主流研究也常采用统计学视角分析神经网络的泛化能力。</p></li></ol><h3 id="（二）学科发展脉络的意义">（二）学科发展脉络的意义</h3><p>模式识别方法的发展是多学科思想融合的过程：</p><ul><li><p>20世纪30年代诞生线性判别函数（统计起源）；</p></li><li><p>20世纪80年代人工神经网络兴起（神经科学启发）；</p></li><li><p>20世纪90年代支持向量机与统计学习理论发展（统计学与泛函分析结合）；</p></li><li><p>21世纪10年代后深度学习爆发（神经网络与大数据、计算能力结合）。</p></li></ul><p>了解这些脉络有助于深刻理解方法的核心思想（如支持向量机的&quot;最大间隔&quot;思想源于统计学习理论），并把握学科未来发展方向（如方法间的融合趋势）。</p>]]></content>
    
    
    <categories>
      
      <category>模式识别与机器学习</category>
      
      <category>第一章 概论</category>
      
    </categories>
    
    
    <tags>
      
      <tag>模式识别</tag>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1.1 模式与模式识别</title>
    <link href="/2025/10/21/%E6%A8%A1%E5%BC%8F%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/"/>
    <url>/2025/10/21/%E6%A8%A1%E5%BC%8F%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<ol><li><strong>模式与模式识别的定义</strong>：人类认识外界事物的能力涉及对事物的分类和识别，这一过程依赖于对事物整体性质和特点的认识。模式识别就是指依据这种对事物类别的认识，对具体对象进行分类和识别的过程。例如，看到一幅风景照片，人们能识别出其中的各种元素，并判断出这是中国江南水乡的景色 ，这一认知过程包含了对多个模式的识别。</li><li><strong>模式识别的方法分类</strong><ul><li><strong>基于知识的方法</strong>：把对象分解描述成基本单元，用符号表示单元及单元间的句法关系，利用形式语言和句法分析原理实现样本分类。但该方法依赖于人们对所研究对象的认识，在很多情况下人们并不具备足够的认识，因此应用受限。</li><li><strong>基于数据的方法</strong>：在确定样本特征后，不依赖于对对象的先验认识，而是通过收集已知样本组成训练集，训练模式识别机器，使其能够对未知样本进行分类。这是模式识别最主要的方法，可看作基于数据的机器学习的特殊情况，其学习目标是离散的分类。模式识别的任务是在类别标号与特征向量存在未知依赖关系，且仅已知一组训练数据对的情况下，求解定义在特征向量上的函数（分类器），以预测未知样本的类别 。</li></ul></li><li><strong>模式识别与机器学习、人工智能的关系</strong>：进入21世纪，机器学习备受关注，模式识别是其核心且研究最多的方面。在模式识别和机器学习的发展历程中，它们与人工智能研究并行。后来，以深度学习为代表的机器学习方法取得巨大发展，人们开始将机器学习与人工智能视为同一领域，模式识别与机器学习这两个术语也常被混用 。</li><li><strong>模式识别的适用场景</strong>：基于数据的模式识别方法适用于已知对象某些特征与感兴趣的类别性质有关，但无法确切描述这种关系的情况。这种不确定性可能是由于对相关机理研究不足，或问题本身的不确定性、样本异质性和观测数据不准确等原因造成的。如果分类和特征之间的关系能完全确切描述，基于知识的方法可能更有效；若两者关系完全随机，则模式识别难以得到有意义的结果 。</li></ol>]]></content>
    
    
    <categories>
      
      <category>模式识别与机器学习</category>
      
      <category>第一章 概论</category>
      
    </categories>
    
    
    <tags>
      
      <tag>模式识别</tag>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>进程同步</title>
    <link href="/2025/10/16/%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5/"/>
    <url>/2025/10/16/%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5/</url>
    
    <content type="html"><![CDATA[<p>进程同步是多道程序环境下协调进程并发执行的核心机制。引入进程后，虽能通过并发提升资源利用率和系统吞吐量，但进程对共享资源的无序争夺会导致执行结果不可再现。进程同步的本质是通过特定规则协调进程执行次序，确保共享资源有序访问与进程间高效协作，使程序执行具备可再现性。</p><h2 id="一、进程同步的基本概念与制约关系">一、进程同步的基本概念与制约关系</h2><h3 id="1-进程同步的核心任务">1. 进程同步的核心任务</h3><p>对多个相关进程的执行次序进行协调，解决“并发导致的资源争夺与协作混乱”问题，具体包括：</p><ul><li>确保进程按规则共享系统资源（如打印机、共享变量）；</li><li>实现进程间的有效合作（如“司机-售票员”进程的协同操作）；</li><li>消除并发执行的不可再现性，保证每次执行结果一致。</li></ul><h3 id="2-进程间的两种制约关系">2. 进程间的两种制约关系</h3><p>进程并发执行时，因资源共享或任务协作产生两种典型制约关系，均需同步机制协调：</p><h4 id="（1）间接相互制约关系（资源共享导致）">（1）间接相互制约关系（资源共享导致）</h4><ul><li><strong>产生原因</strong>：多个进程共享同一临界资源（如打印机、共享内存），需通过互斥方式访问，避免资源状态被无序修改。</li><li><strong>示例</strong>：进程A和进程B均需使用打印机，若A正在打印（占用打印机），B必须等待A释放后才能使用。</li><li><strong>本质</strong>：进程间无直接通信，仅因共享资源而间接相互限制。</li></ul><h4 id="（2）直接相互制约关系（任务协作导致）">（2）直接相互制约关系（任务协作导致）</h4><ul><li><strong>产生原因</strong>：多个进程为完成同一任务需协同工作，一个进程的执行依赖另一个进程的结果（如“生产者-消费者”进程，生产者生产产品后消费者才能消费）。</li><li><strong>示例</strong>：司机进程（P1）需在售票员进程（P2）关门后才能启动车辆，P2需在P1到站停车后才能开门，二者执行顺序直接关联。</li><li><strong>本质</strong>：进程间存在明确的依赖关系，需通过信号或消息传递同步执行节奏。</li></ul><h2 id="二、临界资源与临界区">二、临界资源与临界区</h2><h3 id="1-临界资源（Critical-Resource）">1. 临界资源（Critical Resource）</h3><ul><li><strong>定义</strong>：一次仅允许一个进程访问的资源，包括硬件资源（如打印机、磁带机）和软件资源（如共享变量、数据库记录）。</li><li><strong>核心特性</strong>：排他性——若多个进程同时访问，会导致资源状态混乱或执行结果错误。</li><li><strong>管理原则</strong>：进程对临界资源的访问必须互斥，即一个进程访问时，其他进程需等待。</li></ul><h3 id="2-临界区（Critical-Section）">2. 临界区（Critical Section）</h3><ul><li><strong>定义</strong>：每个进程中直接访问临界资源的那段代码，是进程同步的核心控制对象。</li><li><strong>进程访问临界区的标准结构</strong>：为确保互斥，进程访问临界资源需遵循“进入区→临界区→退出区→剩余区”的流程：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">while(TRUE)&#123;<br>    进入区（Entry Section）：检查临界资源是否可用，若不可用则阻塞，避免“忙等”；<br>    临界区（Critical Section）：访问临界资源的核心代码，执行时独占资源；<br>    退出区（Exit Section）：释放临界资源，唤醒等待的进程；<br>    剩余区（Remainder Section）：与临界资源无关的其他代码；<br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>关键问题</strong>：若多个进程并发执行时，临界区代码未加控制，会导致共享资源操作异常（如共享变量计算错误）。</li></ul><h4 id="示例：临界区代码并发执行的问题">示例：临界区代码并发执行的问题</h4><p>以“生产者-消费者”问题中共享变量<code>counter</code>（记录缓冲池产品数量）为例：</p><ul><li>生产者对<code>counter</code>的加1操作（<code>counter++</code>）对应机器指令：<code>register1=counter; register1=register1+1; counter=register1;</code></li><li>消费者对<code>counter</code>的减1操作（<code>counter--</code>）对应机器指令：<code>register2=counter; register2=register2-1; counter=register2;</code></li><li>若二者并发执行，可能出现指令交错（如生产者读取<code>counter=5</code>后，消费者也读取<code>counter=5</code>，最终<code>counter</code>可能被改为4而非5），导致<code>counter</code>值错误，进而引发缓冲池溢出或空取问题。</li></ul><h2 id="三、同步机制的四大规则">三、同步机制的四大规则</h2><p>为确保临界区的安全访问，任何同步机制都需遵循以下4条核心规则，缺一不可：</p><table><thead><tr><th>规则名称</th><th>核心要求</th><th>目的</th></tr></thead><tbody><tr><td><strong>空闲让进</strong></td><td>若临界区无进程执行，需访问临界区的进程应立即进入</td><td>避免资源空闲，提高资源利用率</td></tr><tr><td><strong>忙则等待</strong></td><td>若临界区已有进程执行，其他请求访问的进程必须等待</td><td>保证临界资源的互斥访问，防止冲突</td></tr><tr><td><strong>有限等待</strong></td><td>请求访问临界区的进程需在有限时间内进入，不得“永久等待”</td><td>避免“死等”（饥饿），确保进程公平性</td></tr><tr><td><strong>让权等待</strong></td><td>进程无法进入临界区时，需立即释放CPU（转为阻塞状态），而非“忙等”</td><td>避免CPU资源浪费，提高系统吞吐量</td></tr></tbody></table><h2 id="四、进程同步的实现机制">四、进程同步的实现机制</h2><p>根据实现层面的不同，同步机制分为<strong>硬件同步机制</strong>和<strong>软件同步机制</strong>（信号量、管程），其中硬件机制是基础，软件机制是主流应用方式。</p><h3 id="1-硬件同步机制">1. 硬件同步机制</h3><p>利用硬件指令的原子性（不可中断）实现互斥，无需操作系统内核干预，但存在局限性，适用于简单场景。</p><h4 id="（1）关中断（Disable-Interrupts）">（1）关中断（Disable Interrupts）</h4><ul><li><strong>实现逻辑</strong>：进程进入临界区前关闭CPU中断，执行完临界区代码后再打开中断。关闭中断期间，CPU不响应任何中断请求，不会发生进程切换，确保临界区代码连续执行。</li><li><strong>优点</strong>：实现最简单，无需复杂数据结构。</li><li><strong>缺点</strong>：<ol><li>滥用关中断可能导致系统异常（如忽略硬件故障中断）；</li><li>关中断时间过长会降低CPU利用率，限制并发能力；</li><li>不适用于多CPU系统（一个CPU关中断无法阻止其他CPU访问临界区）。</li></ol></li></ul><h4 id="（2）Test-and-Set（TS）指令">（2）Test-and-Set（TS）指令</h4><ul><li><strong>指令功能</strong>：原子性完成“测试锁状态”和“设置锁为占用”操作，返回锁的原始状态。指令定义如下：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c">boolean <span class="hljs-title function_">TS</span><span class="hljs-params">(boolean *lock)</span>&#123; <br>    boolean old = *lock;  <span class="hljs-comment">// 保存锁的原始状态</span><br>    *lock = <span class="hljs-literal">true</span>;         <span class="hljs-comment">// 将锁设为“占用”</span><br>    <span class="hljs-keyword">return</span> old;           <span class="hljs-comment">// 返回原始状态（true表示锁已占用，false表示空闲）</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>实现互斥的逻辑</strong>：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">do</span>&#123;<br>    <span class="hljs-keyword">while</span>(TS(&amp;lock));  <span class="hljs-comment">// 循环测试锁，直到锁空闲（TS返回false）</span><br>    临界区;             <span class="hljs-comment">// 锁空闲，进入临界区</span><br>    lock = <span class="hljs-literal">false</span>;       <span class="hljs-comment">// 退出临界区，释放锁</span><br>    剩余区;<br>&#125;<span class="hljs-keyword">while</span>(TRUE);<br></code></pre></td></tr></table></figure></li><li><strong>优点</strong>：支持多CPU系统，实现简单。</li><li><strong>缺点</strong>：未遵循“让权等待”规则，进程等待时处于“忙等”状态，浪费CPU资源。</li></ul><h4 id="（3）Swap指令（Exchange指令）">（3）Swap指令（Exchange指令）</h4><ul><li><strong>指令功能</strong>：原子性交换两个变量的值，确保交换过程不被中断。指令定义如下：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">Swap</span><span class="hljs-params">(boolean *a, boolean *b)</span>&#123; <br>    boolean temp = *a;<br>    *a = *b;<br>    *b = temp;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>实现互斥的逻辑</strong>：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">do</span>&#123;<br>    boolean key = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">do</span>&#123;<br>        Swap(&amp;lock, &amp;key);  <span class="hljs-comment">// 交换lock和key的值，测试锁状态</span><br>    &#125;<span class="hljs-keyword">while</span>(key != <span class="hljs-literal">false</span>);   <span class="hljs-comment">// key为false表示锁空闲，退出循环</span><br>    临界区;                 <span class="hljs-comment">// 进入临界区</span><br>    lock = <span class="hljs-literal">false</span>;           <span class="hljs-comment">// 释放锁</span><br>    剩余区;<br>&#125;<span class="hljs-keyword">while</span>(TRUE);<br></code></pre></td></tr></table></figure></li><li><strong>优缺点</strong>：与TS指令类似，支持多CPU但存在“忙等”问题。</li></ul><h3 id="2-信号量机制（软件同步机制）">2. 信号量机制（软件同步机制）</h3><p>1965年由荷兰学者Dijkstra提出，是目前应用最广泛的同步机制之一。信号量是一个抽象数据结构，通过<code>P</code>（<code>wait</code>）、<code>V</code>（<code>signal</code>）两个原子操作控制资源访问，可实现互斥与同步。</p><h4 id="（1）信号量的核心属性">（1）信号量的核心属性</h4><ul><li><strong>本质</strong>：一个记录型数据结构，包含“资源数量”和“等待进程队列”（仅记录型信号量有队列）；</li><li><strong>值的含义</strong>：信号量的值与资源使用状态相关，仅能通过<code>P</code>、<code>V</code>操作修改；</li><li><strong>初始化</strong>：初值需在创建时设置一次，且初值非负（资源数量或同步标记）。</li></ul><h4 id="（2）信号量的分类与实现">（2）信号量的分类与实现</h4><p>根据功能和结构，信号量分为<strong>整型信号量</strong>、<strong>记录型信号量</strong>、<strong>AND型信号量</strong>和<strong>信号量集</strong>，分别适用于不同场景：</p><h5 id="①-整型信号量">① 整型信号量</h5><ul><li><strong>定义</strong>：信号量为整型变量<code>S</code>，仅通过<code>P</code>、<code>V</code>原子操作访问：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// P操作（申请资源）：若资源不足则“忙等”</span><br>wait(S)&#123; <br>    <span class="hljs-keyword">while</span>(S &lt;= <span class="hljs-number">0</span>);  <span class="hljs-comment">// 资源不足时循环等待（忙等）</span><br>    S--;            <span class="hljs-comment">// 申请成功，资源数量减1</span><br>&#125;<br><span class="hljs-comment">// V操作（释放资源）：资源数量加1</span><br>signal(S)&#123; <br>    S++;            <span class="hljs-comment">// 释放资源，资源数量加1</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>优点</strong>：实现简单，适用于单CPU系统。</li><li><strong>缺点</strong>：未遵循“让权等待”规则，进程等待时“忙等”，浪费CPU资源。</li></ul><h5 id="②-记录型信号量（解决“忙等”问题）">② 记录型信号量（解决“忙等”问题）</h5><ul><li><strong>定义</strong>：在整型信号量基础上增加“等待进程队列”，当资源不足时，进程进入队列阻塞（释放CPU），遵循“让权等待”规则。结构定义如下：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span>&#123;</span><br>    <span class="hljs-type">int</span> value;          <span class="hljs-comment">// 资源数量（value&gt;=0：可用资源数；value&lt;0：等待进程数的绝对值）</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">PCB</span> *<span class="hljs-title">list</span>;</span>   <span class="hljs-comment">// 等待该信号量的进程队列（PCB链表）</span><br>&#125;semaphore;<br></code></pre></td></tr></table></figure></li><li><strong>P、V操作实现</strong>：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// P操作（申请资源）</span><br>wait(semaphore *S)&#123; <br>    S-&gt;value--;                <span class="hljs-comment">// 申请资源，资源数减1</span><br>    <span class="hljs-keyword">if</span>(S-&gt;value &lt; <span class="hljs-number">0</span>)&#123;          <span class="hljs-comment">// 资源不足，进程阻塞</span><br>        block(S-&gt;<span class="hljs-built_in">list</span>);        <span class="hljs-comment">// 将当前进程插入等待队列，释放CPU</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">// V操作（释放资源）</span><br>signal(semaphore *S)&#123; <br>    S-&gt;value++;                <span class="hljs-comment">// 释放资源，资源数加1</span><br>    <span class="hljs-keyword">if</span>(S-&gt;value &lt;= <span class="hljs-number">0</span>)&#123;         <span class="hljs-comment">// 存在等待进程</span><br>        wakeup(S-&gt;<span class="hljs-built_in">list</span>);       <span class="hljs-comment">// 唤醒等待队列的队首进程，插入就绪队列</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>核心优势</strong>：无“忙等”，兼顾资源利用率与公平性，是目前主流的信号量形式。</li><li><strong>典型应用</strong>：<ul><li>互斥信号量：初值为1，用于实现临界资源互斥访问（如<code>mutex=1</code>，<code>P(mutex)</code>进入临界区，<code>V(mutex)</code>退出）；</li><li>资源信号量：初值为资源总数（如缓冲池空缓冲区数<code>empty=n</code>），用于同步资源访问；</li><li>同步信号量：初值为0，用于实现进程间前趋关系（如进程A执行完<code>S1</code>后，通过<code>V(S)</code>唤醒进程B执行<code>S2</code>）。</li></ul></li></ul><h5 id="③-AND型信号量（解决多资源申请死锁）">③ AND型信号量（解决多资源申请死锁）</h5><ul><li><strong>背景</strong>：当进程需同时申请多个临界资源（如“哲学家进餐”问题中需同时拿两根筷子）时，若按顺序申请可能导致死锁（如每个哲学家都拿左筷子，再等右筷子）。</li><li><strong>核心思想</strong>：采用“原子操作”一次性申请所有所需资源，要么全部分配，要么一个不分配，避免部分资源占用导致的死锁。</li><li><strong>操作定义</strong>：<ul><li><code>Swait(S1, S2, ..., Sn)</code>：同时申请<code>S1~Sn</code>资源，所有资源可用时才分配；</li><li><code>Ssignal(S1, S2, ..., Sn)</code>：同时释放<code>S1~Sn</code>资源，唤醒等待进程。</li></ul></li><li><strong>示例</strong>：哲学家申请筷子时，通过<code>Swait(chopstick[i], chopstick[(i+1)%5])</code>同时申请左右筷子，避免死锁。</li></ul><h5 id="④-信号量集（批量资源申请）">④ 信号量集（批量资源申请）</h5><ul><li><strong>背景</strong>：记录型信号量每次仅能申请1个资源，若需批量申请（如一次申请3个缓冲区），需多次执行<code>P</code>操作，效率低且可能引发死锁。</li><li><strong>核心思想</strong>：支持一次申请多个资源，并可设置“资源分配下限”（不足下限不分配），操作定义如下：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Swait(S1, t1, d1, ..., Sn, tn, dn)：<br>- 对每个信号量Si，若Si &gt;= ti（ti为分配下限），则分配di个资源（Si = Si - di）；<br>- 否则，进程阻塞。<br>Ssignal(S1, d1, ..., Sn, dn)：<br>- 对每个信号量Si，释放di个资源（Si = Si + di），唤醒等待进程。<br></code></pre></td></tr></table></figure></li><li><strong>特殊场景</strong>：<ul><li><code>Swait(S, d, d)</code>：一次申请d个资源，不足d个则等待；</li><li><code>Swait(S, 1, 1)</code>：等同于记录型信号量（互斥或单个资源申请）；</li><li><code>Swait(S, 1, 0)</code>：仅测试资源状态（S&gt;=1时允许进入，S=0时禁止），可作为“可控开关”。</li></ul></li></ul><h4 id="（3）信号量的典型应用">（3）信号量的典型应用</h4><p>信号量可灵活实现<strong>进程互斥</strong>、<strong>进程同步（前趋关系）</strong> 和<strong>复杂协作场景</strong>，以下为常见应用案例：</p><h5 id="①-实现进程互斥">① 实现进程互斥</h5><ul><li><strong>逻辑</strong>：为临界资源设置互斥信号量<code>mutex</code>（初值1），进程进入临界区前执行<code>P(mutex)</code>（申请资源），退出时执行<code>V(mutex)</code>（释放资源）。</li><li><strong>示例</strong>：两个进程PA、PB互斥访问打印机：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c">semaphore mutex = <span class="hljs-number">1</span>;  <span class="hljs-comment">// 互斥信号量，初值1</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">PA</span><span class="hljs-params">()</span>&#123; <br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>        P(mutex);    <span class="hljs-comment">// 申请打印机</span><br>        临界区（使用打印机）;<br>        V(mutex);    <span class="hljs-comment">// 释放打印机</span><br>        剩余区;<br>    &#125;<br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">PB</span><span class="hljs-params">()</span>&#123; <br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>        P(mutex);    <span class="hljs-comment">// 申请打印机</span><br>        临界区（使用打印机）;<br>        V(mutex);    <span class="hljs-comment">// 释放打印机</span><br>        剩余区;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><strong>注意</strong>：<code>P</code>、<code>V</code>操作必须成对出现，缺<code>P</code>会导致互斥失效，缺<code>V</code>会导致资源永久占用。</li></ul><h5 id="②-实现进程前趋关系">② 实现进程前趋关系</h5><ul><li><strong>逻辑</strong>：为每个前趋关系设置同步信号量（初值0），前趋操作执行完后<code>V</code>操作（唤醒后续进程），后续操作执行前<code>P</code>操作（等待前趋完成）。</li><li><strong>示例</strong>：进程P1的S1执行后，P2的S2和P3的S3才能执行：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c">semaphore a = <span class="hljs-number">0</span>, b = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 同步信号量，初值0</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">P1</span><span class="hljs-params">()</span>&#123; <br>    S1; <br>    V(a);  <span class="hljs-comment">// S1完成，唤醒P2</span><br>    V(b);  <span class="hljs-comment">// S1完成，唤醒P3</span><br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">P2</span><span class="hljs-params">()</span>&#123; <br>    P(a);  <span class="hljs-comment">// 等待S1完成</span><br>    S2; <br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">P3</span><span class="hljs-params">()</span>&#123; <br>    P(b);  <span class="hljs-comment">// 等待S1完成</span><br>    S3; <br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h5 id="③-案例1：过独木桥问题">③ 案例1：过独木桥问题</h5><ul><li><strong>需求</strong>：同一方向行人可连续过桥，反向行人需等待当前方向无人后才能过桥。</li><li><strong>实现</strong>：设置互斥信号量<code>mutex</code>（控制桥的独占）、方向计数信号量<code>leftm</code>/<code>rightm</code>（保护方向计数器），通过计数器判断是否需申请桥资源：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c">semaphore mutex = <span class="hljs-number">1</span>, leftm = <span class="hljs-number">1</span>, rightm = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> countleft = <span class="hljs-number">0</span>, countright = <span class="hljs-number">0</span>;  <span class="hljs-comment">// 左右方向过桥人数</span><br><span class="hljs-comment">// 左→右过桥</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">leftToRight</span><span class="hljs-params">()</span>&#123; <br>    P(leftm);                <span class="hljs-comment">// 保护countleft</span><br>    <span class="hljs-keyword">if</span>(countleft == <span class="hljs-number">0</span>)       <span class="hljs-comment">// 第一个左→右行人，申请桥</span><br>        P(mutex);<br>    countleft++;             <span class="hljs-comment">// 左→右人数加1</span><br>    V(leftm);                <span class="hljs-comment">// 释放countleft</span><br>    <br>    过桥;                    <span class="hljs-comment">// 临界区</span><br>    <br>    P(leftm);                <span class="hljs-comment">// 保护countleft</span><br>    countleft--;             <span class="hljs-comment">// 左→右人数减1</span><br>    <span class="hljs-keyword">if</span>(countleft == <span class="hljs-number">0</span>)       <span class="hljs-comment">// 最后一个左→右行人，释放桥</span><br>        V(mutex);<br>    V(leftm);                <span class="hljs-comment">// 释放countleft</span><br>&#125;<br><span class="hljs-comment">// 右→左过桥逻辑类似，操作countright和rightm</span><br></code></pre></td></tr></table></figure></li></ul><h5 id="④-案例2：父子四人水果问题">④ 案例2：父子四人水果问题</h5><ul><li><strong>需求</strong>：父亲放苹果、母亲放桔子，儿子吃桔子、女儿吃苹果，盘子仅能放1个水果。</li><li><strong>实现</strong>：设置信号量<code>empty</code>（盘子空，初值1）、<code>apple</code>（苹果数量，初值0）、<code>orange</code>（桔子数量，初值0）、<code>mutex</code>（保护盘子操作）：<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c">semaphore mutex = <span class="hljs-number">1</span>, apple = <span class="hljs-number">0</span>, orange = <span class="hljs-number">0</span>, empty = <span class="hljs-number">1</span>;<br><span class="hljs-comment">// 父亲放苹果</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">father</span><span class="hljs-params">()</span>&#123; <br>    P(empty);    <span class="hljs-comment">// 申请空盘子</span><br>    P(mutex);    <span class="hljs-comment">// 保护盘子操作</span><br>    放苹果;<br>    V(mutex);    <span class="hljs-comment">// 释放盘子</span><br>    V(apple);    <span class="hljs-comment">// 通知女儿有苹果</span><br>&#125;<br><span class="hljs-comment">// 母亲放桔子（类似父亲，操作empty和orange）</span><br><span class="hljs-comment">// 女儿吃苹果（P(apple)申请苹果，V(empty)释放盘子）</span><br><span class="hljs-comment">// 儿子吃桔子（类似女儿，操作orange和empty）</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="3-管程机制（封装式同步机制）">3. 管程机制（封装式同步机制）</h3><p>信号量机制需在每个进程中手动编写<code>P</code>、<code>V</code>操作，同步逻辑分散且易出错（如<code>P</code>、<code>V</code>顺序颠倒）。管程机制通过“封装共享资源和操作”，实现同步逻辑的集中管理，确保每次仅一个进程进入管程，简化同步实现。</p><h4 id="（1）管程的定义与结构">（1）管程的定义与结构</h4><ul><li><strong>定义</strong>：管程是一个抽象数据类型，包含“共享数据结构”、“操作共享数据的过程”、“条件变量”和“初始化代码”，进程需通过管程提供的过程访问共享资源。</li><li><strong>核心特性</strong>：<strong>互斥性</strong>——管程确保每次仅一个进程执行其内部过程，无需进程手动实现互斥；<strong>同步性</strong>——通过条件变量实现进程间的协作等待与唤醒。</li><li><strong>结构组成</strong>：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Monitor 管程名&#123;<br>    共享变量声明;          // 管程管理的共享资源（如缓冲池、计数器）<br>    条件变量声明;          // 用于进程同步的条件变量（如notfull、notempty）<br>public:<br>    过程1(参数)&#123; ... &#125;     // 访问共享资源的过程（如put、get）<br>    过程2(参数)&#123; ... &#125;     // 访问共享资源的过程<br>    ...<br>    初始化代码;            // 初始化共享变量和条件变量<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="（2）条件变量（管程中的同步工具）">（2）条件变量（管程中的同步工具）</h4><p>管程通过条件变量实现进程间的同步等待与唤醒，条件变量仅能在管程内部使用，提供<code>wait</code>和<code>signal</code>两个操作：</p><ul><li><strong>条件变量的作用</strong>：当进程通过管程申请资源失败时，通过<code>wait</code>进入条件队列阻塞（释放管程）；当资源可用时，其他进程通过<code>signal</code>唤醒阻塞进程。</li><li><strong>核心操作</strong>：<ul><li><code>x.wait()</code>：当前进程因<code>x</code>条件阻塞，插入<code>x</code>的等待队列，释放管程，允许其他进程进入；</li><li><code>x.signal()</code>：当前进程触发<code>x</code>条件，唤醒<code>x</code>等待队列的一个进程（若队列非空）；若唤醒后存在进程竞争，需按规则处理（如唤醒进程优先执行或当前进程继续执行）。</li></ul></li></ul><h4 id="（3）管程的优势">（3）管程的优势</h4><ul><li><strong>封装性</strong>：同步逻辑集中在管程内部，进程无需关注细节，降低编程复杂度；</li><li><strong>安全性</strong>：管程自动实现互斥，避免<code>P</code>、<code>V</code>操作遗漏或顺序错误导致的同步问题；</li><li><strong>可维护性</strong>：同步逻辑修改仅需调整管程内部，无需修改所有相关进程。</li></ul><h2 id="五、核心总结">五、核心总结</h2><p>进程同步的本质是解决“并发导致的资源争夺与协作混乱”，其核心逻辑可归纳为：</p><ol><li><strong>识别临界资源与临界区</strong>：明确需互斥访问的资源及对应代码段，是同步设计的基础；</li><li><strong>选择合适的同步机制</strong>：硬件机制适用于简单场景，信号量机制灵活通用（互斥、同步、多资源），管程机制适用于复杂共享资源管理；</li><li><strong>遵循同步规则</strong>：确保同步机制满足“空闲让进、忙则等待、有限等待、让权等待”，兼顾效率与公平性；</li><li><strong>典型应用场景</strong>：通过信号量或管程可解决“互斥访问”“前趋关系”“多资源协作”等问题，需结合具体需求设计同步逻辑（如“生产者-消费者”“哲学家进餐”等经典问题）。</li></ol>]]></content>
    
    
    <categories>
      
      <category>操作系统</category>
      
    </categories>
    
    
    <tags>
      
      <tag>操作系统</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>进程控制</title>
    <link href="/2025/10/16/%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6/"/>
    <url>/2025/10/16/%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6/</url>
    
    <content type="html"><![CDATA[<p>进程控制是操作系统中进程管理的核心功能，负责进程从创建到终止的全生命周期管理，以及运行过程中的状态转换。其本质是通过操作系统内核中的<strong>原语</strong>（执行原子操作的程序段）实现，确保操作的完整性和不可中断性，避免并发环境下的执行混乱。</p><h2 id="一、进程控制的核心基础：原语">一、进程控制的核心基础：原语</h2><h3 id="1-原语的定义与特性">1. 原语的定义与特性</h3><ul><li><strong>定义</strong>：原语是操作系统内核中执行特定功能的程序段，运行在系统态，用于完成进程控制中的关键操作（如创建、终止进程）。</li><li><strong>核心特性</strong>：执行<strong>原子操作</strong>——要么完整执行，要么完全不执行，中途不允许被中断（如CPU调度、中断处理），确保进程状态转换和资源操作的一致性。</li></ul><h2 id="二、进程的创建">二、进程的创建</h2><p>进程创建是从“无进程实体”到“可调度就绪进程”的过程，遵循层次化管理逻辑，由父进程创建子进程，形成进程家族树。</p><h3 id="1-进程的层次结构">1. 进程的层次结构</h3><ul><li><strong>父子进程关系</strong>：创建进程的为<strong>父进程</strong>，被创建的为<strong>子进程</strong>；子进程可进一步创建孙进程，形成树状层次结构（进程图）。</li><li><strong>资源继承规则</strong>：子进程默认继承父进程的部分资源（如内存空间、打开的文件、信号量），子进程终止后需将资源归还给父进程；若父进程终止，其所有子孙进程必须同时被终止，避免“孤儿进程”。</li></ul><h3 id="2-引起进程创建的典型事件">2. 引起进程创建的典型事件</h3><p>进程创建由系统或用户触发，具体场景分为四类：</p><table><thead><tr><th>触发事件</th><th>适用系统</th><th>创建主体</th><th>示例</th></tr></thead><tbody><tr><td>用户登录</td><td>分时系统（如Linux终端登录）</td><td>操作系统内核</td><td>用户输入账号密码登录后，系统为其创建Shell进程</td></tr><tr><td>作业调度</td><td>批处理系统</td><td>操作系统内核</td><td>作业调度程序从后备队列中选择作业，为其创建进程并分配资源</td></tr><tr><td>提供服务</td><td>通用OS</td><td>操作系统内核</td><td>用户请求打印服务时，系统创建打印进程处理任务</td></tr><tr><td>应用请求</td><td>多进程应用</td><td>用户进程（父进程）</td><td>浏览器进程为新标签页创建子进程，实现多标签并发</td></tr></tbody></table><h3 id="3-进程创建的步骤（创建原语Creat执行流程）">3. 进程创建的步骤（创建原语<code>Creat</code>执行流程）</h3><ol><li><strong>申请空白PCB</strong>：为新进程分配唯一的内部标识符（如进程ID），并从系统PCB集合中获取一个空白PCB（进程存在的唯一标志）。</li><li><strong>分配资源</strong>：为新进程分配运行所需的资源，包括物理资源（内存块、I/O设备）和逻辑资源（文件句柄、信号量）；若资源不足，进程可能暂存于“创建状态”，等待资源释放。</li><li><strong>初始化PCB</strong>：填写PCB中的关键信息，包括：<ul><li>进程标识符（内部ID、外部名称）；</li><li>处理机状态（初始化通用寄存器、程序计数器PC指向进程入口地址）；</li><li>进程调度信息（初始状态设为“就绪”、默认优先级）；</li><li>资源清单（记录已分配的资源地址）。</li></ul></li><li><strong>插入就绪队列</strong>：若就绪队列未满，将新进程的PCB插入就绪队列，等待CPU调度。</li></ol><h2 id="三、进程的终止">三、进程的终止</h2><p>进程终止是从“运行/阻塞/就绪状态”到“释放所有资源并消亡”的过程，需处理资源回收和子进程清理。</p><h3 id="1-引起进程终止的典型事件">1. 引起进程终止的典型事件</h3><p>进程终止分为正常结束、异常结束和外界干预三类：</p><table><thead><tr><th>终止类型</th><th>具体场景</th><th>示例</th></tr></thead><tbody><tr><td>正常结束</td><td>进程完成预定任务</td><td>计算进程完成数据运算后主动终止</td></tr><tr><td>异常结束</td><td>进程运行中出现不可恢复错误</td><td>越界访问内存（越界错）、执行非法指令、I/O设备故障</td></tr><tr><td>外界干预</td><td>外部请求强制终止进程</td><td>操作员通过命令杀死进程（如<code>kill</code>命令）、父进程请求终止子进程、父进程自身终止</td></tr></tbody></table><h3 id="2-进程终止的步骤（终止原语执行流程）">2. 进程终止的步骤（终止原语执行流程）</h3><ol><li><strong>定位PCB</strong>：根据被终止进程的标识符（如PID），从系统PCB集合中检索其PCB，获取进程当前状态（执行/就绪/阻塞）。</li><li><strong>终止执行（若需）</strong>：若进程正处于“执行状态”，立即终止其CPU执行，设置“调度标志”为真，通知调度程序重新选择就绪进程。</li><li><strong>清理子孙进程</strong>：若该进程有子孙进程，需递归终止所有子孙进程，避免其成为无管理的“孤儿进程”。</li><li><strong>回收资源</strong>：将进程占用的所有资源归还给父进程（继承的资源）或系统（全局资源，如内存、I/O设备）。</li><li><strong>移除PCB</strong>：将被终止进程的PCB从所在队列（就绪队列/阻塞队列）中移出，清空PCB内容并释放PCB空间给系统。</li></ol><h2 id="四、进程的阻塞与唤醒">四、进程的阻塞与唤醒</h2><p>阻塞与唤醒是进程“主动暂停”与“被动恢复”的一对操作，针对进程等待某事件（如I/O完成、资源可用）的场景，需配合执行以避免“永久阻塞”。</p><h3 id="1-引起阻塞-唤醒的典型事件">1. 引起阻塞/唤醒的典型事件</h3><p>进程因等待特定事件而阻塞，事件完成后被唤醒，具体场景包括：</p><ul><li>向系统请求共享资源失败（如申请打印机时，打印机正被占用）；</li><li>等待某操作完成（如进程发起磁盘读操作后，等待I/O完成）；</li><li>等待新数据到达（如网络进程等待客户端发送的数据包）；</li><li>等待新任务分配（如服务器进程等待用户请求）。</li></ul><h3 id="2-进程阻塞过程（阻塞原语block执行流程）">2. 进程阻塞过程（阻塞原语<code>block</code>执行流程）</h3><p>阻塞是进程的<strong>主动行为</strong>（进程自身因等待事件而放弃CPU），步骤如下：</p><ol><li><strong>暂停执行</strong>：若进程当前处于“执行状态”，立即停止其CPU执行，保存处理机上下文（通用寄存器、PC、PSW）到PCB。</li><li><strong>修改状态</strong>：将PCB中的进程状态从“执行”改为“阻塞”，并记录阻塞原因（如“等待I/O”）。</li><li><strong>插入阻塞队列</strong>：根据阻塞原因，将PCB插入对应事件的阻塞队列（如I/O阻塞队列、资源阻塞队列）；若系统仅设一个通用阻塞队列，则直接插入队尾。</li><li><strong>重新调度</strong>：触发CPU调度程序，从就绪队列中选择新进程分配CPU，切换处理机上下文（加载新进程的PCB信息）。</li></ol><h3 id="3-进程唤醒过程（唤醒原语wakeup执行流程）">3. 进程唤醒过程（唤醒原语<code>wakeup</code>执行流程）</h3><p>唤醒是进程的<strong>被动行为</strong>（由其他进程或系统触发），步骤如下：</p><ol><li><strong>移出阻塞队列</strong>：当阻塞进程等待的事件发生（如I/O完成），由触发事件的进程（如I/O进程）调用唤醒原语，将该进程的PCB从对应阻塞队列中移出。</li><li><strong>修改状态</strong>：将PCB中的进程状态从“阻塞”改为“就绪”。</li><li><strong>插入就绪队列</strong>：将PCB插入就绪队列，等待CPU调度；若系统采用优先级调度，按进程优先级插入对应位置。</li></ol><h3 id="4-关键约束">4. 关键约束</h3><p>阻塞与唤醒必须<strong>成对出现</strong>：若某进程调用阻塞原语，必须在另一进程（或系统）中安排唤醒原语；否则阻塞进程会因无人唤醒而永久处于“阻塞状态”，浪费系统资源。</p><h2 id="五、进程的挂起与激活">五、进程的挂起与激活</h2><p>挂起与激活是进程“静止”与“活动”的切换，用于满足用户调试、系统负荷调节等需求，使进程暂时脱离调度队列。</p><h3 id="1-引入挂起状态的原因">1. 引入挂起状态的原因</h3><p>挂起操作将进程从“可调度状态”转为“静止状态”，核心目的包括：</p><ul><li><strong>终端用户需求</strong>：用户调试程序时，暂停进程运行以查看中间结果；</li><li><strong>父进程请求</strong>：父进程暂停子进程，避免其干扰其他进程（如子进程异常时挂起排查）；</li><li><strong>负荷调节</strong>：系统负载过高（如CPU利用率达100%）时，挂起部分非关键进程，释放资源；</li><li><strong>操作系统需求</strong>：系统进行内存对换时，将暂时不用的进程挂起并换出到外存，释放内存空间。</li></ul><h3 id="2-进程的挂起（挂起原语Suspend执行流程）">2. 进程的挂起（挂起原语<code>Suspend</code>执行流程）</h3><p>挂起的核心是改变进程的“活动/静止”属性，不释放进程已占用的资源，步骤如下：</p><ol><li><strong>检查进程状态</strong>：<ul><li>若进程处于“活动就绪”状态，将其改为“静止就绪”（暂不参与CPU调度）；</li><li>若进程处于“活动阻塞”状态，将其改为“静止阻塞”（即使等待事件发生，仍需激活后才能就绪）；</li><li>若进程处于“执行状态”，立即暂停其CPU执行，改为“静止就绪”，并触发重新调度。</li></ul></li></ol><h3 id="3-进程的激活（激活原语Active执行流程）">3. 进程的激活（激活原语<code>Active</code>执行流程）</h3><p>激活是挂起的逆操作，将进程从外存或静止队列恢复为可调度状态，步骤如下：</p><ol><li><strong>资源恢复（若需）</strong>：若进程被挂起时换出到外存，先将其代码和数据调入内存。</li><li><strong>检查进程状态</strong>：<ul><li>若进程处于“静止就绪”状态，将其改为“活动就绪”，插入就绪队列；</li><li>若进程处于“静止阻塞”状态，将其改为“活动阻塞”，插入对应阻塞队列（等待事件发生后可转为就绪）。</li></ul></li></ol><h2 id="六、核心总结：进程控制的本质与关键逻辑">六、核心总结：进程控制的本质与关键逻辑</h2><ol><li><strong>生命周期闭环</strong>：进程控制覆盖“创建→就绪→执行→阻塞→唤醒→终止”全流程，通过原语确保每个环节的原子性和一致性。</li><li><strong>状态转换核心</strong>：所有控制操作围绕“进程状态变更”展开，核心状态转换路径为：<br><code>创建→就绪→执行→（时间片完→就绪）/（等待事件→阻塞→唤醒→就绪）→终止</code></li><li><strong>资源与调度分离</strong>：进程创建/终止负责“资源分配与回收”，阻塞/唤醒、挂起/激活负责“调度资格管理”，二者配合实现高效的多进程并发。</li></ol>]]></content>
    
    
    <categories>
      
      <category>操作系统</category>
      
    </categories>
    
    
    <tags>
      
      <tag>操作系统</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>进程的描述</title>
    <link href="/2025/10/16/%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0/"/>
    <url>/2025/10/16/%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="一、进程的核心定位与实体构成">一、进程的核心定位与实体构成</h2><h3 id="1-进程的核心作用">1. 进程的核心作用</h3><p>在多道程序批处理系统和分时系统中，<strong>程序无法独立运行</strong>，进程是OS中<strong>资源分配和独立运行的基本单位</strong>。操作系统的并发、共享、虚拟、异步四大基本特征，均基于进程实现。</p><h3 id="2-进程实体的组成">2. 进程实体的组成</h3><p>进程实体（进程映像）由三部分构成，缺一不可：</p><ul><li><strong>程序段</strong>：存放进程执行的指令序列，是进程运行的“逻辑依据”。</li><li><strong>相关数据段</strong>：存放进程运行所需的数据（如变量、常量、输入输出数据等），是程序段操作的对象。</li><li><strong>进程控制块（PCB）</strong>：OS用于管理和控制进程的核心数据结构，是进程存在的唯一标志，后续章节将详细展开。</li></ul><h2 id="二、进程与程序的核心区别">二、进程与程序的核心区别</h2><p>进程与程序是OS中的两个关键概念，二者差异显著，具体对比如下：</p><table><thead><tr><th>对比维度</th><th>进程</th><th>程序</th></tr></thead><tbody><tr><td>存在形态</td><td>动态实体</td><td>静态实体</td></tr><tr><td>生命周期</td><td>暂时的（从创建到撤销，有明确生命周期）</td><td>永久的（以文件形式存储在磁盘，无生命周期限制）</td></tr><tr><td>数据结构</td><td>拥有独立的PCB，记录进程状态、资源等信息</td><td>无专用数据结构，仅为指令和数据的有序集合</td></tr><tr><td>运行方式</td><td>可独立调度、抢占CPU运行</td><td>无法独立运行，需依托进程实体</td></tr><tr><td>资源占用</td><td>运行时占用系统资源（如内存、CPU、I/O设备）</td><td>存储时仅占用磁盘空间，不占用运行资源</td></tr></tbody></table><h2 id="三、进程的定义与核心特征">三、进程的定义与核心特征</h2><h3 id="1-进程的典型定义">1. 进程的典型定义</h3><p>从不同角度出发，进程有多种权威定义，核心围绕“动态运行”和“独立单位”两大核心：</p><ol><li>进程是<strong>程序的一次执行过程</strong>（强调动态性）；</li><li>进程是<strong>程序及其数据在处理机上顺序执行时的活动</strong>（强调执行场景）；</li><li>进程是<strong>具有独立功能的程序在数据集合上的运行过程，是系统资源分配和调度的独立单位</strong>（强调资源与调度属性）；</li><li>结合进程实体概念，传统OS中进程定义为：<strong>进程是进程实体的运行过程，是系统资源分配和调度的独立单位</strong>（最全面的定义）。</li></ol><h3 id="2-进程的四大核心特征">2. 进程的四大核心特征</h3><p>进程的特征是其与程序、线程的关键区分点，其中动态性是最根本特征：</p><ul><li><strong>动态性</strong>：进程最基本的特征。进程由“创建”产生，经“调度”执行，因“资源不足”暂停，最终由“撤销”消亡，整个生命周期有明确的状态变化。</li><li><strong>并发性</strong>：多个进程可在同一时间段内交替执行（宏观并发、微观交替）。需注意：<strong>未建立PCB的程序无法并发执行</strong>，只有进程具备并发能力。</li><li><strong>独立性</strong>：进程是能独立运行、独立获取资源（如内存、I/O）、独立接受调度的基本单位。非进程形态的程序（如无PCB的代码）无法独立参与系统运行。</li><li><strong>异步性</strong>：进程按“各自独立、不可预知的速度”向前推进。即使初始条件相同，因调度时机、资源竞争等差异，进程完成时间也可能不同，需同步机制保证结果可再现。</li></ul><h2 id="四、进程的状态及转换">四、进程的状态及转换</h2><p>进程在生命周期中会因资源获取、事件触发等发生状态变化，核心状态分为“基本三状态”“扩展五状态”（含创建、终止）及“挂起状态”（含静止/活动子状态）。</p><h3 id="1-三大基本状态（核心状态）">1. 三大基本状态（核心状态）</h3><table><thead><tr><th>状态名称</th><th>定义</th><th>典型触发场景</th></tr></thead><tbody><tr><td><strong>就绪（Ready）状态</strong></td><td>进程已获得除CPU外的所有资源，只要分配到CPU即可立即执行</td><td>进程创建完成、I/O操作完成、时间片用完后重新进入就绪队列</td></tr><tr><td><strong>执行（Running）状态</strong></td><td>进程已获得CPU，正在执行指令</td><td>进程调度器选中某就绪进程，将CPU分配给它</td></tr><tr><td><strong>阻塞（Block）状态</strong></td><td>进程因等待某事件（如I/O完成、资源申请失败）暂时无法执行，即使有CPU也不能运行</td><td>进程发起I/O请求、申请共享资源失败、等待其他进程的信号</td></tr></tbody></table><h4 id="三大基本状态的转换逻辑">三大基本状态的转换逻辑</h4><ol><li>就绪 → 执行：进程调度器从就绪队列中选中一个进程，分配CPU；</li><li>执行 → 就绪：进程时间片用完，或有更高优先级进程进入就绪队列，当前进程释放CPU；</li><li>执行 → 阻塞：进程主动请求某事件（如I/O），或申请资源失败，主动放弃CPU；</li><li>阻塞 → 就绪：进程等待的事件发生（如I/O完成、资源可用），由OS唤醒后进入就绪队列。</li></ol><h3 id="2-扩展状态：创建状态与终止状态">2. 扩展状态：创建状态与终止状态</h3><p>为完整描述进程生命周期，在基本三状态基础上增加“创建”和“终止”状态：</p><ul><li><strong>创建状态</strong>：进程正在被OS创建的过程，尚未进入就绪状态。<ul><li>流程：申请空白PCB → 填写PCB信息（如进程标识、资源需求）→ 分配必要资源（如内存）→ 转入就绪状态；</li></ul></li><li><strong>终止状态</strong>：进程完成任务或因异常（如越界错、I/O故障）终止，等待OS善后处理的状态。<ul><li>流程：OS回收进程占用的资源（如内存、I/O设备）→ 清空PCB内容 → 释放PCB空间给系统。</li></ul></li></ul><h4 id="扩展后的状态转换（五状态）">扩展后的状态转换（五状态）</h4><ul><li>NULL（无状态）→ 创建：用户或系统发起进程创建请求；</li><li>创建 → 就绪：进程创建完成，资源分配到位；</li><li>执行 → 终止：进程正常完成或异常终止；</li><li>终止 → NULL：OS完成善后处理，PCB释放。</li></ul><h3 id="3-挂起状态与状态细分">3. 挂起状态与状态细分</h3><h4 id="引入挂起状态的原因">引入挂起状态的原因</h4><p>为满足系统和用户的特殊需求，引入“挂起（Suspend）”操作，使进程进入“静止状态”，对应的激活操作（Active）使进程恢复“活动状态”。引入原因包括：</p><ol><li>终端用户需求：用户暂停自己的进程（如调试程序时暂停运行）；</li><li>父进程请求：父进程暂停子进程，避免其干扰其他进程；</li><li>负荷调节需求：系统负载过高时，挂起部分进程释放资源；</li><li>操作系统需求：OS为进行资源整理（如内存对换），暂时挂起进程。</li></ol><h4 id="挂起后的状态细分与转换">挂起后的状态细分与转换</h4><p>挂起操作会将进程的“活动状态”转为“静止状态”，具体转换如下：</p><ol><li>活动就绪 → 静止就绪：挂起就绪状态的进程，暂不参与CPU调度；</li><li>活动阻塞 → 静止阻塞：挂起阻塞状态的进程，即使等待的事件发生，也需先激活才能进入活动阻塞；</li><li>静止就绪 → 活动就绪：激活静止就绪的进程，重新加入就绪队列，参与调度；</li><li>静止阻塞 → 活动阻塞：激活静止阻塞的进程，若后续等待事件发生，可直接转入活动就绪。</li></ol><h4 id="挂起状态的核心性质">挂起状态的核心性质</h4><p>处于挂起状态的进程，无论原状态是就绪还是阻塞，均<strong>无法接收CPU调度</strong>，必须经激活操作转为活动状态后，才能参与正常的状态转换。</p><h2 id="五、进程管理的数据结构">五、进程管理的数据结构</h2><p>OS通过专门的数据结构管理进程和资源，核心包括“进程控制块（PCB）”及PCB的组织方式。</p><h3 id="1-进程控制块（PCB）的核心作用">1. 进程控制块（PCB）的核心作用</h3><p>PCB是OS中最重要的记录型数据结构，是<strong>进程存在的唯一标志</strong>（OS通过PCB感知进程，无PCB则进程不存在），具体作用包括：</p><ol><li><strong>独立运行的标志</strong>：PCB记录进程的唯一标识和运行状态，OS通过PCB识别进程并调度；</li><li><strong>实现间断性运行</strong>：进程因I/O等事件暂停时，PCB保存其处理机上下文（如寄存器值、程序计数器），恢复时可从断点继续执行；</li><li><strong>提供进程管理信息</strong>：记录进程的程序/数据地址、资源清单（如占用的内存、I/O设备），供OS管理资源；</li><li><strong>提供进程调度信息</strong>：记录进程优先级、等待CPU时间、阻塞原因等，供调度器选择下一个执行进程；</li><li><strong>实现同步与通信</strong>：记录进程的同步信号量、消息队列指针等，支持进程间的协作与信息交换。</li></ol><h3 id="2-PCB中的关键信息">2. PCB中的关键信息</h3><p>PCB记录OS管理进程所需的全部信息，按功能可分为四类：</p><h4 id="（1）进程标识符（唯一标识进程）">（1）进程标识符（唯一标识进程）</h4><ul><li>外部标识符：由字母/数字组成，供用户使用（如“Chrome.exe”），由进程创建者提供；</li><li>内部标识符：系统分配的唯一数字（如进程ID），供OS内部管理（如调度、资源分配）。</li></ul><h4 id="（2）处理机状态（保存进程上下文）">（2）处理机状态（保存进程上下文）</h4><p>又称“处理机上下文”，记录进程暂停时CPU的状态，用于恢复执行：</p><ul><li>通用寄存器：用户可访问的寄存器，暂存运算数据；</li><li>指令计数器（PC）：存放进程下一条要执行的指令地址；</li><li>程序状态字（PSW）：含进程状态（如执行/就绪）、条件码（如运算结果正负）、中断屏蔽标志等；</li><li>用户栈指针：指向进程的用户栈，用于存放函数调用参数和返回地址。</li></ul><h4 id="（3）进程调度信息（供调度器使用）">（3）进程调度信息（供调度器使用）</h4><ul><li>进程状态：就绪/执行/阻塞/静止就绪/静止阻塞等；</li><li>进程优先级：决定进程被调度的优先顺序（优先级高的进程优先获得CPU）；</li><li>调度辅助信息：如等待CPU的总时间、已执行时间，用于调度算法（如时间片轮转、优先级调度）；</li><li>阻塞原因：记录进程阻塞的事件（如等待I/O、等待信号量）。</li></ul><h4 id="（4）进程控制信息（供OS管理进程）">（4）进程控制信息（供OS管理进程）</h4><ul><li>程序和数据地址：指向进程的程序段（如代码在内存的地址）和数据段（如变量存储地址）；</li><li>同步与通信机制：如进程使用的信号量、消息队列指针，支持进程间同步；</li><li>资源清单：记录进程占用的所有资源（除CPU外），如内存块、打开的文件、I/O设备；</li><li>链接指针：指向同一队列中其他进程的PCB地址（如就绪队列中下一进程的PCB指针）。</li></ul><h3 id="3-PCB的组织方式">3. PCB的组织方式</h3><p>OS通过特定方式组织所有进程的PCB，便于快速查找、插入和删除，常见组织方式有三种：</p><h4 id="（1）线性方式">（1）线性方式</h4><ul><li>实现逻辑：将所有PCB存放在一个连续的内存区域（PCB数组）；</li><li>优点：实现简单，查找时无需遍历指针，开销小；</li><li>缺点：遍历效率低（查找某进程需扫描整个数组），不适合进程数量多的系统；</li><li>适用场景：进程数量少的简单OS（如早期单道批处理系统）。</li></ul><h4 id="（2）链接方式">（2）链接方式</h4><ul><li>实现逻辑：按进程状态（如就绪、阻塞）将PCB链接成不同队列（就绪队列、阻塞队列），每个PCB含“下一个PCB指针”；</li><li>优点：按状态分类管理，插入/删除效率高（只需修改指针），适合进程数量多的系统；</li><li>缺点：查找某进程需遍历对应队列，依赖指针完整性；</li><li>典型结构：就绪队列指针指向第一个就绪进程的PCB，每个就绪PCB的指针指向后续就绪进程，队尾PCB指针为NULL。</li></ul><h4 id="（3）索引方式">（3）索引方式</h4><ul><li>实现逻辑：为不同状态的进程建立“索引表”（如就绪索引表、阻塞索引表），索引表的每个条目指向对应状态的PCB；</li><li>优点：查找效率高（先查索引表确定PCB位置，再直接访问），支持快速定位不同状态的进程；</li><li>缺点：需额外存储索引表，占用少量内存；</li><li>适用场景：进程数量多、对查找效率要求高的OS（如现代分时系统）。</li></ul>]]></content>
    
    
    <categories>
      
      <category>操作系统</category>
      
    </categories>
    
    
    <tags>
      
      <tag>操作系统</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前趋图和程序执行</title>
    <link href="/2025/10/16/%E5%89%8D%E8%B6%8B%E5%9B%BE%E5%92%8C%E7%A8%8B%E5%BA%8F%E6%89%A7%E8%A1%8C/"/>
    <url>/2025/10/16/%E5%89%8D%E8%B6%8B%E5%9B%BE%E5%92%8C%E7%A8%8B%E5%BA%8F%E6%89%A7%E8%A1%8C/</url>
    
    <content type="html"><![CDATA[<h2 id="一、前趋图（Precedence-Graph）">一、前趋图（Precedence Graph）</h2><h3 id="1-定义与本质">1. 定义与本质</h3><p>前趋图是一种<strong>有向无循环图（DAG, Directed Acyclic Graph）</strong>，核心作用是描述进程、程序段或语句之间的<strong>执行先后顺序</strong>，清晰呈现“谁必须在谁之前执行”的偏序（Partial Order）或前趋关系。</p><h3 id="2-组成要素">2. 组成要素</h3><ul><li><strong>结点</strong>：可代表一个进程、一个程序段或一条语句，是执行的基本单元。</li><li><strong>有向边</strong>：表示两个结点间的前趋关系，例如若存在边 <code>A→B</code>，则意味着A执行完成后，B才能开始执行。</li></ul><h3 id="3-关键特性">3. 关键特性</h3><ul><li>必须<strong>无循环</strong>：若存在循环（如 <code>A→B→A</code>），会导致执行顺序矛盾，无法正常调度，因此含循环的图（如文档中“具有循环的前趋图”）不具备实际执行意义。</li><li>可直观展示顺序与并发边界：通过边的连接，能快速判断哪些单元必须顺序执行（有直接或间接边连接），哪些可并发执行（无任何边连接）。</li></ul><h2 id="二、程序的顺序执行">二、程序的顺序执行</h2><h3 id="1-定义">1. 定义</h3><p>程序执行时遵循“<strong>严格先后次序</strong>”，即一个应用程序的若干程序段（或一条语句的若干操作）中，仅当前一个程序段（或操作）完全执行完毕，后一个才允许开始。例如文档中：</p><ul><li>程序段的顺序关系：<code>Ii（输入）→ Ci（计算）→ Pi（输出）</code>，输入完成后才能计算，计算完成后才能输出。</li><li>语句的顺序关系：<code>S1: a := x+y → S2: b := a-5 → S3: c := b+1</code>，S1的结果是S2的输入，S2的结果是S3的输入，必须依次执行。</li></ul><h3 id="2-典型执行场景">2. 典型执行场景</h3><p>早期<strong>未配置OS的系统</strong>和<strong>单道批处理系统</strong>中，内存仅装入一道用户程序，该程序独占CPU、内存等所有系统资源，直到执行完成才释放资源，装入下一个程序。</p><h3 id="3-核心特征">3. 核心特征</h3><table><thead><tr><th>特征</th><th>具体说明</th></tr></thead><tbody><tr><td><strong>顺序性</strong></td><td>程序执行路径唯一，每个操作的开始和结束时间完全确定，无“暂停-恢复”的间断。</td></tr><tr><td><strong>封闭性</strong></td><td>程序运行在“独占资源”的封闭环境中，资源状态仅由当前程序修改，不受外界（其他程序）影响。</td></tr><tr><td><strong>可再现性</strong></td><td>只要执行环境（如硬件配置）和初始条件（如输入数据）相同，无论执行多少次，最终结果完全一致。</td></tr></tbody></table><h2 id="三、程序的并发执行">三、程序的并发执行</h2><h3 id="1-定义-2">1. 定义</h3><p>多个程序段（或语句）在<strong>时间上重叠执行</strong>，即一个程序段尚未执行完成，另一个程序段便可开始执行，但前提是二者<strong>不存在前趋关系</strong>（无直接或间接依赖）。例如文档中：</p><ul><li>语句组 <code>S1: a=x+2</code>、<code>S2: b=y+4</code>、<code>S3: c=a+b</code>、<code>S4: d=c+b</code> 中，S1和S2无依赖（分别依赖x、y，互不影响），可并发执行；但S3必须等待S1、S2都完成，S4必须等待S3完成。</li></ul><h3 id="2-典型执行场景-2">2. 典型执行场景</h3><p><strong>多道批处理系统</strong>和<strong>分时系统</strong>中，内存可装入多道程序，OS通过调度让多道程序交替使用CPU，实现并发执行，以提高资源利用率（如CPU不再空闲等待I/O）和系统吞吐量。</p><h3 id="3-核心特征（与顺序执行完全相反）">3. 核心特征（与顺序执行完全相反）</h3><table><thead><tr><th>特征</th><th>具体说明</th><th>示例（文档中N值问题）</th></tr></thead><tbody><tr><td><strong>间断性</strong></td><td>程序执行过程中会因“等待资源”（如等待CPU、等待I/O完成）而频繁“执行-暂停-执行”，执行路径不连续。</td><td>-</td></tr><tr><td><strong>失去封闭性</strong></td><td>多程序共享系统资源（如共享变量、打印机），一个程序对资源状态的修改会影响其他程序的执行，环境不再封闭。</td><td>程序A（<code>N:=N+1</code>）与另两个程序（<code>Print(N)</code>、<code>N:=0</code>）共享变量N，A的执行顺序会改变N的最终值。</td></tr><tr><td><strong>不可再现性</strong></td><td>即使初始条件相同，因并发执行时资源竞争的顺序不同，最终结果可能不一致。</td><td>1. A在<code>Print(N)</code>和<code>N:=0</code>前执行：N值为<code>n+1</code>、<code>n+1</code>、0；<br>2. A在<code>Print(N)</code>和<code>N:=0</code>后执行：N值为<code>n</code>、0、1；<br>3. A在<code>Print(N)</code>和<code>N:=0</code>间执行：N值为<code>n</code>、<code>n+1</code>、0。</td></tr></tbody></table><h2 id="四、核心对比与关键结论">四、核心对比与关键结论</h2><table><thead><tr><th>维度</th><th>程序顺序执行</th><th>程序并发执行</th></tr></thead><tbody><tr><td>执行方式</td><td>单道程序独占资源，严格先后</td><td>多道程序共享资源，时间重叠</td></tr><tr><td>资源利用率</td><td>低（CPU、I/O设备易空闲）</td><td>高（CPU与I/O可并行工作）</td></tr><tr><td>执行稳定性</td><td>稳定（封闭、可再现）</td><td>不稳定（需同步机制协调）</td></tr><tr><td>适用场景</td><td>早期简单系统（无OS、单道批处理）</td><td>现代OS（多道批处理、分时、实时）</td></tr></tbody></table><h3 id="关键结论">关键结论</h3><p>程序并发执行虽能提升系统效率，但会因“失去封闭性和可再现性”导致执行结果不可控，因此必须配置<strong>进程同步机制</strong>（如后续章节的信号量、管程），协调多程序对共享资源的访问，确保执行结果可预期。</p>]]></content>
    
    
    <categories>
      
      <category>操作系统</category>
      
    </categories>
    
    
    <tags>
      
      <tag>操作系统</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>评估方法</title>
    <link href="/2025/10/09/%E8%AF%84%E4%BC%B0%E6%96%B9%E6%B3%95/"/>
    <url>/2025/10/09/%E8%AF%84%E4%BC%B0%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1>机器学习模型评估完整指南</h1><p>在机器学习中，模型评估是验证模型泛化能力、选择最优方案、定位性能缺陷的核心环节。评估方法需结合<strong>任务类型</strong>（分类/回归/聚类）、<strong>数据特性</strong>（是否有标签、数据量大小）和<strong>业务目标</strong>（如侧重精准度或召回率）设计，避免因&quot;过拟合&quot;&quot;数据泄露&quot;导致的虚假高性能。以下从「核心评估框架」「分任务评估指标」「进阶评估策略」三个维度，系统梳理模型评估方法。</p><hr><h2 id="一、核心评估框架：如何划分数据？">一、核心评估框架：如何划分数据？</h2><p>评估的前提是合理分割数据——将数据集分为「训练集」（用于模型学习）、「验证集」（用于调参和中间验证）、「测试集」（用于最终性能评估），避免模型&quot;见过&quot;测试数据导致结果失真。常见的数据划分框架有3种：</p><h3 id="1-简单划分法（Hold-Out）">1. 简单划分法（Hold-Out）</h3><p>最基础的评估框架，适合<strong>数据量较大</strong>（如百万级样本）的场景，操作简单但随机性强。</p><ul><li><p><strong>步骤</strong>：</p><ol><li>将原始数据集按固定比例（如7:1:2）随机划分为训练集、验证集、测试集；</li><li>用训练集训练模型，用验证集调整超参数（如学习率、树深度）；</li><li>最终用<strong>未接触过的测试集</strong>评估模型泛化能力。</li></ol></li><li><p><strong>优点</strong>：计算速度快，适合快速迭代验证。</p></li><li><p><strong>缺点</strong>：划分结果受随机种子影响大（若测试集恰好是&quot;易预测样本&quot;，结果会偏高）；数据量较小时，验证集/测试集样本量不足，评估不稳定。</p></li><li><p><strong>优化建议</strong>：固定随机种子，多次划分取平均；若数据量极小（如&lt;1000样本），不建议使用。</p></li></ul><h3 id="2-交叉验证法（Cross-Validation-CV）">2. 交叉验证法（Cross-Validation, CV）</h3><p>解决简单划分法的随机性问题，适合<strong>数据量中等</strong>（如万级样本）的场景，是学术研究和工业界调参的主流方法。</p><ul><li><p><strong>核心逻辑</strong>：将数据集分为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 个大小相近的子集（称为&quot;折&quot;，Fold），轮流用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">K-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 个折做训练集，1个折做验证集，重复 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 次后取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 次验证结果的平均值。</p></li><li><p><strong>常见类型</strong>：</p><ul><li><p><strong>K折交叉验证（K-Fold CV）</strong>：最通用，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 通常取5或10（兼顾计算量和稳定性）。例如10-Fold CV：将数据分为10份，每次用9份训练、1份验证，共10轮，最终取10次指标的均值。</p></li><li><p><strong>分层K折（Stratified K-Fold）</strong>：针对<strong>分类任务</strong>，确保每折中各类别样本的比例与原始数据集一致（避免某一折中&quot;正样本&quot;极少导致评估偏差）。例如二分类数据中正负样本比例为1:9，分层后每折的比例仍为1:9。</p></li><li><p><strong>留一交叉验证（Leave-One-Out, LOOCV）</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> 等于样本总数（即每次留1个样本做验证），适合<strong>数据量极小</strong>（如&lt;100样本）的场景。优点是评估最稳定，缺点是计算量极大（需训练 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 次模型）。</p></li></ul></li><li><p><strong>注意</strong>：交叉验证仅用于&quot;训练-验证&quot;阶段，最终仍需独立的测试集验证泛化能力，避免&quot;测试集泄露&quot;（如用测试集参与交叉验证划分）。</p></li></ul><h3 id="3-自助法（Bootstrap）">3. 自助法（Bootstrap）</h3><p>适合<strong>数据量极小</strong>（如&lt;50样本）且不希望浪费数据的场景，核心是通过&quot;有放回抽样&quot;生成多个训练集。</p><ul><li><p><strong>步骤</strong>：</p><ol><li>从原始数据集（共 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 个样本）中<strong>有放回地随机抽取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 个样本</strong>，组成1个训练集（部分样本会被重复抽取，部分样本未被抽取）；</li><li>未被抽取的样本（约占37%，称为&quot;Out-of-Bag样本&quot;）作为验证集；</li><li>重复上述过程 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> 次（如1000次），得到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> 个验证结果，取平均值作为最终评估指标。</li></ol></li><li><p><strong>优点</strong>：充分利用有限数据，无需额外划分测试集（Out-of-Bag样本可替代测试集）。</p></li><li><p><strong>缺点</strong>：抽样过程会改变数据分布，对依赖数据分布的模型（如线性回归）评估偏差较大，更适合树模型等对分布不敏感的模型。</p></li></ul><hr><h2 id="二、分任务评估指标：分类、回归、聚类各不同">二、分任务评估指标：分类、回归、聚类各不同</h2><p>不同任务的目标不同，评估指标也需针对性选择。以下是三大核心任务的常用指标（重点标注工业界高频指标）。</p><h3 id="1-分类任务：预测-类别标签-（如垃圾邮件识别、疾病诊断）">1. 分类任务：预测&quot;类别标签&quot;（如垃圾邮件识别、疾病诊断）</h3><p>分类任务的核心是评估&quot;预测类别&quot;与&quot;真实类别&quot;的匹配度，需先明确<strong>混淆矩阵</strong>（所有指标的基础）：</p><table><thead><tr><th>真实\预测</th><th>正类（Positive）</th><th>负类（Negative）</th></tr></thead><tbody><tr><td>正类（P）</td><td>TP（真阳性）</td><td>FN（假阴性）</td></tr><tr><td>负类（N）</td><td>FP（假阳性）</td><td>TN（真阴性）</td></tr></tbody></table><ul><li><strong>TP</strong>：真实正类被预测为正类（如&quot;真病人被诊断为患病&quot;）</li><li><strong>FN</strong>：真实正类被预测为负类（如&quot;真病人被漏诊&quot;）</li><li><strong>FP</strong>：真实负类被预测为正类（如&quot;健康人被误诊为患病&quot;）</li><li><strong>TN</strong>：真实负类被预测为负类（如&quot;健康人被正确排除&quot;）</li></ul><p>基于混淆矩阵，衍生出以下核心指标：</p><h4 id="准确率（Accuracy）">准确率（Accuracy）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Accuracy</mtext><mo>=</mo><mfrac><mrow><mtext>TP</mtext><mo>+</mo><mtext>TN</mtext></mrow><mrow><mtext>TP</mtext><mo>+</mo><mtext>TN</mtext><mo>+</mo><mtext>FP</mtext><mo>+</mo><mtext>FN</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Accuracy} = \frac{\text{TP} + \text{TN}}{\text{TP} + \text{TN} + \text{FP} + \text{FN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">Accuracy</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">TN</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FN</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">TN</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：整体预测正确的比例</li><li><strong>适用场景</strong>：类别均衡的场景（如正负样本1:1）</li><li><strong>⚠️ 陷阱</strong>：类别不均衡时失效（如99%负样本，模型全预测负类，准确率仍99%但无意义）</li></ul><h4 id="精确率（Precision）">精确率（Precision）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Precision</mtext><mo>=</mo><mfrac><mtext>TP</mtext><mrow><mtext>TP</mtext><mo>+</mo><mtext>FP</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Precision} = \frac{\text{TP}}{\text{TP} + \text{FP}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">Precision</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FP</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：预测为正类的样本中，真实正类的比例（&quot;预测准不准&quot;）</li><li><strong>适用场景</strong>：避免FP的场景（如垃圾邮件识别：避免正常邮件被误判为垃圾邮件）</li></ul><h4 id="召回率（Recall-Sensitivity）">召回率（Recall / Sensitivity）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Recall</mtext><mo>=</mo><mfrac><mtext>TP</mtext><mrow><mtext>TP</mtext><mo>+</mo><mtext>FN</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Recall} = \frac{\text{TP}}{\text{TP} + \text{FN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Recall</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">FN</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TP</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：真实正类中，被预测为正类的比例（&quot;漏没漏&quot;）</li><li><strong>适用场景</strong>：避免FN的场景（如疾病诊断：避免漏诊真病人）</li></ul><h4 id="F1分数（F1-Score）">F1分数（F1-Score）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>F1</mtext><mo>=</mo><mfrac><mrow><mn>2</mn><mo>×</mo><mtext>Precision</mtext><mo>×</mo><mtext>Recall</mtext></mrow><mrow><mtext>Precision</mtext><mo>+</mo><mtext>Recall</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{F1} = \frac{2 \times \text{Precision} \times \text{Recall}}{\text{Precision} + \text{Recall}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">F1</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1408em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Precision</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">Recall</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">Precision</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord text"><span class="mord">Recall</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：Precision和Recall的调和平均数</li><li><strong>适用场景</strong>：解决二者&quot;此消彼长&quot;的矛盾（如提高Precision会降低Recall），适合类别不均衡且需平衡二者的场景（如电商欺诈检测）</li></ul><h4 id="AUC-ROC">AUC-ROC</h4><ul><li><p><strong>ROC曲线</strong>：以&quot;假正例率&quot;为X轴，&quot;真正例率&quot;为Y轴绘制的曲线</p><ul><li>假正例率（FPR）：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>FPR</mtext><mo>=</mo><mfrac><mtext>FP</mtext><mrow><mtext>FP</mtext><mo>+</mo><mtext>TN</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{FPR} = \frac{\text{FP}}{\text{FP} + \text{TN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">FPR</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2757em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">FP</span></span><span class="mbin mtight">+</span><span class="mord text mtight"><span class="mord mtight">TN</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">FP</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li>真正例率（TPR）：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>TPR</mtext><mo>=</mo><mtext>Recall</mtext><mo>=</mo><mfrac><mtext>TP</mtext><mrow><mtext>TP</mtext><mo>+</mo><mtext>FN</mtext></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{TPR} = \text{Recall} = \frac{\text{TP}}{\text{TP} + \text{FN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">TPR</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Recall</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2757em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">TP</span></span><span class="mbin mtight">+</span><span class="mord text mtight"><span class="mord mtight">FN</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">TP</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li></ul></li><li><p><strong>AUC</strong>：ROC曲线下的面积，取值范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p><ul><li>AUC越接近1，模型区分能力越强</li><li>AUC=0.5，模型与随机猜测无异</li></ul></li><li><p><strong>适用场景</strong>：<strong>工业界分类任务首选指标</strong>（尤其类别不均衡场景），衡量模型&quot;区分正/负类&quot;的能力</p></li></ul><h4 id="AUC-PR">AUC-PR</h4><ul><li><strong>PR曲线</strong>：以&quot;Precision&quot;为Y轴，&quot;Recall&quot;为X轴绘制的曲线</li><li><strong>AUC-PR</strong>：PR曲线下的面积，取值范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></li><li><strong>适用场景</strong>：比AUC-ROC更适合<strong>极不均衡场景</strong>（如正负样本1:1000），AUC-PR越接近1，模型对少数类（正类）的识别能力越强</li></ul><h3 id="2-回归任务：预测-连续数值-（如房价预测、销量预测）">2. 回归任务：预测&quot;连续数值&quot;（如房价预测、销量预测）</h3><p>回归任务的核心是评估&quot;预测值&quot;与&quot;真实值&quot;的误差大小，常用指标如下（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示真实值，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\hat{y}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示预测值，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 表示样本总数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>y</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\bar{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7622em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">ˉ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span> 表示真实值的均值）：</p><h4 id="平均绝对误差（MAE）">平均绝对误差（MAE）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MAE</mtext><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\text{MAE} = \frac{1}{N} \sum_{i=1}^{N} |y_i - \hat{y}_i|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">MAE</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></p><ul><li><strong>含义</strong>：误差的平均绝对值</li><li><strong>特点</strong>：<strong>对异常值不敏感</strong></li><li><strong>适用场景</strong>：如房价预测中，少数天价房不会大幅影响MAE，适合注重&quot;平均误差&quot;的场景</li></ul><h4 id="均方误差（MSE）">均方误差（MSE）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MSE</mtext><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\text{MSE} = \frac{1}{N} \sum_{i=1}^{N} (y_i - \hat{y}_i)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">MSE</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：误差的平方的平均值</li><li><strong>特点</strong>：<strong>对异常值敏感</strong>（平方会放大异常值的影响）</li><li><strong>适用场景</strong>：需要&quot;惩罚大误差&quot;的场景（如自动驾驶速度预测：大误差可能导致事故）</li></ul><h4 id="均方根误差（RMSE）">均方根误差（RMSE）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>RMSE</mtext><mo>=</mo><msqrt><mrow><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">\text{RMSE} = \sqrt{\frac{1}{N} \sum_{i=1}^{N} (y_i - \hat{y}_i)^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">RMSE</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.3338em;vertical-align:-1.2777em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0561em;"><span class="svg-align" style="top:-5.2938em;"><span class="pstrut" style="height:5.2938em;"></span><span class="mord" style="padding-left:1.056em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-4.0161em;"><span class="pstrut" style="height:5.2938em;"></span><span class="hide-tail" style="min-width:0.742em;height:3.3738em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="3.3738em" viewBox="0 0 400000 3373" preserveAspectRatio="xMinYMin slice"><path d="M702 80H40000040H742v3239l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667219 661 l218 661zM702 80H400000v40H742z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：MSE的平方根</li><li><strong>特点</strong>：<strong>单位与真实值一致</strong>（如房价预测中，RMSE=5万元，直观表示平均误差5万）</li><li><strong>适用场景</strong>：工业界回归任务<strong>最常用指标</strong></li></ul><h4 id="决定系数（R²）">决定系数（R²）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>y</mi><mo>ˉ</mo></mover><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^2 = 1 - \frac{\sum_{i=1}^{N} (y_i - \hat{y}_i)^2}{\sum_{i=1}^{N} (y_i - \bar{y})^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.8419em;vertical-align:-1.1709em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6709em;"><span style="top:-2.1288em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">ˉ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1709em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><strong>含义</strong>：衡量模型&quot;解释真实值变异&quot;的能力</li><li><strong>取值范围</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>−</mo><mi mathvariant="normal">∞</mi><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(-\infty, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">∞</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">R^2 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>：模型完美预测</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">R^2 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>：模型预测效果等同于&quot;用均值代替所有预测值&quot;</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">R^2 &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8532em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>：模型预测效果差于均值（通常是模型错误或数据异常）</li></ul></li></ul><h4 id="平均绝对百分比误差（MAPE）">平均绝对百分比误差（MAPE）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MAPE</mtext><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mrow><mo fence="true">∣</mo><mfrac><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><msub><mi>y</mi><mi>i</mi></msub></mfrac><mo fence="true">∣</mo></mrow><mo>×</mo><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\text{MAPE} = \frac{1}{N} \sum_{i=1}^{N} \left|\frac{y_i - \hat{y}_i}{y_i}\right| \times 100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">MAPE</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="2.400em" viewBox="0 0 333 2400"><path d="M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="2.400em" viewBox="0 0 333 2400"><path d="M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span></span></span></span></span></p><ul><li><strong>含义</strong>：误差占真实值的百分比</li><li><strong>特点</strong>：<strong>直观反映相对误差</strong>（如销量预测中，MAPE=5%表示平均误差占真实销量的5%）</li><li><strong>⚠️ 陷阱</strong>：若真实值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">y_i = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，会导致分母为0，此时不可用</li></ul><h3 id="3-聚类任务：无标签数据的-分组-（如用户分群、商品聚类）">3. 聚类任务：无标签数据的&quot;分组&quot;（如用户分群、商品聚类）</h3><p>聚类任务无真实标签，评估核心是&quot;簇内样本的相似度高，簇间样本的相似度低&quot;，常用指标如下：</p><h4 id="轮廓系数（Silhouette-Coefficient）">轮廓系数（Silhouette Coefficient）</h4><p>对每个样本计算：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>：簇内平均距离（样本到同簇其他样本的平均距离）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>：最近簇的平均距离（样本到最近其他簇所有样本的平均距离）</li></ul><p>样本的轮廓系数：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mo>=</mo><mfrac><mrow><mi>b</mi><mo>−</mo><mi>a</mi></mrow><mrow><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">s = \frac{b - a}{\max(a, b)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>最终取所有样本的平均值，取值范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-1, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p><ul><li><strong>含义</strong>：综合衡量&quot;簇内紧凑性&quot;和&quot;簇间分离度&quot;<ul><li>接近1：聚类效果极好</li><li>接近0：簇间重叠严重</li><li>接近-1：聚类错误（样本被分到错误簇）</li></ul></li></ul><h4 id="Calinski-Harabasz指数（CH指数）">Calinski-Harabasz指数（CH指数）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>CH</mtext><mo>=</mo><mfrac><mrow><mtext>簇间方差和</mtext><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mrow><mtext>簇内方差和</mtext><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{CH} = \frac{\text{簇间方差和} / (k-1)}{\text{簇内方差和} / (n-k)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">CH</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">簇内方差和</span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">簇间方差和</span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 为簇数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 为样本数</p><ul><li><strong>含义</strong>：指数越大，说明&quot;簇间差异大、簇内差异小&quot;，聚类效果越好</li><li><strong>适用场景</strong>：需要确定最优簇数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 的场景（如通过CH指数峰值选择 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>）</li></ul><h4 id="互信息（Mutual-Information-MI）">互信息（Mutual Information, MI）</h4><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MI</mtext><mo stretchy="false">(</mo><mi>U</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi mathvariant="normal">∣</mi><mi>U</mi><mi mathvariant="normal">∣</mi></mrow></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi mathvariant="normal">∣</mi><mi>V</mi><mi mathvariant="normal">∣</mi></mrow></munderover><mfrac><mrow><mi mathvariant="normal">∣</mi><msub><mi>U</mi><mi>i</mi></msub><mo>∩</mo><msub><mi>V</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow><mi>N</mi></mfrac><mi>log</mi><mo>⁡</mo><mfrac><mrow><mi>N</mi><mo>⋅</mo><mi mathvariant="normal">∣</mi><msub><mi>U</mi><mi>i</mi></msub><mo>∩</mo><msub><mi>V</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow><mrow><mi mathvariant="normal">∣</mi><msub><mi>U</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mo>⋅</mo><mi mathvariant="normal">∣</mi><msub><mi>V</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{MI}(U, V) = \sum_{i=1}^{|U|} \sum_{j=1}^{|V|} \frac{|U_i \cap V_j|}{N} \log\frac{N \cdot |U_i \cap V_j|}{|U_i| \cdot |V_j|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">MI</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.3748em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.961em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.386em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span><span class="mord mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.961em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.386em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span><span class="mord mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span> 为聚类结果，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> 为真实标签</p><ul><li><strong>含义</strong>：衡量&quot;聚类结果&quot;与&quot;真实标签（若有）&quot;的关联程度</li><li><strong>取值范围</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>k</mi><mo separator="true">,</mo><mi>c</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, \log(\min(k, c))]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mclose">))]</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span> 为真实类别数</li><li><strong>标准化形式（NMI）</strong>：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>NMI</mtext><mo stretchy="false">(</mo><mi>U</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mtext>MI</mtext><mo stretchy="false">(</mo><mi>U</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo></mrow><msqrt><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>U</mi><mo stretchy="false">)</mo><mo>⋅</mo><mi>H</mi><mo stretchy="false">(</mo><mi>V</mi><mo stretchy="false">)</mo></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">\text{NMI}(U, V) = \frac{\text{MI}(U, V)}{\sqrt{H(U) \cdot H(V)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">NMI</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.557em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.175em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span></span></span><span style="top:-2.895em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.305em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">MI</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>取值范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span> 表示熵</p><ul><li><strong>适用场景</strong>：仅适用于&quot;有真实标签的聚类验证&quot;（如已知用户真实年龄段，评估聚类得到的用户群是否与年龄段匹配）</li></ul><hr><h2 id="三、进阶评估策略：避免常见陷阱">三、进阶评估策略：避免常见陷阱</h2><h3 id="1-警惕数据泄露（Data-Leakage）">1. 警惕数据泄露（Data Leakage）</h3><p>数据泄露是评估中最致命的错误，指&quot;测试集信息提前被模型接触&quot;，导致评估结果虚高。常见场景：</p><ul><li><strong>错误做法</strong>：先对整个数据集做标准化/归一化，再划分训练集和测试集</li><li><strong>正确做法</strong>：仅用训练集的统计量（如均值、方差）标准化测试集</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 错误示例</span><br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br>scaler = StandardScaler()<br>X_scaled = scaler.fit_transform(X)  <span class="hljs-comment"># 对全部数据标准化</span><br>X_train, X_test = train_test_split(X_scaled)  <span class="hljs-comment"># ❌ 测试集已泄露</span><br><br><span class="hljs-comment"># 正确示例</span><br>X_train, X_test = train_test_split(X)  <span class="hljs-comment"># 先划分</span><br>scaler = StandardScaler()<br>X_train_scaled = scaler.fit_transform(X_train)  <span class="hljs-comment"># 仅用训练集fit</span><br>X_test_scaled = scaler.transform(X_test)  <span class="hljs-comment"># ✅ 测试集用训练集的参数</span><br></code></pre></td></tr></table></figure><ul><li><strong>交叉验证陷阱</strong>：将测试集纳入折的划分</li><li><strong>正确做法</strong>：测试集完全独立，仅用于最终评估</li></ul><h3 id="2-结合业务指标评估">2. 结合业务指标评估</h3><p>技术指标（如AUC、RMSE）需与业务目标结合。例如：</p><ul><li><p><strong>疾病诊断模型</strong>：</p><ul><li>技术指标：Recall（避免漏诊）</li><li>业务考量：误诊成本（FP导致的过度治疗）</li><li>综合方案：设定&quot;可容忍的FP率&quot;，在此约束下最大化Recall</li></ul></li><li><p><strong>销量预测模型</strong>：</p><ul><li>技术指标：RMSE（整体误差）</li><li>业务考量：峰值销量的预测误差（如双11销量预测不准会导致库存积压或缺货）</li><li>综合方案：除RMSE外，单独评估&quot;销量前10%时段&quot;的预测准确度</li></ul></li></ul><h3 id="3-稳定性与鲁棒性评估">3. 稳定性与鲁棒性评估</h3><h4 id="稳定性测试">稳定性测试</h4><p>多次随机划分训练/测试集，观察指标波动（波动小说明模型稳定）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment"># 执行10次5折交叉验证</span><br>scores_list = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>    scores = cross_val_score(model, X, y, cv=<span class="hljs-number">5</span>, scoring=<span class="hljs-string">&#x27;accuracy&#x27;</span>)<br>    scores_list.append(scores.mean())<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;均值: <span class="hljs-subst">&#123;np.mean(scores_list):<span class="hljs-number">.3</span>f&#125;</span>&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;标准差: <span class="hljs-subst">&#123;np.std(scores_list):<span class="hljs-number">.3</span>f&#125;</span>&quot;</span>)  <span class="hljs-comment"># 标准差越小，模型越稳定</span><br></code></pre></td></tr></table></figure><h4 id="鲁棒性测试">鲁棒性测试</h4><p>在测试集中加入噪声，观察指标下降幅度（下降小说明模型鲁棒性强）</p><ul><li>图片分类：添加模糊、旋转、噪点</li><li>文本分类：替换同义词、删除停用词</li><li>表格数据：对数值特征添加高斯噪声</li></ul><h3 id="4-过拟合与欠拟合的判断">4. 过拟合与欠拟合的判断</h3><p>通过&quot;训练集指标&quot;与&quot;验证集指标&quot;的差异判断：</p><table><thead><tr><th>现象</th><th>训练集表现</th><th>验证集表现</th><th>诊断</th><th>解决方案</th></tr></thead><tbody><tr><td>欠拟合</td><td>差</td><td>差</td><td>模型未学会数据规律</td><td>增加模型复杂度（如增加神经网络层数、决策树深度）、增加特征、减少正则化强度</td></tr><tr><td>过拟合</td><td>极好</td><td>差</td><td>模型记住了训练数据噪声</td><td>正则化（L1/L2）、数据增强、早停（Early Stopping）、Dropout、减少模型复杂度</td></tr><tr><td>理想状态</td><td>好</td><td>好</td><td>模型泛化能力强</td><td>继续优化或上线</td></tr></tbody></table><p><strong>学习曲线可视化</strong>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> learning_curve<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>train_sizes, train_scores, val_scores = learning_curve(<br>    model, X, y, cv=<span class="hljs-number">5</span>, scoring=<span class="hljs-string">&#x27;accuracy&#x27;</span>,<br>    train_sizes=np.linspace(<span class="hljs-number">0.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">10</span>)<br>)<br><br>plt.plot(train_sizes, train_scores.mean(axis=<span class="hljs-number">1</span>), label=<span class="hljs-string">&#x27;Training score&#x27;</span>)<br>plt.plot(train_sizes, val_scores.mean(axis=<span class="hljs-number">1</span>), label=<span class="hljs-string">&#x27;Validation score&#x27;</span>)<br>plt.xlabel(<span class="hljs-string">&#x27;Training samples&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;Score&#x27;</span>)<br>plt.legend()<br>plt.show()<br></code></pre></td></tr></table></figure><hr><h2 id="四、实战决策树：如何选择评估方法">四、实战决策树：如何选择评估方法</h2><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs mathematica">开始评估<br>│<br>├─ 任务类型？<br>│  │<br>│  ├─ 分类任务<br>│  │  ├─ 类别均衡？<br>│  │  │  ├─ 是 → 使用 <span class="hljs-built_in">Accuracy</span>、<span class="hljs-variable">F1</span><span class="hljs-operator">-</span><span class="hljs-variable">Score</span><br>│  │  │  └─ 否 → 使用 <span class="hljs-variable">AUC</span><span class="hljs-operator">-</span><span class="hljs-variable">ROC</span>（极不均衡用<span class="hljs-variable">AUC</span><span class="hljs-operator">-</span><span class="hljs-variable">PR</span>）<br>│  │  └─ 业务侧重？<br>│  │     ├─ 避免误报（<span class="hljs-variable">FP</span>）→ 优先<span class="hljs-built_in">Precision</span><br>│  │     └─ 避免漏报（<span class="hljs-variable">FN</span>）→ 优先<span class="hljs-variable">Recall</span><br>│  │<br>│  ├─ 回归任务<br>│  │  ├─ 关注绝对误差 → 使用 <span class="hljs-variable">MAE</span><br>│  │  ├─ 惩罚大误差 → 使用 <span class="hljs-variable">MSE</span><span class="hljs-operator">/</span><span class="hljs-variable">RMSE</span><br>│  │  ├─ 关注相对误差 → 使用 <span class="hljs-variable">MAPE</span>（注意真实值为<span class="hljs-number">0</span>的情况）<br>│  │  └─ 评估解释能力 → 使用 <span class="hljs-variable">R</span>²<br>│  │<br>│  └─ 聚类任务<br>│     ├─ 无真实标签 → 使用 <span class="hljs-variable">Silhouette</span> <span class="hljs-built_in">Coefficient</span> 或 <span class="hljs-variable">CH</span>指数<br>│     └─ 有真实标签（验证用）→ 使用 <span class="hljs-variable">NMI</span><br>│<br>└─ 数据划分策略？<br>   ├─ 数据量大（<span class="hljs-operator">&gt;</span><span class="hljs-number">100</span>万）→ <span class="hljs-built_in">Hold</span><span class="hljs-operator">-</span><span class="hljs-built_in">Out</span>（<span class="hljs-number">7</span><span class="hljs-operator">:</span><span class="hljs-number">1</span><span class="hljs-operator">:</span><span class="hljs-number">2</span>）<br>   ├─ 数据量中等（<span class="hljs-number">1</span>万<span class="hljs-operator">~</span><span class="hljs-number">100</span>万）→ <span class="hljs-built_in">K</span>折交叉验证（<span class="hljs-built_in">K</span><span class="hljs-operator">=</span><span class="hljs-number">5</span>或<span class="hljs-number">10</span>）<br>   ├─ 数据量小（<span class="hljs-number">100</span><span class="hljs-operator">~</span><span class="hljs-number">1</span>万）→ 分层<span class="hljs-built_in">K</span>折交叉验证<br>   └─ 数据量极小（<span class="hljs-operator">&lt;</span><span class="hljs-number">100</span>）→ <span class="hljs-variable">LOOCV</span> 或 <span class="hljs-variable">Bootstrap</span><br></code></pre></td></tr></table></figure><hr><h2 id="总结">总结</h2><p>模型评估的核心逻辑是&quot;<strong>用独立、无偏的数据，结合任务和业务目标，选择合适的指标和框架</strong>&quot;。实际应用中，优先遵循：</p><h3 id="✅-分类任务最佳实践">✅ 分类任务最佳实践</h3><ul><li>用<strong>分层K折交叉验证</strong>调参</li><li>最终用测试集的 <strong>AUC-ROC</strong>（类别不均衡）或 <strong>F1-Score</strong>（需平衡Precision/Recall）评估</li><li>极不均衡场景使用 <strong>AUC-PR</strong></li></ul><h3 id="✅-回归任务最佳实践">✅ 回归任务最佳实践</h3><ul><li>用<strong>K折交叉验证</strong>调参</li><li>最终用测试集的 <strong>RMSE</strong>（直观误差）或 <strong>R²</strong>（解释力）评估</li><li>根据业务需求选择 <strong>MAE</strong>（对异常值不敏感）或 <strong>MAPE</strong>（相对误差）</li></ul><h3 id="✅-聚类任务最佳实践">✅ 聚类任务最佳实践</h3><ul><li>无真实标签时用 <strong>Silhouette Coefficient</strong> 或 <strong>CH指数</strong></li><li>有真实标签时用 <strong>NMI</strong> 评估</li><li>结合业务场景定义&quot;好聚类&quot;的标准</li></ul><h3 id="⚠️-必须规避的陷阱">⚠️ 必须规避的陷阱</h3><ol><li><strong>数据泄露</strong>：标准化、特征选择等操作必须在划分数据集<strong>之后</strong>进行</li><li><strong>测试集污染</strong>：测试集不能参与任何调参过程</li><li><strong>单一指标盲区</strong>：结合多个指标和业务目标综合评估</li><li><strong>忽视置信区间</strong>：报告指标时应包含标准差或置信区间</li></ol><p>公式现已全部修正为标准Markdown格式，可正常渲染！</p>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>经验误差与过拟合</title>
    <link href="/2025/10/09/%E7%BB%8F%E9%AA%8C%E8%AF%AF%E5%B7%AE%E4%B8%8E%E8%BF%87%E6%8B%9F%E5%90%88/"/>
    <url>/2025/10/09/%E7%BB%8F%E9%AA%8C%E8%AF%AF%E5%B7%AE%E4%B8%8E%E8%BF%87%E6%8B%9F%E5%90%88/</url>
    
    <content type="html"><![CDATA[<p>在机器学习模型的训练与评估中，<strong>经验误差（Empirical Error）</strong> 和<strong>过拟合（Overfitting）</strong> 是决定模型泛化能力（对新数据的预测能力）的核心概念——前者是模型在训练数据上的“表现指标”，后者是模型训练中最常见的“性能陷阱”，二者紧密关联又存在本质区别。下面将从定义、计算、影响因素、与过拟合的关系及解决方案等方面，进行系统性拆解。</p><h2 id="一、经验误差（Empirical-Error）：模型在“训练数据”上的误差">一、经验误差（Empirical Error）：模型在“训练数据”上的误差</h2><h3 id="1-核心定义与本质">1. 核心定义与本质</h3><p>经验误差，又称<strong>训练误差（Training Error）</strong>，是指<strong>模型在训练数据集上的预测结果与真实标签之间的误差</strong>。<br>其本质是模型对“已见过数据”的拟合程度度量——反映了模型从训练数据中“学习到规律”的能力，但无法直接代表模型对“未见过新数据”的预测能力（即泛化能力）。</p><p>例如：用线性回归模型预测房价，将训练集中1000条“面积-房价”数据输入模型后，计算模型预测的房价与真实房价的平均差值，这个差值就是经验误差。</p><h3 id="2-常见计算方式（分类与回归任务差异）">2. 常见计算方式（分类与回归任务差异）</h3><p>经验误差的计算需根据任务类型（分类/回归）选择不同指标，核心思路是“量化预测值与真实值的差异”。</p><h4 id="（1）回归任务（输出为连续值，如房价预测、温度预测）">（1）回归任务（输出为连续值，如房价预测、温度预测）</h4><p><strong>均方误差（Mean Squared Error, MSE）</strong>：最常用的回归误差指标，计算预测值与真实值差值的平方的平均值，对异常值更敏感（平方放大了大误差）。</p><p>公式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">MSE = \frac{1}{m} \sum_{i=1}^{m} (y_i - \hat{y}_i)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">MSE</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 是训练样本数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 个样本的真实标签，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\hat{y}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是模型的预测值。</p><p><strong>平均绝对误差（Mean Absolute Error, MAE）</strong>：计算预测值与真实值差值的绝对值的平均值，对异常值更鲁棒（无平方放大）。</p><p>公式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mi>A</mi><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mi mathvariant="normal">∣</mi><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">MAE = \frac{1}{m} \sum_{i=1}^{m} |y_i - \hat{y}_i|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></p><h4 id="（2）分类任务（输出为离散类别，如垃圾邮件识别、疾病诊断）">（2）分类任务（输出为离散类别，如垃圾邮件识别、疾病诊断）</h4><p><strong>错误率（Error Rate）</strong>：分类错误的样本数占总训练样本数的比例，适用于二分类和多分类。</p><p>公式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>错误率</mtext><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mi>I</mi><mo stretchy="false">(</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mo mathvariant="normal">≠</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">错误率 = \frac{1}{m} \sum_{i=1}^{m} I(\hat{y}_i \neq y_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">错误率</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I(\cdot)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span> 是指示函数：若括号内条件成立，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">I=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>；否则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">I=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>。</p><p><strong>准确率（Accuracy）</strong>：分类正确的样本数占总训练样本数的比例，是错误率的互补指标（准确率 = 1 - 错误率）。</p><h3 id="3-经验误差的“局限性”：不能直接代表泛化能力">3. 经验误差的“局限性”：不能直接代表泛化能力</h3><p>经验误差的核心问题是“<strong>数据偏差</strong>”——训练数据无法完全代表真实世界的所有情况（如训练集中的房价数据只覆盖了某几个小区，未包含其他区域）。因此：</p><ul><li>经验误差低 ≠ 泛化能力强：模型可能“死记硬背”了训练数据（即过拟合），但对新数据预测不准；</li><li>经验误差高 → 泛化能力差：若模型在训练数据上都无法拟合（即欠拟合），则对新数据更不可能预测准确。</li></ul><p>例如：用一个10次多项式拟合“面积-房价”的线性数据，经验误差可能接近0（几乎完美贴合训练点），但对新的“面积”样本，预测房价会严重偏离真实值（泛化能力差）。</p><h2 id="二、过拟合（Overfitting）：模型“学偏了”训练数据的噪声">二、过拟合（Overfitting）：模型“学偏了”训练数据的噪声</h2><h3 id="1-核心定义与本质-2">1. 核心定义与本质</h3><p>过拟合是指<strong>模型在训练数据上表现极好（经验误差极低），但在未见过的测试数据上表现极差（泛化误差极高）的现象</strong>。<br>其本质是模型“过度学习”了训练数据中的<strong>噪声（Noise）和偶然特征（Accidental Features）</strong>，而非数据背后的“普遍规律（本质特征）”——相当于学生为了考试死记硬背习题答案，却没理解知识点，遇到新题就不会做。</p><h4 id="直观示例（以“线性数据-噪声”的拟合为例）">直观示例（以“线性数据+噪声”的拟合为例）</h4><p>假设有一组真实规律为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">y = 2x + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 的数据，但训练数据中加入了随机噪声（如部分样本因测量误差偏离直线）：</p><ul><li>用<strong>线性模型（一次函数）</strong> 拟合：会贴近数据的整体趋势，经验误差虽不是最小，但测试误差小（泛化能力强）；</li><li>用<strong>高次多项式（如10次函数）</strong> 拟合：会“缠绕”所有训练点，甚至包括偏离直线的噪声点，经验误差接近0，但在测试数据上会大幅偏离真实直线（泛化误差大）——这就是典型的过拟合。</li></ul><h3 id="2-过拟合的核心表现：经验误差与泛化误差“差距过大”">2. 过拟合的核心表现：经验误差与泛化误差“差距过大”</h3><p>为了更清晰地判断过拟合，需要引入“<strong>泛化误差（Generalization Error）</strong>”——模型在所有真实数据（包括训练集和未见过的测试集）上的误差，通常用“测试误差（Test Error，模型在测试集上的误差）”近似代替。</p><p>过拟合的关键特征是“<strong>经验误差远小于测试误差</strong>”，具体表现为：</p><table><thead><tr><th>指标</th><th>过拟合模型的表现</th><th>正常拟合模型的表现</th></tr></thead><tbody><tr><td>训练集（经验误差）</td><td>误差极低（如准确率99%+）</td><td>误差较低（如准确率90%）</td></tr><tr><td>测试集（泛化误差）</td><td>误差极高（如准确率60%）</td><td>误差接近训练误差（如准确率88%）</td></tr><tr><td>误差差距</td><td>经验误差与测试误差差距大（&gt;30%）</td><td>误差差距小（&lt;5%）</td></tr></tbody></table><h3 id="3-过拟合的常见原因">3. 过拟合的常见原因</h3><p>过拟合的本质是“<strong>模型能力过强，而数据约束不足</strong>”，具体可归纳为以下4类：</p><h4 id="（1）模型复杂度远超数据复杂度">（1）模型复杂度远超数据复杂度</h4><ul><li>当模型的“表达能力”太强（如深度神经网络的层数过多、决策树的深度过深、多项式回归的次数过高），而数据的“规律复杂度”很低（如线性数据）时，模型会用复杂的结构去“硬凑”训练数据中的噪声。<br>例：用100层的神经网络预测“身高-体重”的线性关系，模型会学习到训练数据中“某个人因穿鞋导致身高测量偏差”这类偶然特征。</li></ul><h4 id="（2）训练数据量不足或质量差">（2）训练数据量不足或质量差</h4><ul><li><strong>数据量不足</strong>：若训练样本数远小于模型参数数量（如用10个样本训练100个参数的线性模型），模型很容易“记住”每个样本的特征，而非普遍规律；</li><li><strong>数据质量差</strong>：训练数据中包含大量标注错误（如将“垃圾邮件”标为“正常邮件”）或异常值，模型会将这些错误数据当作“规律”学习。</li></ul><h4 id="（3）训练过程过度迭代">（3）训练过程过度迭代</h4><ul><li>模型训练时，若迭代次数过多（如梯度下降迭代10万次），即使模型初期已学到核心规律，后续迭代仍会持续优化以降低经验误差，最终导致模型“过度贴合”训练数据的噪声。<br>例：神经网络训练中，随着epoch（迭代轮次）增加，经验误差会持续下降，但测试误差会先下降后上升——测试误差上升的阶段就是过拟合开始的标志。</li></ul><h4 id="（4）数据分布不一致（训练集与真实数据差异大）">（4）数据分布不一致（训练集与真实数据差异大）</h4><ul><li>若训练数据的分布（如特征的取值范围、类别比例）与真实世界数据的分布差异大（如用“北方城市房价数据”训练模型，预测“南方城市房价”），模型学到的规律无法迁移到新数据，表现为“在训练集上拟合好，在测试集上拟合差”，本质也是一种广义的过拟合。</li></ul><h2 id="三、经验误差与过拟合的核心关系">三、经验误差与过拟合的核心关系</h2><p>经验误差是过拟合的“表象指标”，但二者并非直接的“因果关系”，需明确以下3点核心关联：</p><h3 id="1-过拟合的前提：经验误差极低">1. 过拟合的前提：经验误差极低</h3><p>过拟合的必要条件是“模型在训练数据上表现极好”——若模型的经验误差本身就很高（如欠拟合），则不存在过拟合的可能。<br>例如：用线性模型拟合非线性数据，经验误差很高（无法贴合训练点），此时模型连训练数据都没学会，更不会“过度学习”噪声。</p><h3 id="2-经验误差低-≠-过拟合：关键看泛化误差">2. 经验误差低 ≠ 过拟合：关键看泛化误差</h3><p>经验误差低只是过拟合的“表象”，判断是否过拟合的核心是“<strong>经验误差与泛化误差的差距</strong>”：</p><ul><li>若经验误差低，且泛化误差也低（差距小）：模型是“正常拟合”，学到了数据的核心规律；</li><li>若经验误差低，但泛化误差高（差距大）：模型是“过拟合”，学到了训练数据的噪声。</li></ul><h3 id="3-经验误差的“合理范围”：并非越低越好">3. 经验误差的“合理范围”：并非越低越好</h3><p>在模型训练中，经验误差需要“足够低”（确保模型学到规律），但不能“过低”（避免过拟合）。例如：在图像分类任务中，经验误差从90%降到95%是合理的（模型优化了细节），但从95%降到99.9%可能意味着模型开始学习训练图像中的“水印”“拍摄角度偏差”等噪声特征。</p><h2 id="四、如何缓解过拟合？（核心解决方案）">四、如何缓解过拟合？（核心解决方案）</h2><p>缓解过拟合的核心思路是“<strong>平衡模型能力与数据约束</strong>”——要么降低模型复杂度，要么增强数据对模型的约束，具体方法可分为以下5类：</p><h3 id="1-降低模型复杂度（“让模型变简单”）">1. 降低模型复杂度（“让模型变简单”）</h3><ul><li><strong>简化模型结构</strong>：对决策树，通过“剪枝”（删除冗余的叶节点）降低深度；对神经网络，减少层数或每层的神经元数量；对回归模型，降低多项式的次数；</li><li><strong>参数正则化（Regularization）</strong>：在损失函数中加入“参数惩罚项”，限制模型参数的取值大小，避免参数过大导致模型过度拟合噪声。<br>例：线性回归的“岭回归（L2正则）”在损失函数中加入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msubsup><mi>w</mi><mi>j</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">\lambda \sum_{j=1}^{n} w_j^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2499em;vertical-align:-0.4358em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4413em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3948em;"><span></span></span></span></span></span></span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">w_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 是模型参数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span></span></span></span> 是正则化强度），迫使参数趋向于0，让模型更“简单”。</li></ul><h3 id="2-增加数据量与提升数据质量（“让数据更可靠”）">2. 增加数据量与提升数据质量（“让数据更可靠”）</h3><ul><li><strong>扩充训练数据</strong>：通过“数据增强（Data Augmentation）”生成更多有效样本（如图像任务中旋转、裁剪、翻转图像，文本任务中同义词替换），或收集更多真实数据，让模型有足够的数据学习普遍规律；</li><li><strong>清洗数据</strong>：删除训练数据中的异常值、标注错误样本，或用“插值法”修正异常值（如用均值替换数值型特征的异常值），避免模型学习错误规律。</li></ul><h3 id="3-早停（Early-Stopping）：“及时停止训练”">3. 早停（Early Stopping）：“及时停止训练”</h3><ul><li>在模型训练过程中，实时监控测试误差的变化：当测试误差下降到最低点后，若继续迭代，测试误差开始上升（说明模型开始过拟合），此时立即停止训练，保留测试误差最低时的模型参数。<br>例：神经网络训练中，用验证集（从训练集中拆分出的子集）监控误差，当验证误差连续5个epoch不下降时，触发早停。</li></ul><h3 id="4-集成学习（Ensemble-Learning）：“多个模型一起决策”">4. 集成学习（Ensemble Learning）：“多个模型一起决策”</h3><ul><li>通过构建多个“弱模型”（如多个简单决策树），并将它们的预测结果组合（如投票、平均），降低单个模型过拟合的风险。<br>例：随机森林（Random Forest）通过构建多个决策树，每个树用不同的训练子集和特征子集训练，最终通过投票决定预测结果——单个树可能过拟合，但多个树的组合能“抵消”各自的噪声，提升泛化能力。</li></ul><h3 id="5-数据分布对齐（“让训练数据更贴近真实场景”）">5. 数据分布对齐（“让训练数据更贴近真实场景”）</h3><ul><li>若训练集与测试集分布差异大，可通过“域适应（Domain Adaptation）”技术，将训练数据的分布调整到与测试数据一致（如通过迁移学习，用真实场景的少量数据微调模型）；</li><li>避免“数据泄露（Data Leakage）”：确保训练过程中不使用测试集的数据（如特征归一化时，只用训练集的均值和方差，而非测试集的），防止模型提前“看到”测试数据，导致经验误差虚低。</li></ul><h2 id="五、总结">五、总结</h2><ul><li><strong>经验误差</strong>是模型在训练数据上的误差，是衡量“模型对已见数据的拟合程度”的指标，但不能直接代表泛化能力，需结合测试误差判断模型性能；</li><li><strong>过拟合</strong>是模型“过度学习训练数据噪声”导致的泛化能力差的现象，核心特征是“经验误差低、测试误差高”，本质是“模型能力过强，数据约束不足”；</li><li>缓解过拟合的核心是“平衡模型复杂度与数据约束”，常见方法包括降低模型复杂度、扩充数据、早停、集成学习等。</li></ul><p>理解经验误差与过拟合的关系，是避免模型“纸上谈兵”（只在训练数据上表现好）、提升实际应用性能的关键——机器学习的最终目标不是“最小化经验误差”，而是“最小化泛化误差”。</p>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>假设空间和版本空间</title>
    <link href="/2025/10/09/%E5%81%87%E8%AE%BE%E7%A9%BA%E9%97%B4%E5%92%8C%E7%89%88%E6%9C%AC%E7%A9%BA%E9%97%B4/"/>
    <url>/2025/10/09/%E5%81%87%E8%AE%BE%E7%A9%BA%E9%97%B4%E5%92%8C%E7%89%88%E6%9C%AC%E7%A9%BA%E9%97%B4/</url>
    
    <content type="html"><![CDATA[<p>在机器学习中，<strong>假设空间（Hypothesis Space）</strong> 和<strong>版本空间（Version Space）</strong> 是理解模型归纳学习过程的核心概念，二者共同描述了“模型可能学到的所有规律”与“符合训练数据的规律”之间的关系。下面将从定义、本质、构建方法、关系及示例等方面，进行详细拆解。</p><h2 id="一、假设空间（Hypothesis-Space）：模型“能想到”的所有可能规律">一、假设空间（Hypothesis Space）：模型“能想到”的所有可能规律</h2><h3 id="1-核心定义">1. 核心定义</h3><p>假设空间是<strong>所有可能的“输入→输出”映射关系的集合</strong>，即模型在训练前，基于问题的先验知识（如特征类型、输出形式）所能覆盖的全部“假设（Hypothesis）”。<br>这里的“假设”，本质是对数据规律的抽象描述（比如“若特征A=1且特征B=0，则输出为正例”），是模型试图从数据中学习的“目标函数”的候选者。</p><h3 id="2-本质：“归纳偏置”决定假设空间的边界">2. 本质：“归纳偏置”决定假设空间的边界</h3><p>假设空间的大小和形式，由<strong>归纳偏置（Inductive Bias）</strong> 决定——即模型自带的“偏好”，它排除了部分不可能的假设，缩小了学习范围。<br>例如：</p><ul><li>线性回归的归纳偏置是“数据符合线性关系”，因此其假设空间是<strong>所有线性函数（y=wx+b）的集合</strong>；</li><li>决策树的归纳偏置是“用轴平行的决策边界划分数据”，因此其假设空间是<strong>所有可能的轴平行决策树结构的集合</strong>；</li><li>若不加入任何归纳偏置（即“无偏学习”），假设空间会包含所有可能的映射关系（如对10个二值特征，假设空间大小为2^(2^10)，远超宇宙原子数），但这种情况在现实中无法学习（模型无法从无限多假设中筛选出有效规律）。</li></ul><h3 id="3-如何构建假设空间？（以“表格式数据的分类问题”为例）">3. 如何构建假设空间？（以“表格式数据的分类问题”为例）</h3><p>假设我们要解决一个“西瓜好坏分类”问题，特征包括：</p><ul><li>色泽：青绿、乌黑、浅白（3种可能）</li><li>根蒂：蜷缩、硬挺、稍蜷（3种可能）</li><li>敲声：浊响、清脆、沉闷（3种可能）</li><li>输出：好瓜（正例）、坏瓜（负例）</li></ul><p>此时，假设空间的构建需包含以下四类假设：</p><ol><li><strong>具体假设</strong>：每个特征取特定值，对应“明确的规律”。<br>例：(色泽=青绿) ∧ (根蒂=蜷缩) ∧ (敲声=浊响) → 好瓜；</li><li><strong>部分特征泛化假设</strong>：某些特征取“任意值”（用“<em>”表示），对应“忽略部分特征的规律”。<br>例：(色泽=青绿) ∧ (根蒂=</em>) ∧ (敲声=浊响) → 好瓜（即“只要色泽青绿、敲声浊响，无论根蒂如何，都是好瓜”）；</li><li><strong>全泛化假设</strong>：所有特征取“<em>”，对应“所有样本都是正例”。<br>例：(</em>) ∧ (<em>) ∧ (</em>) → 好瓜；</li><li><strong>空假设</strong>：没有任何样本满足条件（对应“不存在好瓜”）。</li></ol><h4 id="假设空间大小计算">假设空间大小计算</h4><p>对每个特征，有“取特定值（如色泽=青绿）”和“取任意值（<em>）”两种选择，且最后需加入空假设。<br>以西瓜问题为例：3个特征，每个特征有3种特定值，因此假设空间大小为：<br>(3+1)（色泽的选择：3种特定值+1种</em>） × (3+1)（根蒂） × (3+1)（敲声） + 1（空假设） = 4×4×4 +1 = <strong>65</strong>。</p><h2 id="二、版本空间（Version-Space）：符合训练数据的“候选规律”">二、版本空间（Version Space）：符合训练数据的“候选规律”</h2><h3 id="1-核心定义-2">1. 核心定义</h3><p>版本空间是<strong>假设空间中所有“与训练数据完全一致”的假设的子集</strong>。<br>即：对于训练集中的每一个样本，假设都能正确预测其标签（正例预测为正，负例预测为负），这类假设的集合就是版本空间。</p><h3 id="2-本质：“数据约束”筛选后的假设子集">2. 本质：“数据约束”筛选后的假设子集</h3><p>如果说假设空间是模型“能想到的所有规律”，那么版本空间就是“数据告诉模型‘这些规律是可行的’”——它通过训练数据，从假设空间中剔除了“与事实矛盾”的假设，保留了“暂时正确”的假设。</p><h3 id="3-如何构建版本空间？（三步法）">3. 如何构建版本空间？（三步法）</h3><p>以西瓜分类的训练数据为例（假设训练集有2个正例、1个负例）：</p><table><thead><tr><th>样本</th><th>色泽</th><th>根蒂</th><th>敲声</th><th>标签</th></tr></thead><tbody><tr><td>1</td><td>青绿</td><td>蜷缩</td><td>浊响</td><td>好瓜</td></tr><tr><td>2</td><td>乌黑</td><td>蜷缩</td><td>浊响</td><td>好瓜</td></tr><tr><td>3</td><td>青绿</td><td>硬挺</td><td>浊响</td><td>坏瓜</td></tr></tbody></table><p>构建版本空间需遵循“<strong>保留一致假设，剔除矛盾假设</strong>”的原则，具体分三步：</p><ol><li><strong>初始化</strong>：将假设空间中的所有假设纳入候选集；</li><li><strong>正例约束</strong>：对每个正例（如样本1、2），剔除“无法覆盖该正例”的假设。<br>例：假设“(色泽=青绿) ∧ (根蒂=蜷缩) ∧ (敲声=清脆) → 好瓜”无法覆盖样本1（敲声不符），因此被剔除；</li><li><strong>负例约束</strong>：对每个负例（如样本3），剔除“错误覆盖该负例”的假设（即把负例预测为正例的假设）。<br>例：假设“(色泽=青绿) ∧ (根蒂=*) ∧ (敲声=浊响) → 好瓜”会将样本3（色泽=青绿、敲声=浊响）预测为好瓜，与标签矛盾，因此被剔除。</li></ol><p>最终剩余的假设，就是版本空间。例如上述训练集的版本空间可能包含：</p><ul><li>(色泽=*) ∧ (根蒂=蜷缩) ∧ (敲声=浊响) → 好瓜（覆盖样本1、2，不覆盖样本3）；</li><li>(色泽=青绿∨乌黑) ∧ (根蒂=蜷缩) ∧ (敲声=浊响) → 好瓜（若假设允许特征取多个特定值）。</li></ul><h2 id="三、假设空间与版本空间的核心区别与联系">三、假设空间与版本空间的核心区别与联系</h2><p>为了更清晰地理解二者关系，可通过下表对比：</p><table><thead><tr><th>维度</th><th>假设空间（Hypothesis Space）</th><th>版本空间（Version Space）</th></tr></thead><tbody><tr><td><strong>范围</strong></td><td>所有可能的假设（全集）</td><td>符合训练数据的假设（子集）</td></tr><tr><td><strong>依赖因素</strong></td><td>归纳偏置（模型自带的偏好）</td><td>归纳偏置 + 训练数据（数据约束）</td></tr><tr><td><strong>大小变化</strong></td><td>固定不变（训练前后，模型的归纳偏置不变，假设空间不变）</td><td>随训练数据增加而缩小（数据越多，约束越强，假设越少）</td></tr><tr><td><strong>核心作用</strong></td><td>定义模型的“学习能力边界”（能学什么，不能学什么）</td><td>提供“候选目标函数”（模型从版本空间中选一个假设作为最终模型）</td></tr><tr><td><strong>极端情况</strong></td><td>无偏学习时，假设空间无限大</td><td>训练数据足够多（覆盖所有情况）时，版本空间只有1个假设（即目标函数）</td></tr></tbody></table><h2 id="四、关键应用：为什么需要理解这两个概念？">四、关键应用：为什么需要理解这两个概念？</h2><ol><li><p><strong>解释“过拟合”与“欠拟合”</strong></p><ul><li>欠拟合：模型的假设空间太小（如用线性模型拟合非线性数据），导致版本空间中没有“接近目标函数”的假设；</li><li>过拟合：训练数据有噪声，导致版本空间中包含“错误假设”（如记住噪声样本的假设），而模型选择了这类假设。</li></ul></li><li><p><strong>指导模型选择</strong><br>选择模型本质是选择“合适的假设空间”：</p><ul><li>简单任务（如线性可分数据）：用小假设空间（如线性回归），避免过拟合；</li><li>复杂任务（如图像分类）：用大假设空间（如深度神经网络），避免欠拟合。</li></ul></li><li><p><strong>理解“归纳学习的本质”</strong><br>机器学习的核心是“从有限训练数据中，从假设空间筛选出版本空间，再选择一个假设作为最终模型”——这一过程的本质是“归纳推理”，而假设空间和版本空间正是这一推理过程的数学抽象。</p></li></ol><h2 id="五、总结">五、总结</h2><ul><li><strong>假设空间</strong>是“模型能想到的所有规律”，由归纳偏置决定，是学习的“候选池”；</li><li><strong>版本空间</strong>是“符合训练数据的规律”，由归纳偏置和训练数据共同决定，是学习的“有效候选池”；</li><li>二者的关系是“全集与子集”，训练的过程就是“从假设空间筛选出版本空间，再从版本空间选择最终模型”。</li></ul><p>理解这两个概念，能帮助我们更深刻地把握模型的学习边界、数据的作用，以及过拟合/欠拟合的本质，从而更科学地设计和调优机器学习模型。</p>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>媒体接入控制的基本概念</title>
    <link href="/2025/10/08/%E5%AA%92%E4%BD%93%E6%8E%A5%E5%85%A5%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/"/>
    <url>/2025/10/08/%E5%AA%92%E4%BD%93%E6%8E%A5%E5%85%A5%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/</url>
    
    <content type="html"><![CDATA[<h2 id="一、核心定义">一、核心定义</h2><p>媒体接入控制（MAC，Medium Access Control）是数据链路层中针对<strong>共享信道</strong>的关键技术，核心目标是协调多个发送 / 接收站点对共享传输媒体的占用，避免因多站点同时使用信道导致的通信问题。</p><h2 id="二、媒体接入控制的分类及详解">二、媒体接入控制的分类及详解</h2><p>媒体接入控制主要分为<strong>静态划分信道</strong>和<strong>动态接入控制</strong>两大类，其中动态接入控制又细分为受控接入和随机接入，具体差异如下表所示：</p><table><thead><tr><th>大类</th><th>子类</th><th>核心原理</th><th>特点 / 优缺点</th><th>适用场景</th></tr></thead><tbody><tr><td><strong>静态划分信道</strong></td><td>频分多址（FDMA）</td><td>预先将信道的频率资源固定分配给不同站点</td><td>- 优点：无冲突，分配规则简单 - 缺点：灵活性差，对<strong>突发性数据传输</strong>的信道利用率极低</td><td>通常用于无线网络的<strong>物理层</strong>，不用于数据链路层</td></tr><tr><td></td><td>时分多址（TDMA）</td><td>预先将信道的时间资源固定划分为多个时隙，分配给不同站点</td><td>同频分多址，固定分配导致灵活性和利用率不足</td><td>同上（无线网络物理层）</td></tr><tr><td></td><td>码分多址（CDMA）</td><td>预先为不同站点分配独特的编码，站点通过专属编码在同一频段 / 时间传输数据</td><td>同频分多址，固定编码分配限制灵活性</td><td>同上（无线网络物理层）</td></tr><tr><td><strong>动态接入控制</strong></td><td>受控接入 - 集中控制</td><td>存在 1 个 “主站”，主站以循环方式轮询各站点，仅被轮询到且有数据的站点可发送</td><td>- 优点：有序控制，冲突少 - 缺点：存在<strong>单点故障</strong>（主站故障则整个系统瘫痪），已逐渐被淘汰</td><td>早期共享信道场景，目前应用较少</td></tr><tr><td></td><td>受控接入 - 分散控制（令牌环）</td><td>各站点平等，连接成环形网络；“令牌”（特殊控制帧）沿环逐站传递，仅持有令牌的站点可发送数据，发送后传递令牌</td><td>- 优点：无主站依赖，站点地位平等 - 缺点：环形拓扑维护复杂，令牌丢失会导致通信中断</td><td>早期环形局域网，目前应用较少</td></tr><tr><td></td><td>随机接入</td><td>所有站点通过 “竞争” 随机在信道上发送数据；若多站点同时发送，会产生 “碰撞（冲突）”，导致发送失败</td><td>- 优点：灵活性高，适应突发性数据传输 - 关键问题：需解决 “如何避免冲突” 和 “冲突后如何恢复通信”</td><td>共享式以太网（经典应用）；无线局域网（因无线信道广播特性，仍依赖此技术）</td></tr></tbody></table><h2 id="三、技术发展趋势">三、技术发展趋势</h2><p>随着交换技术成熟和成本降低，<strong>有线领域</strong>已发生根本性转变：</p><ul><li>过去的 “共享式局域网”（依赖随机接入等共享信道技术），已被 “交换式局域网” 完全取代；</li><li>交换式局域网基于 “点对点链路” 和 “链路层交换机”，无需共享信道，性能更高。</li></ul><p>而<strong>无线领域</strong>因 “无线信道的广播天性”，无法采用点对点交换架构，仍需使用共享媒体技术（如随机接入）。</p>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PPP协议</title>
    <link href="/2025/10/08/PPP%E5%8D%8F%E8%AE%AE/"/>
    <url>/2025/10/08/PPP%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="一、协议基础与定位">一、协议基础与定位</h2><ol><li><strong>核心定位</strong>：PPP是目前使用最广泛的<strong>点对点数据链路层协议</strong>，主要用于解决用户设备与ISP（互联网服务提供商，如中国电信、中国联通、中国移动）之间的网络接入问题，是用户接入因特网的关键数据链路层技术，常与PPPoE（PPP over Ethernet）协议配合使用。</li><li><strong>发展与标准</strong>：由因特网工程任务组（IETF）于1992年制定，经1993-1994年修订后成为因特网正式标准，核心标准文档为<strong>RFC1661</strong>（《The Point-to-Point Protocol (PPP)》）和<strong>RFC1662</strong>（《PPP in HDLC-like Framing》），此外还有多个扩展标准（如RFC1598定义PPP在X.25中的应用、RFC1618定义PPP over ISDN等）。</li></ol><h2 id="二、协议核心构成">二、协议核心构成</h2><p>PPP协议通过三部分协同工作，实现点对点链路的高效数据传输，具体如下：</p><table><thead><tr><th>构成部分</th><th>核心功能</th><th>关键说明</th></tr></thead><tbody><tr><td>对各种协议数据报的封装方法（封装成帧）</td><td>将网络层不同协议的数据包（如IP、IPX、AppleTalk）封装成PPP帧，适配物理层传输</td><td>是数据在链路层传输的“包装规范”，确保数据格式统一</td></tr><tr><td>链路控制协议（LCP）</td><td>建立、配置、测试数据链路连接，协商链路参数</td><td>负责链路的“初始化与维护”，是PPP链路建立的基础</td></tr><tr><td>一套网络控制协议（NCPs）</td><td>为不同网络层协议提供支持，配置网络层参数</td><td>每种NCP对应一种网络层协议，如IPCP（IP控制协议）用于配置IP地址</td></tr></tbody></table><h2 id="三、PPP帧格式">三、PPP帧格式</h2><p>PPP帧分为首部、数据部分和尾部，各字段功能与规格明确，具体结构如下：</p><h3 id="1-帧结构总览">1. 帧结构总览</h3><table><thead><tr><th>字段</th><th>标志（F）</th><th>地址（A）</th><th>控制（C）</th><th>协议（P）</th><th>数据部分</th><th>帧检验序列（FCS）</th><th>标志（F）</th></tr></thead><tbody><tr><td>长度</td><td>1字节</td><td>1字节</td><td>1字节</td><td>2字节</td><td>≤1500字节</td><td>2字节</td><td>1字节</td></tr><tr><td>功能</td><td>帧的定界符，取值为<code>0x7E</code>（二进制<code>01111110</code>）</td><td>预留，固定取值<code>0xFF</code>，目前无实际作用</td><td>预留，固定取值<code>0x03</code>，目前无实际作用</td><td>指明数据部分的协议类型，用于上层协议分发</td><td>承载网络层数据包（如IP数据报、LCP/NCP分组）</td><td>基于CRC-CCITT（公式：<code>X¹⁶+X¹²+X⁵+1</code>）计算的校验位，检测帧传输错误</td><td>与首部标志一致，确保帧边界完整</td></tr></tbody></table><h3 id="2-协议（P）字段关键取值">2. 协议（P）字段关键取值</h3><table><thead><tr><th>协议字段值</th><th>对应数据类型</th><th>说明</th></tr></thead><tbody><tr><td><code>0x0021</code></td><td>IP数据报</td><td>数据部分需送交网络层IP协议处理</td></tr><tr><td><code>0xC021</code></td><td>LCP分组</td><td>数据部分需送交链路层LCP协议处理</td></tr><tr><td><code>0x8021</code></td><td>NCP分组</td><td>数据部分需送交对应NCP协议处理（如IPCP）</td></tr></tbody></table><h2 id="四、透明传输机制">四、透明传输机制</h2><p>透明传输是指确保帧内数据部分中的<code>0x7E</code>（帧定界符）、控制字符等不被误识别为帧边界，PPP针对不同链路类型采用两种方法：</p><h3 id="1-面向字节的异步链路：字节填充法（插入转义字符）">1. 面向字节的异步链路：字节填充法（插入转义字符）</h3><ul><li><strong>发送方处理规则</strong>：<ol><li>若数据中出现<code>0x7E</code>（定界符），替换为<code>0x7D</code>（转义字符）+<code>0x5E</code>；</li><li>若数据中出现<code>0x7D</code>（转义字符），替换为<code>0x7D</code>+<code>0x5D</code>；</li><li>若数据中出现ASCII控制字符（数值＜<code>0x20</code>），在该字符前插入<code>0x7D</code>，并将字符编码+<code>0x20</code>。</li></ol></li><li><strong>接收方处理规则</strong>：执行反向变换，恢复原始数据（如<code>0x7D+0x5E</code>还原为<code>0x7E</code>，<code>0x7D+0x5D</code>还原为<code>0x7D</code>）。</li></ul><h3 id="2-面向比特的同步链路：比特填充法（插入比特0）">2. 面向比特的同步链路：比特填充法（插入比特0）</h3><ul><li><strong>发送方处理规则</strong>：扫描数据部分的比特流，每发现5个连续的“1”，立即插入1个“0”（例：<code>0111110</code>→<code>01111100</code>）；</li><li><strong>接收方处理规则</strong>：扫描数据部分的比特流，每发现5个连续的“1”，删除其后的1个“0”，恢复原始比特流。</li></ul><h2 id="五、差错检测机制">五、差错检测机制</h2><p>PPP采用<strong>帧检验序列（FCS）</strong> 实现差错检测，具体流程：</p><ol><li>发送方：基于CRC-CCITT算法，对“地址（A）+控制（C）+协议（P）+数据部分”计算FCS值，封装到FCS字段；</li><li>接收方：收到帧后，对相同字段重新计算FCS，与帧中FCS字段对比——若一致则接收帧，若不一致则丢弃帧；</li><li>注意：PPP数据链路层<strong>不提供可靠传输服务</strong>（无重传机制），可靠性需由上层协议（如TCP）保障。</li></ol><h2 id="六、工作状态与链路建立流程">六、工作状态与链路建立流程</h2><p>PPP链路建立需经历“物理层连接→LCP配置→鉴别→NCP配置→数据通信→链路终止”六个阶段，具体流程如下：</p><ol><li><strong>静止状态</strong>：链路未建立，无物理层连接；</li><li><strong>物理层连接建立</strong>：检测到载波信号，物理层链路接通；</li><li><strong>LCP配置协商</strong>：<ul><li>双方交换LCP分组，协商链路参数（如最大帧长、是否启用鉴别）；</li><li>协商成功进入下一阶段，失败则终止链路；</li></ul></li><li><strong>鉴别阶段</strong>：<ul><li>可选流程，支持三种方式：无需鉴别、口令鉴别协议（PAP）、挑战握手鉴别协议（CHAP）；</li><li>鉴别成功进入NCP配置，失败则终止链路；</li></ul></li><li><strong>NCP配置阶段</strong>：<ul><li>双方交换网络层特定的NCP分组（如IP场景下的IPCP），配置网络层参数（如分配IP地址）；</li><li>配置完成后，链路进入“网络打开”状态，可进行数据通信；</li></ul></li><li><strong>链路终止</strong>：<ul><li>触发条件：载波停止、出现故障、收到终止请求；</li><li>终止后返回“静止状态”。</li></ul></li></ol>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>可靠传输-选择重传协议</title>
    <link href="/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE/"/>
    <url>/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="一、协议背景与核心目标">一、协议背景与核心目标</h2><h3 id="1-问题起源">1. 问题起源</h3><p>回退N帧协议（GBN）存在资源浪费缺陷：</p><ul><li>接收窗口尺寸 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，仅能按序接收数据</li><li>若某一数据分组误码，后续无错分组会因&quot;失序&quot;被丢弃</li><li>导致发送方超时重传这些无错分组，浪费通信资源</li></ul><h3 id="2-核心目标">2. 核心目标</h3><ul><li>仅重传误码分组</li><li>增大接收窗口尺寸 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></li><li>缓存&quot;序号在接收窗口内、无错但失序&quot;的分组</li><li>待缺失分组补全后再一并提交上层</li><li>提升传输效率</li></ul><h2 id="二、协议关键机制">二、协议关键机制</h2><h3 id="1-分组序号编码">1. 分组序号编码</h3><ul><li>采用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 比特编号</li><li>序号范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim 2^n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></li><li>示例：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">n = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>，序号范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">0 \sim 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span></li></ul><h3 id="2-窗口尺寸规则">2. 窗口尺寸规则</h3><h4 id="发送窗口-W-T">发送窗口 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></h4><p>取值范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">1 &lt; W_T \leq 2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><p>关键约束：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_T = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 时：退化为停止-等待协议</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>&gt;</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">W_T &gt; 2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 时：接收方无法区分新/旧分组</li></ul><p>示例：取最大值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">W_T = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mn>3</mn><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">2^{3-1} = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>）</p><h4 id="接收窗口-W-R">接收窗口 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></h4><p>取值范围：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>R</mi></msub><mo>≤</mo><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">1 &lt; W_R \leq W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p>关键说明：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 时：退化为 GBN 协议</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>&gt;</mo><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_R &gt; W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 无意义</li></ul><p>示例：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">W_R = W_T = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span></p><h3 id="3-发送方行为规则">3. 发送方行为规则</h3><ol><li>批量发送：连续发送序号在发送窗口内的分组</li><li>窗口滑动：<ul><li>仅在按序收到已发送分组确认时向前滑动</li><li>收到未按序确认时，记录确认但窗口不滑动</li></ul></li><li>超时重传：仅重传超时且未收到确认的分组</li></ol><h3 id="4-接收方行为规则">4. 接收方行为规则</h3><ol><li>分组接收：可接收窗口内无错但失序的分组，并缓存</li><li>确认方式：逐一确认，不使用累积确认</li><li>窗口滑动：仅在按序接收完当前窗口内分组时滑动</li></ol><h2 id="三、错误案例：窗口尺寸超限">三、错误案例：窗口尺寸超限</h2><h3 id="问题场景">问题场景</h3><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">W_T = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">W_R = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">n = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>（实际最大值应为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>）</li></ul><h3 id="风险">风险</h3><p>重传计时器超时后，接收方无法区分：</p><ul><li>重传的旧分组</li><li>新窗口内的新分组</li></ul><h2 id="四、协议对比">四、协议对比</h2><table><thead><tr><th>协议类型</th><th>接收窗口 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th><th>确认方式</th><th>重传策略</th><th>效率</th></tr></thead><tbody><tr><td>停止-等待协议(SW)</td><td>1</td><td>逐一确认</td><td>超时重传1个分组</td><td>低</td></tr><tr><td>回退N帧协议(GBN)</td><td>1</td><td>累积确认</td><td>超时重传所有后续分组</td><td>中</td></tr><tr><td>选择重传协议(SR)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">&gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>逐一确认</td><td>仅重传超时/误码分组</td><td>高</td></tr></tbody></table><h2 id="附：SR协议伪代码示例">附：SR协议伪代码示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SelectiveRepeatProtocol</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, window_size</span>):<br>        <span class="hljs-variable language_">self</span>.window_size = window_size<br>        <span class="hljs-variable language_">self</span>.send_window = []<br>        <span class="hljs-variable language_">self</span>.recv_window = []<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_packet</span>(<span class="hljs-params">self, packet</span>):<br>        <span class="hljs-comment"># 发送数据包逻辑</span><br>        <span class="hljs-keyword">pass</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">receive_packet</span>(<span class="hljs-params">self, packet</span>):<br>        <span class="hljs-comment"># 接收数据包逻辑</span><br>        <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>可靠传输-回退N帧协议</title>
    <link href="/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE/"/>
    <url>/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E5%9B%9E%E9%80%80N%E5%B8%A7%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<h1>回退 N 帧协议（Go-Back-N, GBN）详解</h1><h2 id="一、协议背景与定位">一、协议背景与定位</h2><p>回退 N 帧协议（Go-Back-N，GBN）是数据链路层实现可靠传输的关键协议，属于<strong>连续 ARQ 协议</strong>与<strong>滑动窗口协议</strong>的一种。其设计初衷是解决停止 - 等待协议（SW）信道利用率低的问题 —— 停止 - 等待协议一次只能发送 1 个分组，需等待确认后再发下一个，若出现超时重传，利用率更低；而 GBN 通过 “流水线传输” 机制，允许发送方连续发送多个分组，大幅提升信道利用率。</p><h2 id="二、协议核心参数与规则">二、协议核心参数与规则</h2><h3 id="1-分组编号（序号）">1. 分组编号（序号）</h3><ul><li><strong>比特数</strong>：文档中以 3 个比特为例，分组序号范围为<strong>0~7</strong>（共 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>3</mn></msup><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">2^3=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> 个序号）。</li><li><strong>作用</strong>：标识分组顺序，避免接收方混淆新 / 旧分组，确保按序传输。</li></ul><h3 id="2-窗口尺寸规则">2. 窗口尺寸规则</h3><p>窗口是协议的核心机制，分为发送窗口（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）和接收窗口（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>），尺寸需严格遵循以下规则：</p><table><thead><tr><th>窗口类型</th><th>尺寸范围（n 为序号比特数）</th><th>文档示例（n=3）</th><th>核心作用</th></tr></thead><tbody><tr><td>发送窗口（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 &lt; W_T \leq 2^n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">W_T=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>（≤7）</td><td>限制发送方未确认时可连续发送的分组数量</td></tr><tr><td>接收窗口（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>（固定）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>仅允许按序接收分组，不支持乱序缓存</td></tr></tbody></table><ul><li><strong>关键注意点</strong>：若发送窗口尺寸超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>（如文档中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">W_T=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>），接收方将无法分辨新 / 旧分组（例如序号 0 可能是 “新分组 0” 或 “重传分组 0”），导致传输错误。</li></ul><h2 id="三、发送方核心逻辑">三、发送方核心逻辑</h2><ol><li><strong>连续发送</strong>：在未收到接收方确认的情况下，可将序号落在 “发送窗口内” 的所有分组连续发送（无需等待单个确认）。</li><li><strong>窗口滑动条件</strong>：仅当收到对已发送分组的确认时，发送窗口才向前滑动对应位数（例如确认了序号 3 的分组，窗口从 “0~4” 滑动到 “1~5”）。</li><li><strong>重传机制</strong>：<ul><li><strong>超时重传</strong>：若某个分组超时未收到确认，发送方需<strong>回退重传该分组及后续所有已发送的分组</strong>（即 “回退 N 帧” 的由来）。例如：发送了 4、5、6、7 号分组，若 4 号超时，需重传 4、5、6、7 共 4 个分组。</li><li><strong>快速重传</strong>：若收到<strong>多个重复确认</strong>（如连续收到 ACK3），可在超时计时器到期前提前重传（具体收到多少个重复确认触发重传，由实际实现决定）。</li></ul></li></ol><h2 id="四、接收方核心逻辑">四、接收方核心逻辑</h2><ol><li><strong>按序接收</strong>：因 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，仅接收 “序号落在接收窗口内” 且无差错的分组，接收后将窗口向前滑动 1 位。</li><li><strong>确认机制</strong>：采用<strong>累积确认</strong>（核心优化），而非逐个确认：<ul><li>无需对每个收到的分组单独发确认，可在连续收到多个按序分组后，仅对 “最后一个按序分组” 发送确认（例如收到 0、1、2 号分组，仅发 ACK2，表示 0~2 号均已正确接收）。</li><li>可通过 “捎带确认” 减少开销：在接收方自身有数据分组要发送时，顺带确认之前按序接收的分组。</li></ul></li><li><strong>乱序处理</strong>：收到未按序的分组（如期望接收 4 号，却收到 5 号），直接丢弃，并<strong>重发最近一次按序接收的分组的确认</strong>（如重发 ACK3），提示发送方 “4 号分组丢失，需重传”。</li></ol><h2 id="五、典型场景分析">五、典型场景分析</h2><h3 id="1-无差错场景">1. 无差错场景</h3><ul><li>发送方连续发送窗口内分组（如 0~4 号）；</li><li>接收方按序接收 0、1、2、3、4 号，通过累积确认发送 ACK4（表示 0~4 均已接收）；</li><li>发送方收到 ACK4 后，发送窗口从 “0~4” 滑动到 “1~5”，继续发送 5、6 等分组。</li></ul><h3 id="2-有差错场景（分组丢失-误码）">2. 有差错场景（分组丢失 / 误码）</h3><ul><li>例：发送方发送 0~7 号分组，其中 5 号分组误码，6、7、0、1 号分组虽正确到达；</li><li>接收方因 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，仅接收 0~4 号（按序），并发 ACK4；收到 5 号误码分组后丢弃，后续 6、7、0、1 号均为乱序，也丢弃，且持续重发 ACK4；</li><li>发送方未收到 5 号及以后的确认，超时后需<strong>回退重传 5、6、7 号分组</strong>（及后续已发送的分组）—— 即使 6、7 号曾正确到达，因 5 号丢失，仍需 “牵连重传”。</li><li><strong>关键结论</strong>：若通信线路质量差（差错率高），GBN 的信道利用率会大幅下降，甚至接近停止 - 等待协议。</li></ul><h2 id="六、协议优缺点总结">六、协议优缺点总结</h2><table><thead><tr><th>优点</th><th>缺点</th></tr></thead><tbody><tr><td>1. 流水线传输，大幅提升信道利用率（优于停止 - 等待协议）； 2. 累积确认减少确认开销； 3. 快速重传机制降低超时等待时间。</td><td>1. 接收方不支持乱序缓存，差错分组后续的正确分组需 “牵连重传”； 2. 线路质量差时，重传开销大，利用率接近停止 - 等待协议； 3. 发送窗口尺寸受序号比特数限制，灵活性较低。</td></tr></tbody></table><h2 id="七、与其他协议的关联">七、与其他协议的关联</h2><p>文档中提及 GBN 与另外两种可靠传输协议的对比，核心差异如下：</p><table><thead><tr><th>协议类型</th><th>发送窗口尺寸</th><th>接收窗口尺寸</th><th>核心特点</th></tr></thead><tbody><tr><td>停止 - 等待协议（SW）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_T=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>简单但利用率低，一次发 1 个</td></tr><tr><td>回退 N 帧协议（GBN）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 &lt; W_T \leq 2^n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_R=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td><td>连续发送，差错时牵连重传</td></tr><tr><td>选择重传协议（SR）</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">W_T=W_R=2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">W_R=2^{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></td><td>支持乱序缓存，仅重传差错分组（利用率更高，但复杂度高）</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>可靠传输-停止等待协议</title>
    <link href="/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE/"/>
    <url>/2025/10/08/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93-%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="一、停止-等待协议（SW）核心机制">一、停止 - 等待协议（SW）核心机制</h2><p>停止 - 等待协议是最基础的可靠传输协议，核心逻辑为 “发送方发送一个数据分组后，停止发送并等待接收方确认，收到确认后再发送下一个分组”，具体机制包含以下 4 个关键模块：</p><h3 id="1-确认与否认（ACK-NAK）">1. 确认与否认（ACK/NAK）</h3><ul><li><strong>正常场景</strong>：发送方发送<code>DATA</code>分组，接收方正确接收后，返回<code>ACK</code>（确认）分组，发送方收到<code>ACK</code>后继续发送下一个<code>DATA</code>。</li><li><strong>误码场景</strong>：接收方检测到<code>DATA</code>分组存在误码时，有两种处理方式：<ul><li>直接丢弃误码分组，等待发送方超时重传（适用于误码率较低的链路）；</li><li>向发送方发送<code>NAK</code>（否认）分组，触发发送方尽早重传（适用于误码率较高的点对点链路）。</li></ul></li></ul><h3 id="2-超时重传">2. 超时重传</h3><ul><li><strong>核心问题</strong>：若<code>DATA</code>分组丢失或<code>ACK</code>分组丢失，发送方会一直等待确认，陷入死锁。</li><li><strong>解决方案</strong>：发送方发送<code>DATA</code>分组后，立即启动<strong>超时计时器</strong>；若计时器超时仍未收到<code>ACK/NAK</code>，则重传原<code>DATA</code>分组。</li><li><strong>重传时间设定</strong>：需 “略大于发送方到接收方的平均往返时间（RTT）”，避免过早重传导致资源浪费，或过晚重传导致时延增加。<ul><li>数据链路层：点对点往返时间稳定，重传时间易设定；</li><li>运输层：端到端往返时间不确定，重传时间设定难度较高。</li></ul></li></ul><h3 id="3-分组编号（避免重复）">3. 分组编号（避免重复）</h3><ul><li><strong>数据分组编号</strong>：由于协议 “停等” 特性，只需 1 个比特编号（0 和 1）即可区分新分组与重复分组（确保每次新分组编号与上一次不同）。</li><li><strong>ACK 分组编号</strong>：理论上需与数据分组编号比特数一致（帮助发送方判断<code>ACK</code>是否重复），但数据链路层极少出现<code>ACK</code>迟到场景，因此可省略<code>ACK</code>编号。</li></ul><h3 id="4-异常场景处理">4. 异常场景处理</h3><p>文档明确了 4 种典型异常场景的协议行为，具体如下表：</p><table><thead><tr><th>异常场景</th><th>发送方行为</th><th>接收方行为</th><th>最终结果</th></tr></thead><tbody><tr><td><code>DATA</code>分组丢失</td><td>启动超时计时器，超时后重传<code>DATA</code></td><td>未收到<code>DATA</code>，不发送<code>ACK/NAK</code></td><td>重传<code>DATA</code>被正确接收，返回<code>ACK</code></td></tr><tr><td><code>ACK</code>分组丢失</td><td>未收到<code>ACK</code>，超时后重传<code>DATA</code></td><td>已正确接收原<code>DATA</code>，收到重传<code>DATA</code>后丢弃（因编号重复），重新发送<code>ACK</code></td><td>发送方收到重发的<code>ACK</code>，继续发送下一个<code>DATA</code></td></tr><tr><td><code>DATA</code>分组误码</td><td>若收到<code>NAK</code>则立即重传；若未收到<code>NAK</code>，则超时后重传</td><td>丢弃误码<code>DATA</code>，可选发送<code>NAK</code></td><td>重传<code>DATA</code>被正确接收，返回<code>ACK</code></td></tr><tr><td><code>ACK</code>分组迟到</td><td>未及时收到<code>ACK</code>，超时后重传<code>DATA</code></td><td>已收到原<code>DATA</code>，收到重传<code>DATA</code>后丢弃，重新发送<code>ACK</code></td><td>发送方收到迟到 / 重发的<code>ACK</code>，停止重传</td></tr></tbody></table><h2 id="二、停止-等待协议的信道利用率">二、停止 - 等待协议的信道利用率</h2><h3 id="1-利用率公式">1. 利用率公式</h3><p>信道利用率（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span>）表示有效传输时间占总周期时间的比例，公式如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>U</mi><mo>≈</mo><mfrac><msub><mi>T</mi><mi>D</mi></msub><mrow><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><msub><mi>T</mi><mi>D</mi></msub><mo>+</mo><msub><mi>T</mi><mi>A</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">U \approx \frac{T_D}{RTT + T_D + T_A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">T_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>：数据分组发送时延（发送分组所需时间）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">RTT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span>：往返时间（分组从发送到接收ACK的总时间）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>A</mi></msub></mrow><annotation encoding="application/x-tex">T_A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>：ACK分组发送时延（通常远小于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">T_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，可忽略）</li></ul><p>简化公式为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>U</mi><mo>≈</mo><mfrac><msub><mi>T</mi><mi>D</mi></msub><mrow><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><msub><mi>T</mi><mi>D</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">U \approx \frac{T_D}{RTT + T_D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h3 id="2-核心缺陷">2. 核心缺陷</h3><p>当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">RTT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RTT</span></span></span></span>远大于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">T_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（如卫星链路）时，信道利用率极低；若出现重传，利用率会进一步下降 —— 这也是 GBN 和 SR 协议产生的核心原因（弥补 SW 利用率低的缺陷）。</p><h2 id="三、相关协议对比（GBN-与-SR）">三、相关协议对比（GBN 与 SR）</h2><p>文档虽未详细展开 GBN 和 SR 协议，但明确其设计目标是 “解决 SW 信道利用率低的问题”，三者核心差异如下：</p><table><thead><tr><th>协议</th><th>发送方式</th><th>重传策略</th><th>信道利用率</th><th>复杂度</th></tr></thead><tbody><tr><td>停止 - 等待（SW）</td><td>一次发 1 个，停等确认</td><td>仅重传超时 / 否认的分组</td><td>最低（RTT 越大越低）</td><td>最低</td></tr><tr><td>回退 N 帧（GBN）</td><td>连续发 N 个，无需等待确认</td><td>超时后重传该分组及后续所有分组</td><td>中等</td><td>中等</td></tr><tr><td>选择重传（SR）</td><td>连续发 N 个，无需等待确认</td><td>仅重传超时 / 否认的分组</td><td>最高</td><td>最高（需缓存已发未确认分组）</td></tr></tbody></table><h2 id="四、总结">四、总结</h2><p>停止 - 等待协议是可靠传输的 “基础模型”，通过 “停等确认 + 超时重传 + 分组编号” 实现数据可靠交付，优点是逻辑简单、易于实现，缺点是信道利用率极低（尤其长时延链路）。GBN 和 SR 协议在此基础上优化，通过 “连续发送 + 选择性重传” 提升利用率，但复杂度相应增加。三者共同构成了计算机网络各层可靠传输的核心技术框架，需结合场景选择适用协议</p>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>可靠传输的基本概念</title>
    <link href="/2025/10/07/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/"/>
    <url>/2025/10/07/%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/</url>
    
    <content type="html"><![CDATA[<h2 id="一、差错检测技术">一、差错检测技术</h2><p>接收方数据链路层可通过<strong>差错检测技术</strong>（典型技术为循环冗余校验 CRC），检测帧在传输过程中是否产生<strong>误码（比特错误）</strong>，核心是借助帧尾的<strong>FCS 字段（检错码）</strong> 实现检测。</p><h2 id="二、数据链路层的两种服务类型">二、数据链路层的两种服务类型</h2><table><thead><tr><th>服务类型</th><th>核心特点</th><th>适用场景逻辑</th></tr></thead><tbody><tr><td>不可靠传输服务</td><td>仅丢弃存在误码的帧，不额外处理</td><td>适用于误码率低的场景，可减少开销</td></tr><tr><td>可靠传输服务</td><td>确保 “发送端发送什么，接收端就收到什么”</td><td>适用于误码率高的场景，需保障数据准确性</td></tr></tbody></table><h2 id="三、不同链路的服务需求差异">三、不同链路的服务需求差异</h2><ol><li><strong>有线链路</strong>：误码率较低，为减小开销，<strong>不要求</strong>数据链路层提供可靠传输服务；若出现误码，由上层协议处理可靠传输问题。</li><li><strong>无线链路</strong>：易受干扰导致误码率较高，<strong>必须要求</strong>数据链路层向上层提供可靠传输服务。</li></ol><h2 id="四、传输差错的分类">四、传输差错的分类</h2><p>比特差错只是传输差错的一种，从计算机网络体系结构整体来看，传输差错可分为四类，具体如下：</p><table><thead><tr><th>差错类型</th><th>定义</th><th>常见出现层级</th></tr></thead><tbody><tr><td>比特差错</td><td>数据传输中比特位发生错误（如 0 变 1、1 变 0）</td><td>数据链路层</td></tr><tr><td>分组丢失</td><td>分组在传输中被丢弃（如路由器输入队列满时主动丢弃）</td><td>多出现于上层（非数据链路层）</td></tr><tr><td>分组失序</td><td>分组到达接收端的顺序与发送顺序不一致</td><td>多出现于上层（非数据链路层）</td></tr><tr><td>分组重复</td><td>同一分组被多次传输到接收端</td><td>多出现于上层（非数据链路层）</td></tr></tbody></table><h2 id="五、可靠传输的层级范围与选择原则">五、可靠传输的层级范围与选择原则</h2><ol><li><strong>层级范围</strong>：可靠传输服务不局限于数据链路层，网络体系结构中<strong>其他各层均可选择实现</strong>。例如：<ul><li>运输层：TCP 提供面向连接的可靠传输服务，UDP 提供无连接的不可靠传输服务。</li><li>网际层：IP 提供无连接的不可靠传输服务。</li><li>数据链路层：802.11 无线局域网要求实现可靠传输，以太网不要求。</li></ul></li><li><strong>选择原则</strong>：可靠传输实现复杂、开销较大，<strong>是否使用取决于应用需求</strong>，需在 “可靠性” 与 “开销成本” 间权衡。</li></ol>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>差错检测</title>
    <link href="/2025/10/07/%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B/"/>
    <url>/2025/10/07/%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="一、核心背景：比特差错与误码率">一、核心背景：比特差错与误码率</h2><ol><li><strong>比特差错定义</strong>：实际通信链路非理想，传输中比特可能发生翻转（1 变 0 或 0 变 1），此现象称为比特差错。</li><li><strong>误码率（BER）</strong>：衡量差错程度的指标，指一段时间内传输错误的比特数占总传输比特数的比率。</li><li><strong>差错检测的必要性</strong>：使用差错检测码检测传输中的比特差错，是数据链路层的重要任务之一，常见应用场景为以太网 V2 的 MAC 帧、PPP 帧等帧结构，二者均包含用于差错检测的 FCS（帧检验序列）字段，具体帧结构如下：</li></ol><p><strong>以太网 V2 的 MAC 帧</strong>：总长度最大为 1518 字节，各字段及长度如下表：</p><table><thead><tr><th>字段</th><th>目的地址</th><th>源地址</th><th>类型</th><th>数据载荷</th><th>FCS</th></tr></thead><tbody><tr><td>长度（字节）</td><td>6</td><td>6</td><td>2</td><td>46~1500</td><td>4</td></tr></tbody></table><p><strong>PPP 帧</strong>：各字段及长度如下表：</p><table><thead><tr><th>字段</th><th>标志</th><th>地址</th><th>控制</th><th>协议</th><th>数据载荷</th><th>FCS</th><th>标志</th></tr></thead><tbody><tr><td>长度（字节）</td><td>1</td><td>1</td><td>1</td><td>2</td><td>不超过 1500</td><td>2</td><td>1</td></tr></tbody></table><h2 id="二、主流差错检测方法">二、主流差错检测方法</h2><h3 id="（一）奇偶校验">（一）奇偶校验</h3><ol><li><strong>核心原理</strong>：在待发送数据后添加 1 位奇偶校验位，使整体数据（含校验位）中 “1” 的个数满足特定规则 —— 奇校验（“1” 的个数为奇数）或偶校验（“1” 的个数为偶数）。</li><li><strong>差错检测能力</strong>：<ul><li><strong>可检出错误</strong>：当传输过程中发生奇数个位误码时，数据中 “1” 的奇偶性改变，可检测出错误。例如奇校验下，原数据 “11011”（含校验位共 5 个 1）传输中 1 位误码后，“1” 的个数变为 4（偶数），奇偶性改变，能检出错误。</li><li><strong>不可检出错误</strong>：当发生偶数个位误码时，“1” 的奇偶性不变，无法检测出错误。例如偶校验下，原数据 “0111101”（含校验位共 5 个 1，偶校验时需调整校验位使 “1” 的个数为偶数）传输中 2 位误码后，“1” 的个数仍为偶数，奇偶性未变，漏检错误。</li></ul></li></ol><h3 id="（二）循环冗余校验（CRC）">（二）循环冗余校验（CRC）</h3><h4 id="1-核心机制">1. 核心机制</h4><ul><li><strong>前提约定</strong>：收发双方预先约定一个生成多项式 G (x)，且生成多项式必须包含最低次项。</li><li><strong>发送方处理</strong>：<ol><li>构造被除数：在待发送数据后添加生成多项式最高次数个 0；</li><li>构造除数：由生成多项式各项系数构成比特串；</li><li>计算冗余码：将被除数与除数进行 “异或除法”（仅做异或运算，无借位），得到的余数即为冗余码，其长度与生成多项式最高次数相同；</li><li>发送数据：将冗余码添加到待发送数据后，形成完整传输数据。</li></ol></li><li><strong>接收方处理</strong>：<ol><li>构造被除数：直接将接收到的完整数据作为被除数；</li><li>构造除数：与发送方一致，由约定的生成多项式各项系数构成比特串；</li><li>验证差错：对被除数和除数进行 “异或除法”，若余数为 0，判定无差错；若余数不为 0，判定传输过程产生误码。</li></ol></li></ul><h4 id="2-生成多项式示例与常用类型">2. 生成多项式示例与常用类型</h4><ul><li><strong>示例</strong>：生成多项式 G (x) = x⁴ + x² + x + 1，其各项系数构成的比特串为 10111（x⁴系数为 1，x³ 系数为 0，x² 系数为 1，x¹ 系数为 1，x⁰系数为 1）。</li><li><strong>常用生成多项式</strong>：<ul><li>CRC-16：G(x) = x¹⁶ + x¹⁵ + x² + 1</li><li>CRC-CCITT：G(x) = x¹⁶ + x¹² + x⁵ + 1</li><li>CRC-32：G(x) = x³² + x²⁶ + x²³ + x²² + x¹⁶ + x¹² + x¹¹ + x¹⁰ + x⁸ + x⁷ + x⁵ + x⁴ + x² + x + 1</li></ul></li></ul><h4 id="3-计算示例">3. 计算示例</h4><ul><li><strong>场景</strong>：待发送信息为 101001，生成多项式 G (x) = x³ + x² + 1（最高次数为 3，各项系数构成比特串 1101）。</li><li><strong>发送方计算冗余码</strong>：<ol><li>构造被除数：待发送信息 101001 后加 3 个 0，得到 101001000；</li><li>构造除数：1101；</li><li>异或除法计算：101001000 ÷ 1101（异或运算），最终余数为 001（因生成多项式最高次数为 3，余数需补 0 凑足 3 位），即冗余码为 001；</li><li>发送数据：101001 + 001 = 101001001。</li></ol></li><li><strong>接收方验证</strong>：<ol><li>若接收到的信息为 101101001，以其为被除数，除数仍为 1101；</li><li>异或除法计算后余数不为 0，判定传输产生误码。</li></ol></li></ul><h2 id="三、差错处理相关补充">三、差错处理相关补充</h2><ol><li><strong>检错码与纠错码的区别</strong>：<ul><li><strong>检错码</strong>：仅能检测帧传输中的差错，无法定位错误，因此不能纠正错误（如奇偶校验、CRC）；</li><li><strong>纠错码</strong>：通过更多冗余信息实现前向纠错（定位并纠正错误），但开销大，在计算机网络中较少使用。</li></ul></li><li><strong>计算机网络中的差错纠正策略</strong>：通常采用 “检错重传” 方式（检测到差错后要求发送方重传数据），或直接丢弃差错帧，具体取决于数据链路层向上层提供的是可靠传输服务还是不可靠传输服务。</li><li><strong>CRC 的优势</strong>：检错能力强（漏检率极低），虽计算复杂，但易于通过硬件实现，因此在数据链路层被广泛应用。</li></ol>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>封装成帧</title>
    <link href="/2025/10/06/%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7/"/>
    <url>/2025/10/06/%E5%B0%81%E8%A3%85%E6%88%90%E5%B8%A7/</url>
    
    <content type="html"><![CDATA[<h2 id="一、封装成帧核心定义">一、封装成帧核心定义</h2><p>封装成帧是数据链路层的核心功能之一，指该层为上层（网络层）交付的协议数据单元（PDU）添加<strong>帧头</strong>和<strong>帧尾</strong>，最终形成可在链路中传输的 “帧”。其中，帧头和帧尾包含关键控制信息，核心作用之一是<strong>帧定界</strong>—— 帮助接收方数据链路层从物理层传递的连续比特流中准确提取出单个帧。</p><h2 id="二、典型帧结构">二、典型帧结构</h2><p>该文档重点介绍了两种主流帧格式，具体结构如下：</p><h3 id="1-以太网-V2-的-MAC-帧">1. 以太网 V2 的 MAC 帧</h3><ul><li><strong>总长度限制</strong>：最大长度为 1518 字节（含帧头、数据载荷、帧尾）。</li><li><strong>字段构成</strong>（按顺序）：</li></ul><table><thead><tr><th>字段名称</th><th>长度（字节）</th><th>核心作用</th></tr></thead><tbody><tr><td>目的地址</td><td>6</td><td>标识帧的接收设备（MAC 地址）</td></tr><tr><td>源地址</td><td>6</td><td>标识帧的发送设备（MAC 地址）</td></tr><tr><td>类型</td><td>2</td><td>指明上层使用的协议（如 IP 协议）</td></tr><tr><td>数据载荷</td><td>46~1500</td><td>承载上层（网络层）交付的协议数据单元</td></tr><tr><td>FCS</td><td>4</td><td>帧检验序列，用于检测帧在传输中的差错</td></tr></tbody></table><ul><li><strong>补充说明</strong>：实际传输时，MAC 帧前会附加 “前导码”（7 字节，用于同步时钟）和 “帧开始定界符”（1 字节，标识帧开始），且帧之间需保留 “帧间间隔”（96 比特时间，避免帧冲突）。</li></ul><h3 id="2-PPP-帧（点对点协议帧）">2. PPP 帧（点对点协议帧）</h3><ul><li><strong>字段构成</strong>（按顺序）：</li></ul><table><thead><tr><th>字段名称</th><th>长度（字节）</th><th>核心作用</th></tr></thead><tbody><tr><td>标志（Flag）</td><td>1</td><td>帧定界符，固定值为<code>01111110</code>，标识帧的开始与结束</td></tr><tr><td>地址</td><td>1</td><td>PPP 为点对点链路，通常设为固定值<code>FF</code>（广播地址）</td></tr><tr><td>控制</td><td>1</td><td>用于流量控制和差错控制，默认值为<code>03</code></td></tr><tr><td>协议</td><td>2</td><td>指明上层协议（如 IP 协议对应<code>0021</code>）</td></tr><tr><td>数据载荷</td><td>≤1500</td><td>承载上层协议数据单元</td></tr><tr><td>FCS</td><td>2</td><td>帧检验序列，检测传输差错</td></tr><tr><td>标志（Flag）</td><td>1</td><td>与帧头标志一致，标识帧结束</td></tr></tbody></table><h2 id="三、透明传输技术">三、透明传输技术</h2><h3 id="1-透明传输定义">1. 透明传输定义</h3><p>数据链路层对上层交付的传输数据无任何限制（即数据中可包含任意比特组合），上层无需关注链路层细节，如同链路层 “不存在”，这一特性称为透明传输。</p><h3 id="2-实现方式（按链路类型分类）">2. 实现方式（按链路类型分类）</h3><h4 id="（1）面向字节的物理链路：字节填充（字符填充）">（1）面向字节的物理链路：字节填充（字符填充）</h4><ul><li><strong>核心逻辑</strong>：若数据中出现与 “标志字段（Flag，<code>01111110</code>）” 或 “转义字符（ESC，<code>1B</code>）” 相同的字节，需在其前插入转义字符<code>ESC</code>，避免被误识别为帧定界符或转义符。</li><li><strong>示例</strong>：<ul><li>原始数据含<code>Flag</code>（<code>01111110</code>）→ 填充后变为<code>ESC + Flag</code>；</li><li>原始数据含<code>ESC</code>（<code>1B</code>）→ 填充后变为<code>ESC + ESC</code>；</li><li>接收方收到后，删除<code>ESC</code>即可恢复原始数据。</li></ul></li></ul><h4 id="（2）面向比特的物理链路：比特填充（零比特填充法）">（2）面向比特的物理链路：比特填充（零比特填充法）</h4><ul><li><strong>核心逻辑</strong>：以 HDLC 协议为例，帧定界符为<code>01111110</code>（含 6 个连续 1）。发送方在数据部分检测到 “5 个连续 1” 时，自动插入 1 个 “0”；接收方检测到 “5 个连续 1+1 个 0” 时，删除该 “0”，恢复原始数据。</li><li><strong>真题示例（2013 年题 37）</strong>：<ul><li>原始比特串：<code>011111000111111</code>；</li><li>填充规则：5 个连续 1 后插 0，处理后为<code>011111000011111010</code>（对应选项 A）；</li><li>最终帧结构：前后附加<code>01111110</code>（标志字段），完整帧为<code>01111110 011111000011111010 01111110</code>。</li></ul></li></ul><h2 id="四、最大传送单元（MTU）">四、最大传送单元（MTU）</h2><ol><li><strong>定义</strong>：为平衡传输效率与差错控制（帧越长，差错重传代价越高），每种数据链路层协议均规定 “帧的数据部分长度上限”，即最大传送单元 MTU。</li><li><strong>核心作用</strong>：限制帧的数据载荷大小（如以太网 V2 的 MAC 帧数据载荷上限为 1500 字节），避免帧过长导致传输效率下降或差错风险增加。</li><li><strong>关系公式</strong>：<code>帧总长度 = 帧头长度 + 数据载荷长度（≤MTU） + 帧尾长度</code>。</li></ol><h2 id="五、关键总结">五、关键总结</h2><table><thead><tr><th>核心概念</th><th>核心内容</th></tr></thead><tbody><tr><td>封装成帧</td><td>数据链路层添加帧头 / 帧尾形成帧，实现帧定界</td></tr><tr><td>典型帧结构</td><td>以太网 V2 MAC 帧（1518 字节上限）、PPP 帧（标志字段定界）</td></tr><tr><td>透明传输</td><td>数据无限制，通过字节填充（面向字节链路）或比特填充（面向比特链路）实现</td></tr><tr><td>MTU</td><td>帧数据部分长度上限，平衡传输效率与差错控制</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数据链路层概述</title>
    <link href="/2025/10/06/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E6%A6%82%E8%BF%B0/"/>
    <url>/2025/10/06/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E6%A6%82%E8%BF%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="一、数据链路层在网络体系结构中的地位">一、数据链路层在网络体系结构中的地位</h2><ol><li><strong>层级位置</strong>：位于物理层之上、网络层之下，是网络体系结构中的关键中间层，负责衔接物理层的硬件传输与网络层的逻辑通信。</li><li><strong>覆盖场景</strong>：适用于多种网络环境的数据传输，包括主机与路由器之间（如主机 H1 与路由器 R1）、路由器与路由器之间（如路由器 R1 与路由器 3）、路由器与网络之间（如路由器 R2 与广域网）等，可跨电话网、局域网、广域网等不同网络类型实现数据交互。</li><li><strong>相邻层级交互</strong>：接收网络层传递的协议数据单元，经处理后通过物理层发送；同时接收物理层传输的信号，处理后向上交付给网络层，形成 “网络层 - 数据链路层 - 物理层” 的完整数据传输链路。</li></ol><h2 id="二、核心概念辨析">二、核心概念辨析</h2><table><thead><tr><th>概念</th><th>定义</th><th>关键特征</th></tr></thead><tbody><tr><td>链路（Link）</td><td>从一个结点到相邻结点的一段物理线路</td><td>无中间交换结点，仅为硬件层面的物理连接</td></tr><tr><td>数据链路（Data Link）</td><td>在链路上添加实现通信协议的硬件和软件</td><td>包含 “物理线路 + 协议软硬件”，具备数据传输控制能力</td></tr><tr><td>数据传输单位</td><td>帧</td><td>数据链路层以 “帧” 为基本单位传输和处理数据，帧由帧头、数据载荷、帧尾组成</td></tr></tbody></table><h2 id="三、数据链路层的三个重要问题">三、数据链路层的三个重要问题</h2><h3 id="（一）封装成帧">（一）封装成帧</h3><ol><li><p><strong>定义</strong>：将网络层交付的协议数据单元（PDU）添加帧头和帧尾，封装成 “帧” 格式，使数据在链路中可被准确识别和传输。</p></li><li><p><strong>典型帧结构（以太网 V2 的 MAC 帧）</strong>：</p></li></ol><table><thead><tr><th>字段</th><th>长度</th><th>作用</th></tr></thead><tbody><tr><td>目的地址</td><td>6 字节</td><td>标识数据接收方的物理地址，确保数据准确送达目标结点</td></tr><tr><td>源地址</td><td>6 字节</td><td>标识数据发送方的物理地址，便于接收方回传响应或定位发送源</td></tr><tr><td>类型</td><td>2 字节</td><td>指明帧中数据载荷对应的上层协议类型，如 IP 协议等</td></tr><tr><td>数据载荷</td><td>46~1500 字节</td><td>承载网络层交付的协议数据单元，是帧的核心数据部分</td></tr><tr><td>FCS（帧检验序列）</td><td>4 字节</td><td>属于帧尾，用于差错检测，校验帧在传输过程中是否出现误码</td></tr></tbody></table><ol start="3"><li><strong>帧长度限制</strong>：以太网 V2 的 MAC 帧最大长度为 1518 字节（6+6+2+1500+4），确保数据在链路中传输的效率和稳定性。</li></ol><h3 id="（二）差错检测">（二）差错检测</h3><ol><li><strong>背景</strong>：数据在物理层传输时可能因噪声、干扰等出现误码，需通过差错检测识别错误帧。</li><li><strong>实现方式</strong>：利用帧尾的 FCS（检错码），接收方通过校验 FCS，判断帧在传输过程中是否存在误码。</li><li><strong>作用</strong>：仅检测帧是否出错，不负责纠错，若检测到误码，通常会要求发送方重传（需结合可靠传输机制）。</li></ol><h3 id="（三）可靠传输">（三）可靠传输</h3><ol><li><strong>定义</strong>：尽管传输中误码无法完全避免，但通过技术手段实现 “发送方发送什么，接收方就收到什么”，确保数据准确、完整交付。</li><li><strong>适用场景</strong>：主要用于点对点信道的数据链路层，在广播信道中可根据需求选择性启用。</li><li><strong>核心逻辑</strong>：结合差错检测（识别错误）、重传机制（纠正错误）等，弥补物理层传输的不可靠性，为上层协议提供稳定的数据传输服务。</li></ol><h2 id="四、不同信道类型的数据链路层">四、不同信道类型的数据链路层</h2><h3 id="（一）点对点信道">（一）点对点信道</h3><ul><li><strong>特点</strong>：数据仅在两个相邻结点之间传输，无共享信道竞争问题。</li><li><strong>核心任务</strong>：重点解决 “封装成帧、差错检测、可靠传输” 三个问题，确保点对点之间数据的准确传输。</li></ul><h3 id="（二）广播信道（以局域网为例）">（二）广播信道（以局域网为例）</h3><ol><li><strong>共享式局域网</strong>：<ul><li><strong>问题</strong>：多个结点共享同一信道，易出现 “碰撞”（多个结点同时发送数据导致信号冲突）。</li><li><strong>媒体接入控制协议</strong>：采用 CSMA/CD（载波监听多点接入 / 碰撞检测），通过 “先监听、再发送、遇碰撞则停止并退避” 的机制，减少碰撞概率，保障信道使用秩序。</li></ul></li><li><strong>无线局域网（802.11 局域网）</strong>：<ul><li><strong>问题</strong>：无线信号易受干扰，且无法像有线网络那样准确检测碰撞。</li><li><strong>媒体接入控制协议</strong>：采用 CSMA/CA（载波监听多点接入 / 碰撞避免），通过 “发送前预约信道、发送后等待确认” 的机制，主动避免碰撞，提升无线传输可靠性。</li></ul></li></ol><h2 id="五、数据链路层互连设备">五、数据链路层互连设备</h2><h3 id="（一）核心设备：网桥与交换机">（一）核心设备：网桥与交换机</h3><ol><li><strong>工作原理</strong>：基于 MAC 地址进行数据转发，通过学习结点的 MAC 地址与端口的对应关系，构建 “MAC 地址表”；转发数据时，仅将帧发送到目标 MAC 地址对应的端口，而非所有端口，减少广播风暴，提升网络效率。</li><li><strong>作用</strong>：实现不同局域网之间的互连，同时隔离冲突域，扩大局域网覆盖范围。</li></ol><h3 id="（二）集线器与交换机的区别">（二）集线器与交换机的区别</h3><table><thead><tr><th>对比维度</th><th>集线器（物理层设备）</th><th>交换机（数据链路层设备）</th></tr></thead><tbody><tr><td>工作层级</td><td>物理层</td><td>数据链路层</td></tr><tr><td>转发依据</td><td>无地址识别，将信号从所有端口广播出去</td><td>基于 MAC 地址表，定向转发到目标端口</td></tr><tr><td>冲突域</td><td>所有端口共享一个冲突域，易发生碰撞</td><td>每个端口为一个独立冲突域，减少碰撞</td></tr><tr><td>传输效率</td><td>低，广播转发导致带宽浪费</td><td>高，定向转发降低带宽消耗</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>编码与调制</title>
    <link href="/2025/10/06/%E7%BC%96%E7%A0%81%E4%B8%8E%E8%B0%83%E5%88%B6/"/>
    <url>/2025/10/06/%E7%BC%96%E7%A0%81%E4%B8%8E%E8%B0%83%E5%88%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="一、核心概念界定">一、核心概念界定</h2><table><thead><tr><th>概念</th><th>定义</th></tr></thead><tbody><tr><td>消息（message）</td><td>需要传递的原始内容，是运送数据的基础实体</td></tr><tr><td>数据（data）</td><td>消息的电磁表现形式，是信号传输的核心载体</td></tr><tr><td>信号（signal）</td><td>数据的电磁表现，分为基带信号和调制后的信号，是物理层传输的直接对象</td></tr><tr><td>码元</td><td>在时间域波形中表示数字信号的基本波形，代表不同离散数值，是编码与调制的基本单位</td></tr><tr><td>基带信号</td><td>信源发出的原始电信号，可直接在数字信道传输，也可经调制后在模拟信道传输</td></tr></tbody></table><h2 id="二、编码技术：数字信号与数字信道适配">二、编码技术：数字信号与数字信道适配</h2><p>编码技术核心是将数字数据转换为数字基带信号，解决数字信号在数字信道中的传输同步与效率问题，主要包括以下 4 种常用编码方式：</p><h3 id="（一）不归零编码">（一）不归零编码</h3><ol><li><strong>信号规则</strong>：用正电平表示比特 1，负电平表示比特 0，信号在码元传输期间保持电平不变</li><li><strong>关键问题</strong>：存在同步难题。接收端无法仅凭信号判断码元数量（如无法区分 “2 个码元” 还是 “3 个码元”），需额外传输线传递时钟信号，浪费信道资源，不适用于计算机网络主流场景</li></ol><h3 id="（二）归零编码">（二）归零编码</h3><ol><li><strong>信号规则</strong>：每个码元传输结束后信号 “归零”，无论表示比特 0 还是 1，码元末尾均回归零电平</li><li><strong>核心优势</strong>：实现自同步。接收端可在信号归零后采样，无需额外时钟信号，时钟信息隐含在数据信号中</li><li><strong>主要缺陷</strong>：带宽利用率低。大部分带宽用于传输 “归零” 信号，有效数据传输占比低</li></ol><h3 id="（三）曼彻斯特编码">（三）曼彻斯特编码</h3><ol><li><strong>信号规则</strong>：码元中间时刻必然发生跳变，该跳变既表示时钟，又表示数据（如可约定 “正跳变表示 0，负跳变表示 1”，具体规则可自定义）</li><li><strong>应用场景</strong>：传统以太网（10Mb/s）的核心编码方式</li><li><strong>特点</strong>：自同步能力强，但编码效率低（每传输 1 比特需 1 个码元，码元利用率与数据传输效率绑定）</li></ol><h3 id="（四）差分曼彻斯特编码">（四）差分曼彻斯特编码</h3><ol><li><strong>信号规则</strong>：码元中间跳变仅表示时钟；码元开始处电平是否变化表示数据（如 “电平变化表示 0，电平不变表示 1”）</li><li><strong>优势</strong>：相比曼彻斯特编码，信号变化次数更少，抗干扰能力更强，更适合较高传输速率场景</li></ol><h2 id="三、调制技术：信号与模拟信道适配">三、调制技术：信号与模拟信道适配</h2><p>调制技术用于将信号（数字基带信号或模拟基带信号）转换为适配模拟信道的信号，核心是利用载波信号承载数据，分为基本调制和混合调制两类。</p><h3 id="（一）基本调制方法：1-码元-1-比特">（一）基本调制方法：1 码元 = 1 比特</h3><p>针对数字基带信号，通过改变载波的振幅、频率、相位实现调制，3 种方法仅能让 1 个码元携带 1 个比特信息，具体规则如下：</p><table><thead><tr><th>调制方式</th><th>信号规则（以数字基带信号为例）</th></tr></thead><tbody><tr><td>调幅（AM）</td><td>有载波输出表示比特 1，无载波输出表示比特 0</td></tr><tr><td>调频（FM）</td><td>用不同频率的载波表示不同比特（如频率 f1 表示 0，频率 f2 表示 1）</td></tr><tr><td>调相（PM）</td><td>用不同初相位的载波表示不同比特（如初相位 0 度表示 0，初相位 180 度表示 1）</td></tr></tbody></table><h3 id="（二）混合调制方法：1-码元-多比特">（二）混合调制方法：1 码元 = 多比特</h3><p>为提升传输效率，通过结合振幅与相位（频率与相位相关，不可同时调制）实现 “1 码元携带多比特”，典型代表为<strong>正交振幅调制（QAM）</strong>。</p><p>以 QAM-16 为例，具体参数与优势如下：</p><ol><li><strong>核心参数</strong>：使用 12 种相位，每种相位对应 1 或 2 种振幅，共可生成 16 种不同码元波形</li><li><strong>比特承载能力</strong>：1 个码元对应 4 个比特（因 2^4=16，与码元数量匹配）</li><li><strong>比特 - 码元映射规则</strong>：采用格雷码，确保任意两个相邻码元仅 1 个比特不同，降低解调错误率（如码元错位时仅 1 位出错，而非多位全错）</li><li><strong>优势</strong>：大幅提升带宽利用率，是 WiFi 等无线通信技术的核心调制方式</li></ol><h2 id="四、典型应用场景与技术适配">四、典型应用场景与技术适配</h2><table><thead><tr><th>应用场景</th><th>核心技术</th><th>技术特点</th></tr></thead><tbody><tr><td>以太网（10Mb/s）</td><td>曼彻斯特编码</td><td>自同步，适配数字信道，满足低速以太网数据传输</td></tr><tr><td>WiFi</td><td>CCK/DSSS/OFDM 调制（基于 QAM 等混合调制）</td><td>适配模拟信道，通过多比特 / 码元提升传输速率，支持高速无线通信</td></tr><tr><td>语音数据传输</td><td>脉码调制（PCM）+ 频分复用（FDM）</td><td>先对音频模拟信号编码为数字信号，再加载到模拟载波传输；FDM 技术充分利用带宽资源</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>计算机与网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机与网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>管程</title>
    <link href="/2025/09/22/%E7%AE%A1%E7%A8%8B/"/>
    <url>/2025/09/22/%E7%AE%A1%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="目录">目录</h2><ol><li>引言</li><li>管程的基本概念</li><li>管程的实现机制<br>3.1 使用信号量实现管程<br>3.2 条件变量的实现方式</li><li>管程在面向对象编程语言中的应用<br>4.1 Java 中的管程实现<br>4.2 其他语言中的管程设计</li><li>管程在操作系统中的应用<br>5.1 共享资源访问控制中的管程<br>5.2 Android 系统中的运行时安全监控</li><li>管程的优势与局限性分析</li><li>结论与主要研究发现</li></ol><hr><h2 id="1-引言">1. 引言</h2><p>管程（Monitor）是一种高级同步机制，在操作系统和并发编程领域被广泛应用。它通过将共享数据与对这些数据进行操作的过程封装于同一“结构”中，从而简化程序设计者对互斥和条件同步的管理。本文旨在全面探讨管程在操作系统中的概念、具体实现机制以及应用场景，涵盖从理论原理到实际案例的诸多方面。本文的内容不仅详细介绍了管程的基本定义和内部结构，还重点讨论了利用信号量实现管程及条件变量的实现细节，同时结合Java等高级编程语言中的实例进行比较分析。最后，文章还讨论了管程在实际操作系统（如Android）中的应用，特别是在实现运行时安全监控与权限提升检测中的案例。</p><p>本文的研究对于深入理解操作系统中并发控制机制以及开发高效、可靠的多线程程序具有重要意义。接下来的章节中，我们将分章节展开讨论，逐步解析管程的理论基础、实现技术和应用实例，并通过表格与流程图的方式进行直观展示。</p><hr><h2 id="2-管程的基本概念">2. 管程的基本概念</h2><p>管程作为一种高级同步原语，最早由 Per Brinch Hansen 和 C. A. R. Hoare 在20世纪70年代提出，用以解决多线程环境下的数据共享和互斥问题。在管程中，所有共享数据均只能由管程内部的方法直接访问，外部进程或线程仅可通过暴露出来的接口进行操作，这样就可以避免数据竞争和不一致状态的产生。</p><h3 id="2-1-定义与核心特性">2.1 定义与核心特性</h3><p>管程本质上类似于一个类或模块，其主要特点包括：</p><ul><li><strong>数据封装</strong>：管程将共享数据与其所有操作封装在同一个结构内部，使得数据的访问权限受到有效限制，仅能通过指定的管程过程进行访问。</li><li><strong>自动互斥</strong>：在同一时刻，最多只有一个线程能够进入管程内部执行，这种内置的互斥机制使得程序设计者无需额外使用信号量等同步工具进行保护。</li><li><strong>条件同步</strong>：管程通常与条件变量（condition variables）配合使用，当某个条件不满足时，线程会在条件变量上等待，直到条件得到满足后再被唤醒。</li></ul><h3 id="2-2-与信号量的比较">2.2 与信号量的比较</h3><p>信号量是另一种常见的同步机制，但使用上要求程序员显式调用 <code>wait()</code> 和 <code>signal()</code> 来管理线程之间的互斥和同步。相比之下，管程具备以下优势：</p><ul><li><strong>设计简化</strong>：管程将共享数据与其操作捆绑，实现了自动的互斥控制，极大降低了出错的风险。</li><li><strong>模块化设计</strong>：管程的内在封装性使得代码更具模块化和封装性，减少了各个独立同步机制之间的交互复杂性。</li><li><strong>错误减少</strong>：程序员不必担心因遗漏适当的 <code>wait()</code> 或 <code>signal()</code> 调用而引发死锁或竞态条件问题，因而管程在多线程管理上更加安全和易于维护。</li></ul><p>下表对管程与信号量在多线程同步方面的主要区别进行了比较说明。</p><table><thead><tr><th>同步机制</th><th>数据封装性</th><th>互斥控制</th><th>条件同步</th><th>编程复杂度</th></tr></thead><tbody><tr><td>信号量</td><td>无内在封装</td><td>需显式调用wait/signal</td><td>需额外实现条件变量</td><td>较高（易出错）</td></tr><tr><td>管程</td><td>内部封装共享数据</td><td>自动互斥（每次仅一线程）</td><td>内置条件变量机制</td><td>较低（安全可靠）</td></tr></tbody></table><p><em>表 1：管程与信号量的比较分析</em></p><h3 id="2-3-管程的组成结构">2.3 管程的组成结构</h3><p>在操作系统和编程语言设计中，管程通常由以下几个部分组成:</p><ol><li><strong>初始化代码</strong>：这个部分在创建管程时执行一次，用于初始化共享数据和底层同步原语。</li><li><strong>私有数据</strong>：管程内部存储的所有数据，只有管程内部的过程能够访问，保证了数据的机密性和一致性。</li><li><strong>管程过程</strong>：对外提供访问共享数据的接口或方法，负责对数据进行操作和管理。</li><li><strong>入口队列</strong>：用于存储那些请求进入管程但因互斥约束而被阻塞的线程，确保它们能按照一定顺序进入管程执行操作。</li></ol><p>在后续章节中，我们将详细探讨如何通过信号量实现上述管程机制，以及如何实现其中的条件变量功能。</p><hr><h2 id="3-管程的实现机制">3. 管程的实现机制</h2><h3 id="3-1-使用信号量实现管程">3.1 使用信号量实现管程</h3><p>信号量是一种经典的同步工具，通过对其值的增加或减少来控制临界区的访问。利用信号量实现管程是一种常见的策略，其基本步骤如下:</p><ol><li><p><strong>初始化互斥信号量</strong></p><ul><li>对每个管程，初始化一个互斥信号量 <code>mutex</code>，其初始值设置为1，保证在任意时刻只有一个进程或线程能够进入管程内部执行操作。</li></ul></li><li><p><strong>为每个管程分配互斥信号量</strong></p><ul><li>每个管程内部均配有自己的 <code>mutex</code> 信号量，确保对管程数据的访问均在互斥的保护下进行。</li></ul></li><li><p><strong>进入与退出管程的操作</strong></p><ul><li>进程在尝试进入管程前，必须调用 <code>wait(mutex)</code> 以获得互斥锁；在退出管程时则调用 <code>signal(mutex)</code> 释放锁。这样可以有效防止多个进程同时进入管程，造成数据竞争。</li></ul></li><li><p><strong>处理条件等待与唤醒</strong></p><ul><li><p>由于部分情况下需要等待条件满足才能继续执行，因此需要引入一个额外的信号量（记为 <code>S</code>）并初始化为0。同时，通过一个整数计数器 <code>S_count</code> 来记录处于等待状态的进程数。</p></li><li><p>当某个进程调用条件变量的 <code>wait()</code> 操作时，将执行如下过程：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c">wait(mutex);  <span class="hljs-comment">// 进入临界区执行关键代码</span><br><span class="hljs-keyword">if</span> (S_count &gt; <span class="hljs-number">0</span>)<br>    signal(S);<br><span class="hljs-keyword">else</span><br>    signal(mutex);<br></code></pre></td></tr></table></figure></li><li><p>当条件满足时，通过 <code>signal()</code> 操作唤醒等待队列中的进程。</p></li></ul></li></ol><p>下图通过流程图的形式直观描述了信号量实现管程的工作流程：</p><pre><code class=" mermaid">graph TD    A[初始状态 mutex=1 S=0]    B[进程调用wait获取mutex]    C[进入管程临界区代码]    D[检查条件变量是否有等待进程]    E[有等待进程则signal唤醒S]    F[无等待进程则signal释放mutex]    G[进程离开管程]    A --&gt; B    B --&gt; C    C --&gt; D    D --&gt;|有| E    D --&gt;|无| F    E --&gt; G    F --&gt; G</code></pre><p><em>图 1：基于信号量实现管程的工作过程图</em></p><h3 id="3-2-条件变量的实现方式">3.2 条件变量的实现方式</h3><p>在实际应用中，除了互斥外，还需要对某些条件进行等待和唤醒控制。条件变量是实现这一功能的重要工具，其实现步骤如下:</p><ol><li><p><strong>初始化条件变量</strong></p><ul><li>定义一个条件变量 <code>x</code>。同时引入一个信号量 <code>x_num</code> 和一个计数器 <code>x_count</code>，将它们初始化为0，用于管理等待队列中的线程数量.</li></ul></li><li><p><strong>条件变量等待操作（x.wait()）</strong></p><ul><li><p>当线程调用 <code>x.wait()</code> 时，将执行以下操作：</p><ul><li>增加 <code>x_count</code> 的值；</li><li>如果存在挂起的信号，调用 <code>signal(S)</code> 唤醒相关进程；</li><li>调用 <code>wait(x_num)</code> 使自己进入休眠状态，等待条件满足；</li><li>条件满足后再减少 <code>x_count</code> 的值。</li></ul><p>代码示例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c">x.wait() &#123;  <br>    x_count++;  <br>    <span class="hljs-keyword">if</span> (S_count &gt; <span class="hljs-number">0</span>)  <br>        signal(S);  <br>    <span class="hljs-keyword">else</span>  <br>        signal(mutex);  <br>    wait(x_num);  <br>    x_count--;  <br>&#125;  <br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>条件变量唤醒操作（x.signal()）</strong></p><ul><li>当某个条件满足时，执行条件变量的 <code>signal()</code> 操作：<ul><li>检查是否存在等待该条件的线程；</li><li>如果有，则将 <code>S_count</code> 增加，唤醒一个等待线程，随后等待其在管程中占据互斥位置后再继续执行。</li></ul></li></ul></li></ol><p>通过对条件变量的等待与唤醒操作进行封装，管程能够更灵活地处理进程之间的同步需求，同时确保共享数据的安全访问。</p><p>下表展示了信号量实现管程中各个操作及其作用：</p><table><thead><tr><th>操作名称</th><th>作用描述</th><th>关键步骤或条件</th></tr></thead><tbody><tr><td>wait(mutex)</td><td>请求进入管程，获取互斥锁</td><td>只有mutex值为1时允许进入，否则等待</td></tr><tr><td>signal(mutex)</td><td>释放互斥锁，允许其他进程进入</td><td>退出管程后调用</td></tr><tr><td>wait(x)</td><td>条件变量等待操作，挂起进程</td><td>进入条件变量队列，并调用wait(x_num)</td></tr><tr><td>signal(x)</td><td>唤醒处于条件变量等待队列中的一个进程</td><td>检查x_count，并使用S信号量进行唤醒</td></tr></tbody></table><p><em>表 2：管程中各同步操作的作用与条件</em></p><hr><h2 id="4-管程在面向对象编程语言中的应用">4. 管程在面向对象编程语言中的应用</h2><h3 id="4-1-Java-中的管程实现">4.1 Java 中的管程实现</h3><p>在 Java 语言中，管程的概念得到了广泛应用并且内置于其语法之中。Java 并没有专门的 “monitor” 关键字，而是通过 <code>synchronized</code> 关键字来达到管程的效果。具体特性如下：</p><ul><li><strong>自动互斥</strong>：使用 <code>synchronized</code> 修饰的方法或代码块确保同一时刻只有一个线程能进入该代码块，自动实现了互斥控制。</li><li><strong>条件变量的支持</strong>：Java 中的 <code>wait()</code>、<code>notify()</code> 和 <code>notifyAll()</code> 方法用于实现条件变量机制。调用 <code>wait()</code> 方法可以使线程退出监控状态，并等待被唤醒；而调用 <code>notify()</code> 或 <code>notifyAll()</code> 则可以唤醒等待的线程。</li><li><strong>锁的扩展实现</strong>：除了使用 <code>synchronized</code> 关键字之外，Java 5 及以后的版本还提供了 <code>ReentrantLock</code> 类以及 <code>Condition</code> 对象，这些工具允许开发人员更加灵活地控制锁及条件变量，进一步实现类似管程的高级控制策略。</li></ul><p>下图展示了 Java 中使用 <code>ReentrantLock</code> 和 <code>Condition</code> 实现管程的示意流程：</p><pre><code class=" mermaid">graph TD    A[线程请求进入管程]    B[获取ReentrantLock锁]    C[检查共享条件是否满足]    D[条件不满足调用await]    E[条件满足执行临界区代码]    F[调用signal或signalAll]    G[释放ReentrantLock锁]    A --&gt; B    B --&gt; C    C --&gt;|不满足| D    C --&gt;|满足| E    D --&gt; E    E --&gt; F    F --&gt; G</code></pre><p><em>图 2：Java中基于ReentrantLock与Condition实现管程的流程图</em></p><h3 id="4-2-其他语言中的管程设计">4.2 其他语言中的管程设计</h3><p>除 Java 外，其他面向对象或支持并发编程的语言，如 C#、Visual Basic、Ada 等，也支持管程的实现。它们通常通过内置库或语言扩展来实现共享数据的封装和自动互斥控制，从而帮助程序员以更安全、高效的方式进行多线程开发。例如：</p><ul><li><strong>C#</strong>：利用 lock 关键字和 Monitor 类进行互斥和条件同步控制。</li><li><strong>Ada</strong>：内置任务和受保护对象（protected objects）实现了类似管程的同步机制。</li><li><strong>Concurrent Pascal</strong>：早期语言之一，最早实现管程概念，并提供了专门的语法支持。</li></ul><p>这些语言中的管程设计均体现了数据封装、互斥进入以及条件等待等基本原理，确保在多线程环境下共享资源的安全访问。</p><hr><h2 id="5-管程在操作系统中的应用">5. 管程在操作系统中的应用</h2><h3 id="5-1-共享资源访问控制中的管程">5.1 共享资源访问控制中的管程</h3><p>在操作系统中，管程主要用于解决多个进程或线程在访问共享资源时可能发生的数据竞争问题。通过设计管程，操作系统能够有效保证同一时刻只有一个线程对共享变量进行修改，从而避免了竞态条件和数据不一致性。例如，在文件系统、数据库访问以及网络通信等高并发场景下，管程的应用可以有效提升系统稳定性和可靠性。</p><p>具体来说，管程可以保证下列要求：</p><ul><li><strong>互斥性</strong>：确保同一时间只有一个线程能执行关键的共享数据操作。</li><li><strong>安全同步</strong>：借助条件变量，使得只有在满足某一前提条件下才能进行后续操作。</li><li><strong>模块化设计</strong>：通过对共享数据进行封装，细分操作系统内核中的各个组件职责，使得系统整体调试与维护更为便捷。</li></ul><h3 id="5-2-Android-系统中的运行时安全监控">5.2 Android 系统中的运行时安全监控</h3><p>近年来，Android 系统由于其开放和多任务的特性，面临着多种安全威胁，其中权限提升攻击尤为常见。为了解决这些问题，研究人员提出了基于度量时序逻辑（Metric Temporal Logic, MTL）和管程机制的监控方案，用以检测和阻止恶意行为。</p><p>在该方案中，管程主要承担以下角色：</p><ol><li><strong>事件同步与控制</strong>：通过管程的互斥与条件机制，确保在运行时对系统调用、IPC（进程间通信）等关键行为进行实时监控，避免恶意线程与正常线程互相干扰。</li><li><strong>实时策略执行</strong>：利用管程内置的条件变量，结合MTL指定的时序约束，实现对权限提升攻击等安全策略的即时检测与处理。例如，针对“未授权的跨进程调用”或“异常的权限请求”等事件给出响应操作。</li><li><strong>内核集成监控</strong>：在实际实现中，为了达到高效、实时的监控，研究人员往往需要对 Android 内核及应用框架进行一定程度的修改，以在低层次捕获关键事件，然后通过管程机制传递给用户态监控模块进行处理。</li></ol><p>下表展示了 Android 系统中基于管程机制的监控方案主要组件与功能描述：</p><table><thead><tr><th>组件名称</th><th>主要功能</th><th>关键作用描述</th></tr></thead><tbody><tr><td>管程互斥模块</td><td>确保同一时刻仅有一个线程进入监控临界区</td><td>防止并发冲突，保证数据一致性</td></tr><tr><td>条件变量模块</td><td>实现线程在条件不满足时挂起，条件满足时唤醒等待线程</td><td>用于实时检测和响应安全事件</td></tr><tr><td>事件捕获模块</td><td>从内核及应用框架捕获关键系统调用和IPC事件</td><td>为后续监测提供可靠的事件数据</td></tr><tr><td>安全策略执行模块</td><td>根据预先设定的MTL表达式检测权限异常，执行阻断或警示动作</td><td>防止权限提升攻击等安全威胁</td></tr></tbody></table><p><em>表 3：Android 系统中管程机制应用于运行时安全监控的主要组件与作用</em></p><p>在实际测试中，如某些实验显示，通过插入基于管程的监控模块，对一系列 IPC 调用进行拦截和检测，其处理延时仅在毫秒级别，表明此方案不仅能有效防范安全威胁，还具有较高的实时性能。</p><hr><h2 id="6-管程的优势与局限性分析">6. 管程的优势与局限性分析</h2><h3 id="6-1-管程的优势">6.1 管程的优势</h3><p>管程作为一种高级同步机制，在多线程和并发编程中具有以下明显优势：</p><ul><li><strong>自动互斥</strong>：依赖内置锁机制，无需程序员显式管理互斥锁，降低了出错风险，并简化了编程模型。</li><li><strong>数据封装与安全</strong>：通过将共享数据与其操作封装在同一结构内，防止外部非法访问和数据被破坏，提升了系统稳定性。</li><li><strong>条件同步机制</strong>：内置条件变量使得线程可以在条件不满足时安全挂起，并在条件满足时得到准确唤醒，从而满足复杂的同步需求。</li><li><strong>模块化设计</strong>：管程允许程序在设计时将各个子模块独立封装，在分工明确的同时也便于维护和调试。</li><li><strong>易于应用在高并发系统中</strong>：由于内置的互斥和条件控制机制，管程可以在高并发场景下高效调度线程，确保共享资源的安全访问.</li></ul><h3 id="6-2-管程的局限性">6.2 管程的局限性</h3><p>尽管管程在多线程同步中具备众多优点，但其在特定方面仍存在一些局限性：</p><ul><li><strong>死锁风险</strong>：如果设计不当，仍可能产生死锁情况。例如，多个管程相互嵌套调用或不规范的条件变量使用可能导致系统卡死。</li><li><strong>灵活性限制</strong>：管程要求所有对共享数据的访问都必须通过预先定义的接口进行，虽然提高了安全性，但在某些特定场景下可能降低了系统的灵活性。</li><li><strong>实现复杂度</strong>：尽管管程简化了程序开发，但其底层实现（尤其是基于信号量和条件变量的实现）涉及到复杂的细节管理，如信号量的初始化、条件变量计数器的管理等问题。</li><li><strong>性能开销</strong>：在某些高频率操作中，不断进入与退出管程所产生的互斥操作及条件唤醒可能带来一定的性能损耗，尤其在嵌入式系统中，该开销可能更为显著。</li></ul><p>综上所述，管程在确保线程安全和同步方面表现出色，但在使用时必须注意避免设计上的欠妥造成系统死锁或性能瓶颈。</p><hr><h2 id="7-结论与主要研究发现">7. 结论与主要研究发现</h2><p>本文详细探讨了管程在操作系统中的概念、实现机制以及应用实例。主要研究发现和结论如下：</p><ul><li><strong>核心概念总结</strong><ul><li>管程作为一种高级同步机制，通过封装共享数据和操作来实现自动互斥控制，并内置条件变量进行线程等待和唤醒，有效减少了程序出错的风险。</li></ul></li><li><strong>实现机制研究</strong><ul><li>采用信号量实现管程时，需要通过互斥信号量 <code>mutex</code> 以及辅助的信号量（如 <code>S</code>）和计数器（如 <code>S_count</code>）来协调线程的进入、等待与唤醒。条件变量通过额外的信号量（如 <code>x_num</code>）和计数器（如 <code>x_count</code>）实现等待和唤醒操作，从而满足条件同步要求。</li></ul></li><li><strong>在编程语言中的应用</strong><ul><li>在 Java 中，通过 <code>synchronized</code>、<code>wait()</code>、<code>notify()</code> 以及 <code>ReentrantLock</code> 与 <code>Condition</code> 的组合，实现了管程的互斥与条件同步功能，使得多线程编程更加安全和直观。</li><li>其他语言（如 C#、Ada、Concurrent Pascal）也通过各自特有的语言特性实现了类似的管程机制，为开发者提供了安全高效的并发编程支持。</li></ul></li><li><strong>在操作系统中的实际应用</strong><ul><li>管程在操作系统中被广泛用于共享资源的访问控制，能够有效防止数据竞争和不一致问题。特别是在 Android 系统中，通过结合度量时序逻辑（MTL）的监控技术，管程不仅用于处理进程和线程之间的同步问题，还在检测权限提升攻击等安全威胁中发挥重要作用。</li></ul></li><li><strong>优势与局限性</strong><ul><li>管程的主要优势在于自动互斥、数据封装、易于实现条件同步以及代码模块化。</li><li>局限性则包括一旦设计不当可能发生死锁、灵活性相对不足以及在某些高频操作中可能引起性能开销，开发者在实际应用时需予以充分考虑。</li></ul></li></ul><p>下表总结了本文主要讨论的管程概念、实现方法以及应用场景：</p><table><thead><tr><th>研究方面</th><th>主要内容</th><th>关键参考文献</th></tr></thead><tbody><tr><td>基本概念</td><td>管程定义、互斥控制、条件同步</td><td>, ,</td></tr><tr><td>实现机制</td><td>基于信号量实现的管程与条件变量实现细节</td><td>, , , ,</td></tr><tr><td>面向对象编程应用</td><td>Java 中的 synchronized 与 ReentrantLock 实现，及其他语言的实现方式</td><td>, , ,</td></tr><tr><td>操作系统应用</td><td>管程在共享资源控制中的作用以及在 Android 系统中用于检测权限提升的案例</td><td>, , ,</td></tr></tbody></table><p><em>表 4：管程各研究方面的主要内容与参考文献</em></p><h3 id="总结要点">总结要点</h3><ul><li>管程提供了一种高级便捷的同步机制，能够自动实现互斥并通过条件机制控制线程同步。</li><li>基于信号量的实现方式详细介绍了如何利用 <code>mutex</code> 和条件信号量协调进程进入、退出和等待。</li><li>在 Java 等面向对象语言中，管程已内置于语言特性中，进一步降低了并发编程的复杂度。</li><li>在操作系统中，管程不仅用来保证共享资源访问的安全性，还被应用于诸如 Android 系统中的实时安全监控，以检测和阻止权限提升攻击。</li><li>尽管管程具有显著优势，但设计和实现时必须认真处理死锁风险及性能问题，以确保系统的稳定性与高效性。</li></ul><hr><h2 id="结论">结论</h2><p>通过对管程的概念、实现和应用进行深入探讨，我们可以得出如下结论：</p><ul><li>管程作为一种高级同步机制，在操作系统和多线程编程中具有不可替代的作用。</li><li>利用信号量实现管程机制虽然实现细节较为复杂，但能够充分保证共享数据的安全访问，并通过条件变量实现线程的动态等待与唤醒。</li><li>在现代编程语言和操作系统环境中（例如 Java 和 Android），管程的设计已高度模块化和集成化，为系统的并发控制提供了有效支持。</li><li>管程的应用虽然具备诸多优势，但在实际开发中仍需关注潜在的死锁风险和性能瓶颈，采用合理的设计策略和优化手段以实现系统的高性能和高可用性。</li></ul><p>主要研究发现以以下清单形式总结：</p><ul><li>数据封装与自动互斥机制有效减少了编程错误和数据竞争风险。</li><li>结合条件变量的机制使得管程在处理复杂同步场景时表现优异。</li><li>Java 及其他主流语言通过内置或扩展库支持管程的实现，使得并发编程更为简单和安全。</li><li>管程技术在操作系统共享资源访问控制和安全监控中发挥了重要作用，特别是在检测权限提升攻击方面具有明显优势。</li><li>尽管管程存在实现复杂性、死锁风险和性能开销等潜在问题，通过合理设计和优化，这些问题是可以得到有效缓解的。</li></ul><p>综上，管程在操作系统中作为一种成熟而有效的同步工具，为解决多线程并发访问共享资源问题提供了坚实的理论基础和实践支持。随着技术发展和需求变化，未来关于管程的改进和扩展仍将持续推动操作系统并发控制技术的进步。</p>]]></content>
    
    
    
    <tags>
      
      <tag>操作系统</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>操作系统的概念</title>
    <link href="/2025/09/14/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A6%82%E5%BF%B5/"/>
    <url>/2025/09/14/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A6%82%E5%BF%B5/</url>
    
    <content type="html"><![CDATA[<h1>操作系统的概念：计算机系统的核心管理者</h1><p>操作系统（Operating System，简称OS）是<strong>管理计算机硬件与软件资源、控制程序运行、为用户和应用程序提供交互接口的系统软件</strong>，是计算机系统中最基础、最重要的组成部分，被誉为“计算机的灵魂”。它如同计算机硬件与用户/应用程序之间的“翻译官”和“管理者”，协调所有硬件资源（如CPU、内存、硬盘），并为软件运行提供稳定、高效的环境。</p><h2 id="一、操作系统的核心定位：为何必须存在？">一、操作系统的核心定位：为何必须存在？</h2><p>没有操作系统的计算机（称为“裸机”）仅由硬件构成，普通用户和开发者无法直接操作（需使用机器语言）。操作系统的核心价值在于**“抽象硬件复杂性、提供统一服务接口”**，具体体现在两个层面：</p><ol><li><strong>对硬件的“管理与抽象”</strong>：<br>隐藏CPU调度、内存分配、硬盘读写等底层硬件细节，将复杂的硬件操作封装成简单的“接口”（如“保存文件”“打开软件”），用户无需了解硬件原理即可使用。</li><li><strong>对软件的“支撑与协调”</strong>：<br>为应用程序（如浏览器、Office、游戏）提供运行所需的资源（如内存空间、CPU时间片），并协调多个程序同时运行（避免冲突），确保系统稳定高效。</li></ol><h2 id="二、操作系统的四大核心功能">二、操作系统的四大核心功能</h2><p>操作系统的所有能力围绕“资源管理”和“用户服务”展开，核心功能可归纳为四类：</p><h3 id="1-进程与线程管理：CPU资源的调度者">1. 进程与线程管理：CPU资源的调度者</h3><p>CPU（中央处理器）是计算机的“运算大脑”，但同一时间只能执行一个指令。操作系统通过<strong>进程管理</strong>实现“多任务并发”（如边听歌边写文档），核心工作包括：</p><ul><li><strong>进程创建与销毁</strong>：启动软件时创建“进程”（程序的运行实例），关闭软件时销毁进程，释放CPU资源。</li><li><strong>CPU调度</strong>：通过调度算法（如“时间片轮转”“优先级调度”），让多个进程轮流占用CPU，从用户视角看实现“同时运行”。</li><li><strong>线程管理</strong>：进程可拆分为多个“线程”（如浏览器的“下载线程”“渲染线程”），操作系统通过线程调度进一步提升CPU利用率。</li></ul><h3 id="2-内存管理：内存空间的分配者">2. 内存管理：内存空间的分配者</h3><p>内存（RAM，随机存取存储器）是“临时数据存储区”，速度远快于硬盘，但断电后数据丢失。操作系统需合理分配内存，避免浪费和冲突：</p><ul><li><strong>内存分配</strong>：为每个运行的进程分配独立的内存空间（如给浏览器分配2GB内存，给Word分配1GB），防止进程之间“越界访问”（一个程序修改另一个程序的内存数据）。</li><li><strong>内存回收</strong>：进程关闭后，立即回收其占用的内存，分配给新进程。</li><li><strong>虚拟内存技术</strong>：当物理内存不足时，将硬盘的一部分空间“模拟成内存”（称为“交换分区”或“页面文件”），暂时存放未活跃的进程数据，缓解内存压力。</li></ul><h3 id="3-存储管理：持久化数据的组织者">3. 存储管理：持久化数据的组织者</h3><p>存储设备（如硬盘、SSD、U盘）用于“长期保存数据”（如文件、系统程序），操作系统通过<strong>文件系统</strong>管理这些设备：</p><ul><li><strong>文件管理</strong>：将存储设备的空间划分为“文件”和“文件夹”，提供“创建、删除、复制、移动”等操作接口，用户无需直接操作磁盘扇区。</li><li><strong>文件系统格式</strong>：不同操作系统支持不同的文件系统（如Windows的NTFS、macOS的APFS、Linux的Ext4），负责管理文件的存储位置、权限、访问速度。</li><li><strong>设备挂载</strong>：对于U盘、外接硬盘等移动存储设备，操作系统需先“挂载”（识别并分配访问路径），才能被用户使用。</li></ul><h3 id="4-设备管理与用户接口：人机交互的桥梁">4. 设备管理与用户接口：人机交互的桥梁</h3><ul><li><strong>设备管理</strong>：管理计算机的所有外部设备（如键盘、鼠标、显示器、打印机、网卡），通过“设备驱动程序”（硬件与OS的中间程序）实现硬件与系统的通信。例如，安装打印机驱动后，OS才能向打印机发送打印指令。</li><li><strong>用户接口</strong>：提供用户与计算机交互的方式，分为两类：<ol><li><strong>图形用户界面（GUI）</strong>：通过窗口、图标、菜单、鼠标点击操作（如Windows的桌面、macOS的Dock栏），直观易用，适合普通用户。</li><li><strong>命令行界面（CLI）</strong>：通过输入文本命令（如Windows的CMD、Linux的Terminal）操作计算机，效率高，适合开发者和系统管理员。</li></ol></li></ul><h2 id="三、常见操作系统分类">三、常见操作系统分类</h2><p>根据应用场景的不同，操作系统可分为以下几类，各自有不同的设计目标和特点：</p><table><thead><tr><th>类别</th><th>核心目标</th><th>典型代表</th><th>应用场景</th></tr></thead><tbody><tr><td>桌面操作系统</td><td>易用性、多媒体支持、兼容性</td><td>Windows（微软）、macOS（苹果）、Linux（Ubuntu、Fedora）</td><td>个人电脑（台式机、笔记本）</td></tr><tr><td>移动操作系统</td><td>低功耗、触控优化、移动网络</td><td>Android（谷歌）、iOS（苹果）、HarmonyOS（华为）</td><td>智能手机、平板、智能手表</td></tr><tr><td>服务器操作系统</td><td>稳定性、高并发、安全性</td><td>Linux（CentOS、Debian）、Windows Server</td><td>服务器（网站、数据库、云计算）</td></tr><tr><td>嵌入式操作系统</td><td>体积小、低资源占用、实时性</td><td>VxWorks、FreeRTOS、嵌入式Linux</td><td>智能设备（路由器、智能电视、汽车中控、工业设备）</td></tr><tr><td>实时操作系统（RTOS）</td><td>任务响应时间精确（毫秒/微秒级）</td><td>VxWorks、QNX</td><td>工业控制、航空航天（如飞机导航、机器人）</td></tr></tbody></table><h2 id="四、操作系统的工作流程：以“打开浏览器”为例">四、操作系统的工作流程：以“打开浏览器”为例</h2><p>通过一个具体场景，可更直观理解操作系统的作用：</p><ol><li>用户双击桌面“浏览器”图标（GUI交互）；</li><li>操作系统接收指令，检查浏览器程序是否存在于硬盘（存储管理）；</li><li>操作系统为浏览器创建一个“进程”，并分配CPU时间片（进程管理）和内存空间（内存管理）；</li><li>操作系统将硬盘中的浏览器程序加载到分配的内存中，CPU开始执行浏览器的代码；</li><li>浏览器运行时，操作系统继续协调：若用户打开网页，OS通过网卡驱动（设备管理）连接网络，将网页数据加载到内存，再通过显卡驱动（设备管理）在显示器上显示页面；</li><li>用户关闭浏览器后，OS销毁浏览器进程，回收CPU、内存资源（资源回收）。</li></ol><h2 id="总结">总结</h2><p>操作系统是计算机系统的“核心中枢”——它不仅管理硬件资源（CPU、内存、存储、设备），还为软件运行提供支撑，为用户提供交互接口。无论是日常使用的电脑、手机，还是后台运行的服务器、工业设备，都依赖操作系统实现高效、稳定的工作。理解操作系统的概念，是掌握计算机工作原理的基础。</p>]]></content>
    
    
    <categories>
      
      <category>操作系统</category>
      
    </categories>
    
    
    <tags>
      
      <tag>操作系统</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>彩色语谱图(Color Spectrogram)</title>
    <link href="/2025/09/10/%E5%BD%A9%E8%89%B2%E8%AF%AD%E8%B0%B1%E5%9B%BE/"/>
    <url>/2025/09/10/%E5%BD%A9%E8%89%B2%E8%AF%AD%E8%B0%B1%E5%9B%BE/</url>
    
    <content type="html"><![CDATA[<h1>彩色语谱图：语音信号的“视觉化语言”</h1><p>彩色语谱图（Color Spectrogram）是语音信号处理领域核心的可视化工具，它将声音的<strong>时间、频率、强度</strong>三个关键维度通过“色彩”直观呈现，让原本不可见的语音波动转化为可分析的图像，是语音识别、方言研究、病理语音诊断、音乐声学等领域的基础技术。</p><h2 id="一、彩色语谱图的核心原理：将声音拆解为“三维信息”">一、彩色语谱图的核心原理：将声音拆解为“三维信息”</h2><p>声音的本质是“空气振动”，而语音（如人类说话声）是复杂的复合振动——由声带基频（基础频率）和多个谐波（倍频成分）叠加而成。彩色语谱图的核心是通过<strong>傅里叶变换</strong>（将时域信号转化为频域信号），把语音的“时间-频率-强度”关系映射为“横轴-纵轴-色彩”，具体对应关系如下：</p><table><thead><tr><th>维度</th><th>语谱图中的表现形式</th><th>说明</th></tr></thead><tbody><tr><td><strong>时间（Time）</strong></td><td>横轴（X轴）</td><td>单位通常为“秒（s）”或“毫秒（ms）”，从左到右对应语音的播放顺序（如“你好”的“你”在前，“好”在后）。</td></tr><tr><td><strong>频率（Frequency）</strong></td><td>纵轴（Y轴）</td><td>单位为“赫兹（Hz）”，从下到上对应频率从低到高（人类语音频率范围通常为80-8000Hz，核心频段200-3400Hz）。</td></tr><tr><td><strong>强度（Intensity）</strong></td><td>色彩（Color）</td><td>不同颜色代表语音信号的能量/振幅大小（即“响度”的客观指标），是彩色语谱图与黑白语谱图的核心区别。</td></tr></tbody></table><h2 id="二、彩色语谱图的“色彩编码规则”：如何通过颜色读“响度”？">二、彩色语谱图的“色彩编码规则”：如何通过颜色读“响度”？</h2><p>彩色语谱图的关键是<strong>色彩与强度的映射逻辑</strong>，不同领域会根据需求选择编码方案，但核心原则是“色彩对比度越高，越易区分强弱”。常见的色彩编码体系有以下3类：</p><h3 id="1-灰度编码（基础版，可视为“单色彩色图”）">1. 灰度编码（基础版，可视为“单色彩色图”）</h3><ul><li><strong>规则</strong>：白色/浅色代表“高强度（响度大）”，黑色/深色代表“低强度（响度小）”；</li><li><strong>场景</strong>：早期语谱仪或简单分析（如判断语音停顿——黑色区域为无声段）；</li><li><strong>不足</strong>：强度梯度区分不直观，难以识别细微的强度差异（如轻声与正常声的边界）。</li></ul><h3 id="2-热色编码（最常用，符合人类视觉习惯）">2. 热色编码（最常用，符合人类视觉习惯）</h3><ul><li><strong>核心逻辑</strong>：用“冷色→暖色→亮色”对应“低强度→中强度→高强度”，模拟“温度从低到高”的视觉感知；</li><li><strong>典型配色</strong>：<ul><li>低强度（弱信号）：蓝色、紫色、深蓝色；</li><li>中强度（中等信号）：绿色、黄色；</li><li>高强度（强信号）：橙色、红色、白色；</li></ul></li><li><strong>优势</strong>：人类对“红-黄-蓝”的对比度敏感，能快速定位语音中的“强能量区”（如元音的谐波峰），是语音学、语言学研究的主流选择。</li></ul><h3 id="3-伪彩色编码（定制化场景）">3. 伪彩色编码（定制化场景）</h3><ul><li><strong>规则</strong>：根据特定需求自定义色彩映射（如用“红色”标注目标频段，“灰色”屏蔽无关频段）；</li><li><strong>场景</strong>：<ul><li>病理语音诊断：用特殊颜色标注“声带息肉导致的异常高频成分”；</li><li>音乐分析：用不同颜色区分“人声（200-3400Hz）”与“乐器伴奏（&gt;3400Hz）”；</li></ul></li><li><strong>优势</strong>：针对性强，降低无关信息干扰，但通用性弱。</li></ul><h2 id="三、彩色语谱图的“视觉特征”：如何解读语音信息？">三、彩色语谱图的“视觉特征”：如何解读语音信息？</h2><p>不同语音成分（元音、辅音、声调）在彩色语谱图上有独特的“视觉指纹”，这是解读的核心依据：</p><h3 id="1-元音（如“a”“o”“e”）：宽频带、强能量的“水平条带”">1. 元音（如“a”“o”“e”）：宽频带、强能量的“水平条带”</h3><ul><li><strong>视觉特征</strong>：从低频到高频的“连续彩色条带”（谐波结构），颜色以暖色（红、黄）为主（能量高），条带间距均匀（谐波频率是基频的整数倍）；</li><li><strong>示例</strong>：发“a”音时，基频约100-200Hz（男性）/200-300Hz（女性），谐波依次为200-400Hz、300-600Hz...，在语谱图上呈现为“从下到上的红色条带群”；</li><li><strong>关键信息</strong>：条带的“间距”对应基频（间距越小，基频越高，如女性语音条带更密集），条带的“长度”对应元音时长（如“啊——”的条带更长）。</li></ul><h3 id="2-辅音（如“b”“p”“s”）：窄频带、短时长的“尖峰-散点”">2. 辅音（如“b”“p”“s”）：窄频带、短时长的“尖峰/散点”</h3><p>辅音按发音方式分为“爆破音”“摩擦音”等，特征差异显著：</p><ul><li><strong>爆破音（b/p/d/t）</strong>：先“无声段（黑色）”，再“瞬间强能量尖峰（红色小点）”，随后衔接元音条带（如“爸”= 无声段 + 爆破尖峰 + “a”的条带）；</li><li><strong>摩擦音（s/sh/f）</strong>：高频区（2000-8000Hz）的“分散彩色点”（能量较低，多为黄色/绿色），无明显谐波结构（如“丝”的语谱图上，高频区有绿色散点，低频区几乎无信号）；</li><li><strong>关键信息</strong>：辅音的“频率位置”和“能量分布”是区分它的核心（如“s”在4000-8000Hz，“sh”在2000-4000Hz）。</li></ul><h3 id="3-声调（汉语特有的“音高变化”）：基频的“上下曲线”">3. 声调（汉语特有的“音高变化”）：基频的“上下曲线”</h3><p>汉语的“四声”本质是“基频随时间的变化”，在语谱图上体现为“元音条带的上下移动”：</p><ul><li><strong>一声（阴平，如“妈”）</strong>：条带水平（基频稳定，无明显上下移动）；</li><li><strong>二声（阳平，如“麻”）</strong>：条带从下往上移动（基频逐渐升高）；</li><li><strong>三声（上声，如“马”）</strong>：条带先往下再往上（基频先降后升）；</li><li><strong>四声（去声，如“骂”）</strong>：条带从上往下移动（基频快速降低）；</li><li><strong>关键信息</strong>：通过条带的“垂直轨迹”可直接判断声调，是方言声调研究的核心依据（如粤语9声调的语谱图轨迹差异显著）。</li></ul><h3 id="4-停顿与静音：黑色“空白区域”">4. 停顿与静音：黑色“空白区域”</h3><ul><li><strong>视觉特征</strong>：无任何彩色信号的黑色区域，对应“说话间隙”或“无声段”；</li><li><strong>关键信息</strong>：停顿的“长度”和“位置”可分析语言节奏（如陈述句末尾停顿长，疑问句末尾停顿短）、判断口吃（异常频繁的短停顿）。</li></ul><h2 id="四、彩色语谱图的生成工具：从专业软件到开源库">四、彩色语谱图的生成工具：从专业软件到开源库</h2><p>生成彩色语谱图需经过“语音采集→预处理→傅里叶变换→色彩映射”四步，常用工具分为“专业软件”和“编程库”两类：</p><table><thead><tr><th>工具类型</th><th>代表工具</th><th>特点</th><th>适用场景</th></tr></thead><tbody><tr><td><strong>专业软件</strong></td><td>Praat（语音学标配）</td><td>免费开源，支持实时生成、标注、测量（如点击条带可查频率/强度），操作简单</td><td>语言学研究、教学、病理诊断</td></tr><tr><td></td><td>Adobe Audition</td><td>可视化效果好，支持多轨道语谱图对比（如“正常声vs沙哑声”），需付费</td><td>音乐声学、语音制作</td></tr><tr><td></td><td>Speech Analyzer</td><td>专业病理语音工具，可自动标注异常成分（如声带振动不规则区域）</td><td>医院语音科、康复治疗</td></tr><tr><td><strong>编程库</strong></td><td>Python（Librosa+Matplotlib）</td><td>开源免费，可自定义参数（如频率范围、色彩映射），适合批量处理</td><td>语音识别算法开发、大数据分析</td></tr><tr><td></td><td>MATLAB（Signal Processing Toolbox）</td><td>计算精度高，支持复杂信号处理（如降噪、滤波），需付费</td><td>学术研究、工程开发</td></tr></tbody></table><h2 id="五、彩色语谱图的应用领域：从基础研究到实际场景">五、彩色语谱图的应用领域：从基础研究到实际场景</h2><p>彩色语谱图的核心价值是“将语音的抽象特征具象化”，因此在多个领域有不可替代的作用：</p><h3 id="1-语言学与方言研究">1. 语言学与方言研究</h3><ul><li>核心用途：记录、分析方言的“声调、辅音特征”（如汉语方言中“入声”的高频爆破成分，需通过语谱图确认）；</li><li>案例：研究吴语“尖团音”差异时，通过对比“精（尖音，高频摩擦）”和“经（团音，低频摩擦）”的语谱图，直观区分二者的频率分布。</li></ul><h3 id="2-病理语音诊断">2. 病理语音诊断</h3><ul><li>核心用途：辅助诊断“声带息肉、喉炎、口吃”等疾病——病理语音的语谱图会出现“异常特征”；</li><li>案例：声带息肉患者的元音条带会出现“断裂（能量不稳定）”，口吃患者的语谱图会有“频繁的短黑色停顿段”，医生可通过这些特征判断病情严重程度。</li></ul><h3 id="3-语音识别与人工智能">3. 语音识别与人工智能</h3><ul><li>核心用途：作为语音识别算法的“输入特征”（如将语谱图转化为“梅尔频率倒谱系数（MFCC）”，是AI识别语音的基础）；</li><li>案例：智能音箱（如小爱同学）的识别流程：先将用户语音转化为语谱图，再提取特征并与数据库匹配，最终识别“播放音乐”等指令。</li></ul><h3 id="4-音乐与艺术">4. 音乐与艺术</h3><ul><li>核心用途：分析音乐的“人声、乐器配比”，辅助音乐制作；</li><li>案例：混音师通过语谱图观察“人声（200-3400Hz）”是否被“吉他伴奏（300-5000Hz）”掩盖，若高频区吉他能量过强（红色区域重叠），则降低吉他高频音量。</li></ul><h3 id="5-司法与取证">5. 司法与取证</h3><ul><li>核心用途：处理“模糊录音”（如电话监听录音），通过语谱图增强关键信息；</li><li>案例：警方将模糊录音的语谱图中“低频区（80-300Hz）”放大，识别出嫌疑人说话的基频特征，与数据库比对确认身份。</li></ul><h2 id="六、彩色语谱图与黑白语谱图的核心区别">六、彩色语谱图与黑白语谱图的核心区别</h2><p>很多人会混淆二者，实则差异显著，选择需根据场景判断：</p><table><thead><tr><th>对比维度</th><th>彩色语谱图</th><th>黑白语谱图（灰度语谱图）</th></tr></thead><tbody><tr><td><strong>信息维度</strong></td><td>时间、频率、强度（三维）</td><td>时间、频率（二维，强度靠明暗体现）</td></tr><tr><td><strong>视觉区分度</strong></td><td>高（色彩对比明显，易辨强弱）</td><td>低（明暗梯度小，细微强度差异难区分）</td></tr><tr><td><strong>适用场景</strong></td><td>精细分析（如病理诊断、声调研究）</td><td>简单判断（如有无语音、停顿位置）</td></tr><tr><td><strong>工具依赖</strong></td><td>需支持色彩映射的软件（如Praat）</td><td>基础音频工具（如Windows录音机）</td></tr></tbody></table><h2 id="总结">总结</h2><p>彩色语谱图本质是“语音的视觉翻译器”——它用色彩架起“听觉信号”与“视觉分析”的桥梁，让人类能直接“看见”声音的频率、强度变化。从方言保护到AI语音识别，从医院诊断到司法取证，它的应用早已渗透到与“声音”相关的每一个领域，是现代声学技术中不可或缺的基础工具。</p>]]></content>
    
    
    <categories>
      
      <category>音频处理</category>
      
    </categories>
    
    
    <tags>
      
      <tag>音频处理</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Video Understanding with Large Language Models: A Survey</title>
    <link href="/2025/09/09/Video-Understanding-with-Large-Language-Models-A-Survey/"/>
    <url>/2025/09/09/Video-Understanding-with-Large-Language-Models-A-Survey/</url>
    
    <content type="html"><![CDATA[<h1>《Video Understanding with Large Language Models: A Survey》PDF总结</h1><h2 id="一、研究背景与意义">一、研究背景与意义</h2><ol><li><strong>视频内容增长需求</strong>：在线视频平台快速扩张，监控、娱乐、自动驾驶等领域摄像头普及，视频成为主流媒体形式，每日新增数百万条视频。人工处理此类海量内容耗时费力，亟需高效的视频理解工具自动识别、分析视频内容，降低人力成本。</li><li><strong>LLM的赋能潜力</strong>：大型语言模型（LLMs）在语言及多模态任务中表现出色，将其应用于视频理解（形成Vid-LLMs），可实现开放式多粒度（抽象、时间、时空）推理与常识结合，为视频理解提供新方向。</li></ol><h2 id="二、视频理解方法发展历程">二、视频理解方法发展历程</h2><p>视频理解方法演进分为四个阶段，任务解决能力逐步提升，具体如下：</p><table><thead><tr><th>阶段</th><th>时间范围</th><th>核心技术</th><th>代表方法/模型</th><th>关键特点</th></tr></thead><tbody><tr><td>传统方法</td><td>深度学习普及前</td><td>手工特征提取、传统机器学习算法</td><td>SIFT、SURF、HOG（特征提取）；HMM（时序分析）；SVM、决策树（分类）</td><td>依赖人工设计特征，对复杂视频场景适应性差</td></tr><tr><td>早期神经视频模型</td><td>2014-2019年</td><td>深度学习（CNN、LSTM、3D CNN、Transformer）</td><td>DeepVideo、双流网络、TSN、C3D、I3D、SlowFast、TimeSformer</td><td>引入深度神经网络，开始捕捉运动与时空信息，但需大量任务特定标注数据</td></tr><tr><td>自监督视频预训练</td><td>2019-2023年</td><td>自监督预训练范式</td><td>VideoBERT、ActBERT、VideoMAE、MotionMAE、CLIP-ViP</td><td>通过“预训练-微调”模式，减少对标注数据依赖，提升跨任务泛化能力</td></tr><tr><td>基于LLM的视频理解（Vid-LLMs）</td><td>2023年至今</td><td>LLM与视频处理模块结合</td><td>Video-ChatGPT、Video-LLaMA、GPT4Video、Chat-UniVi</td><td>具备上下文学习、指令跟随能力，可处理多模态复杂交互，接近人类理解水平</td></tr></tbody></table><h2 id="三、基础概念与任务分类">三、基础概念与任务分类</h2><h3 id="（一）视频理解核心任务">（一）视频理解核心任务</h3><p>按理解粒度与语言参与度，任务分为三类：</p><ol><li><strong>抽象理解任务</strong>：侧重整体语义理解，无需精细时空定位<ul><li>视频分类与动作识别：按类别标签分类视频/动作，数据集如UCF-101、Kinetics-400，指标为Top-K准确率。</li><li>文本-视频检索：根据文本描述匹配视频片段，数据集如MSRVTT、DiDeMo，指标为Recall@K。</li><li>视频文本摘要/字幕生成：生成视频 concise 摘要或连贯描述，数据集如VideoInstruct-100K、MSVD，指标为BLEU、METEOR、CIDEr。</li><li>视频问答（VQA）：基于视频回答文本问题，数据集如TVQA、NExT-QA，指标为Top-1/Top-K准确率。</li></ul></li><li><strong>时间理解任务</strong>：关注视频时序维度的事件定位与提取<ul><li>视频摘要/精彩片段检测：浓缩长视频或提取关键片段，数据集如SumMe、TVSum，指标为F1-score。</li><li>时序动作定位/提案生成：识别动作发生的时间区间或生成候选区间，数据集如THUMOS’14、ActivityNet，指标为tIoU、Recall@K。</li><li>视频时序接地：根据文本查询定位视频特定时刻，数据集如Charades-STA，指标为R1@0.5/R1@0.7。</li></ul></li><li><strong>时空理解任务</strong>：结合空间与时间维度的精细理解<ul><li>目标跟踪/重识别：持续追踪目标或跨帧/视角匹配目标，数据集如OTB、Market-1501，指标为精度、成功率。</li><li>视频显著性检测/目标分割：识别视觉重点区域或分割目标，数据集如DHF1K、YouTube-VOS，指标为AUC-J、mAP。</li><li>时空接地：根据查询定位视频中目标的时空位置，数据集如Vid-STG、Ego4D-MQ。</li></ul></li></ol><h3 id="（二）LLM基础背景">（二）LLM基础背景</h3><ol><li><strong>核心公式</strong>：LLM学习文本序列的联合概率分布，通过自回归范式生成下一个token：<ul><li>联合分布：(p(x_{1: L})=\prod_{i=1}^{L} p(x_{i} | x_{1: i-1}))（(L)为序列长度）</li><li>自回归生成：(\mathcal{M}(x_{1: i-1})=p(x_{i} | x_{1: i-1}))（(\mathcal{M})为LLM）</li></ul></li><li><strong>解码策略</strong>：包括贪心解码（选概率最高token）、采样策略（随机选token以保证多样性）。</li><li><strong>关键特性</strong>：<ul><li>缩放定律：模型参数、训练数据量、计算资源扩展时，性能呈规律性增长。</li><li>涌现能力：参数与数据超阈值后，出现上下文学习、链式推理（CoT）、指令跟随等能力。</li><li>多模态扩展：多模态LLM（MLLMs）通过模态编码器、跨模态对齐器与LLM核心结合，处理视觉-语言交互。</li></ul></li></ol><h2 id="四、Vid-LLMs分类与训练策略">四、Vid-LLMs分类与训练策略</h2><h3 id="（一）分类体系">（一）分类体系</h3><p>基于视频输入处理方式，Vid-LLMs分为三类，每类按LLM功能进一步细分：</p><ol><li><strong>Video Analyzer × LLM</strong>：视频分析器将视频转为文本（如字幕、目标跟踪结果），输入LLM<ul><li>LLM作为总结器（Summarizer）：对分析文本总结，信息单向流动，如LaViLa、VLog。</li><li>LLM作为管理器（Manager）：协调调用多个分析器，支持多轮交互，如ViperGPT、HuggingGPT。</li></ul></li><li><strong>Video Embedder × LLM</strong>：视频嵌入器将视频转为向量表示（嵌入），通过适配器映射到LLM语义空间<ul><li>LLM作为文本解码器（Text Decoder）：将嵌入解码为文本（如问答、字幕），如Video-LLaMA、Video-ChatGPT。</li><li>LLM作为回归器（Regressor）：预测连续值（如时间戳、边界框坐标），如VTimeLLM、SeViLA。</li><li>LLM作为隐藏层（Hidden Layer）：连接任务特定头完成回归，不直接输出文本，如GPT4Video、VTG-LLM。</li></ul></li><li><strong>(Analyzer + Embedder) × LLM</strong>：混合使用分析器（文本）与嵌入器（向量），输入LLM，如Vid2Seq、VideoChat，LLM功能可灵活为上述五种类型。</li></ol><h3 id="（二）训练策略">（二）训练策略</h3><ol><li><strong>无训练（Training-free）</strong>：基于LLM的零样本、上下文学习能力，无需微调参数，多为Video Analyzer × LLM类，如SlowFast-LLaVA。</li><li><strong>微调（Fine-tuning）</strong>：主要用于Video Embedder × LLM类，按适配器类型分为四种：<ul><li>全量微调：更新LLM所有参数，性能优但计算成本高，如AV-LLM。</li><li>连接型适配器微调：冻结LLM与嵌入器，仅更新模态对齐适配器（如MLP、Q-former）。</li><li>插入型适配器微调：在LLM内部插入适配器（如LoRA），改变LLM行为，适用于回归任务。</li><li>混合适配器微调：结合连接型与插入型，多阶段微调（先对齐模态，再适配任务）。</li></ul></li></ol><h2 id="五、基准测试与评估方法">五、基准测试与评估方法</h2><h3 id="（一）主要基准数据集">（一）主要基准数据集</h3><p>涵盖不同任务与场景，关键信息如下：</p><table><thead><tr><th>基准名称</th><th>视频数量</th><th>平均时长（秒）</th><th>核心任务</th><th>问题类型</th></tr></thead><tbody><tr><td>MSRVTT-QA</td><td>2990</td><td>15.2</td><td>视频问答</td><td>闭卷/开卷（what/who等）</td></tr><tr><td>TVQA</td><td>2179</td><td>11.2</td><td>视频问答</td><td>闭卷（选择题）</td></tr><tr><td>NExT-QA</td><td>1000</td><td>39.5</td><td>视频问答</td><td>闭卷/开卷（因果、时序）</td></tr><tr><td>MVBench</td><td>3641</td><td>16.0</td><td>多任务理解</td><td>闭卷（分类、定位等）</td></tr><tr><td>ActivityNet Captions</td><td>800</td><td>111.4</td><td>密集视频字幕</td><td>开卷（事件描述）</td></tr><tr><td>Ego4D-MQ</td><td>5063</td><td>180.0</td><td>时空接地</td><td>开卷（第一视角场景）</td></tr></tbody></table><h3 id="（二）评估方法">（二）评估方法</h3><ol><li><strong>闭卷评估</strong>：预定义答案/格式，如选择题（准确率）、结构化输出（CIDEr、ROUGE），适用于基础任务。</li><li><strong>开卷评估</strong>：无预定义选项，用GPT-3.5/4对比预测与参考答案，适用于复杂推理（如MovieChat-1K、NExT-QA），但存在版本依赖、提示敏感性问题。</li><li><strong>其他评估</strong>：<ul><li>时空精细评估：密集字幕（BLEU）、时序接地（tIoU）、目标跟踪（精度）。</li><li>定性评估：错误分析、注意力可视化、模型自解释、人工评估。</li></ul></li></ol><h3 id="（三）性能分析">（三）性能分析</h3><ol><li><strong>关键影响因素</strong>：大参数LLM（如34B的IG-VLM）、强视觉嵌入器（EVA-CLIP、ViT-G）、多帧采样（100+帧）、复杂适配器（Q-former、跨注意力）提升性能。</li><li><strong>代表性结果</strong>：<ul><li>密集字幕任务：Streaming GIT在ActivityNet Captions上CIDEr达41.2，超传统模型。</li><li>开卷VQA：IG-VLM在MSVD-QA、MSRVTT-QA、ActivityNet-QA上准确率分别为76.7%、62.7%、57.3%，居前列。</li></ul></li></ol><h2 id="六、应用场景与未来方向">六、应用场景与未来方向</h2><h3 id="（一）核心应用领域">（一）核心应用领域</h3><ol><li><strong>媒体娱乐</strong>：视频平台搜索推荐、自动字幕生成、视频编辑（如广告剪辑）。</li><li><strong>交互与用户系统</strong>：虚拟教育（智能 tutors）、手语翻译、游戏动态剧情生成、AR/VR叙事。</li><li><strong>医疗与安全</strong>：医疗视频诊断辅助、 surveillance 异常行为检测、自动驾驶路况理解。</li><li><strong>其他</strong>：视频生成模型评估、边缘计算部署、联邦学习隐私保护。</li></ol><h3 id="（二）挑战与未来方向">（二）挑战与未来方向</h3><ol><li><strong>精细粒度理解</strong>：缺乏数据集，帧级分析计算成本高，需提升语义深度（如情感、场景动态）。</li><li><strong>长视频理解</strong>：难以捕捉长时间跨度事件，需优化关键事件检测与注意力机制。</li><li><strong>多模态融合</strong>：视觉、音频、文本的时空对齐难，缺乏高质量多模态数据集。</li><li><strong>幻觉问题</strong>：模型生成与视频无关内容，需优化特征提取、模态对齐，引入后训练校正。</li><li><strong>工业部署</strong>：需通过模型压缩、token合并、模块化设计，平衡效率与性能。</li><li><strong>伦理问题</strong>：隐私泄露（视频敏感信息）、内容滥用（误导性生成）、数据偏见，需加强数据治理与伦理规范。</li></ol><h2 id="七、总结">七、总结</h2><p>该综述系统梳理了Vid-LLMs的发展背景、分类体系、训练策略、评估基准与应用方向，指出其通过LLM赋能，实现了从传统视频理解到多粒度、类人推理的突破。当前Vid-LLMs在抽象与时间理解任务中表现突出，但在长视频、多模态融合、幻觉抑制等方面仍需突破，未来需结合高效训练、数据集扩展与伦理规范，推动其在实际场景中的规模化应用。</p><p>此外，作者提供了GitHub仓库（<a href="https://github.com/yunlong10/Awesome-LLMs-forVideo-Understanding%EF%BC%89%EF%BC%8C%E6%B1%87%E6%80%BBVid-LLMs%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90%EF%BC%8C%E4%BE%BF%E4%BA%8E%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%A0%94%E7%A9%B6%E3%80%82">https://github.com/yunlong10/Awesome-LLMs-forVideo-Understanding），汇总Vid-LLMs相关资源，便于进一步研究。</a></p>]]></content>
    
    
    <categories>
      
      <category>论文阅读</category>
      
    </categories>
    
    
    <tags>
      
      <tag>视频理解</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ViLAMP</title>
    <link href="/2025/09/08/ViLAMP/"/>
    <url>/2025/09/08/ViLAMP/</url>
    
    <content type="html"><![CDATA[<h1>《Scaling Video-Language Models to 10K Frames via Hierarchical Differential Distillation》内容总结</h1><h2 id="一、研究背景与问题">一、研究背景与问题</h2><ol><li><strong>长视频处理的核心挑战</strong>：视觉语言模型（VLMs）在处理长视频时面临巨大计算成本。例如，1分钟24帧的视频会生成超100万视觉令牌（24×60×729），远超主流大语言模型（LLMs）4K-128K的上下文长度限制；而现实中1小时以上的长视频（如长视频分析、机器人持续学习场景）需求普遍，现有模型难以兼顾效率与语义完整性。</li><li><strong>现有方法的局限性</strong><ul><li><strong>令牌剪枝</strong>：通过均匀或内容感知采样（如固定间隔选帧、数据库检索式选帧）减少令牌数量，但易丢失关键时间依赖关系。</li><li><strong>特征合并</strong>：基于启发式（下采样、池化）或可学习机制（Q-Former、Perceiver Resampler）合并特征，常导致语义信息稀释，无法平衡计算效率与信息保留。</li></ul></li></ol><h2 id="二、核心发现：长视频的信息冗余规律">二、核心发现：长视频的信息冗余规律</h2><p>通过对LLaVA-OneVision、LLaVA-Video等代表性VLMs在Video-MME基准上的注意力模式分析，发现两级冗余特征：</p><ol><li><strong>帧级冗余</strong>：约90%的查询注意力集中在仅5%的帧上，且这些高注意力帧间视觉相似度极高（余弦相似度&gt;0.8），远超随机帧对基线（0.54-0.61），存在大量视觉重复。</li><li><strong>补丁级冗余</strong>：非关键帧中，50%的高注意力补丁贡献80%的总注意力，且这些补丁与关键帧对应位置补丁视觉相似度高，存在跨帧重复视觉模式，导致计算资源浪费。</li></ol><h2 id="三、核心方法：差异蒸馏原理与VILAMP模型">三、核心方法：差异蒸馏原理与VILAMP模型</h2><h3 id="（一）差异蒸馏原理（Differential-Distillation）">（一）差异蒸馏原理（Differential Distillation）</h3><p>定义“差异信息显著性分数”，量化视频组件（帧/补丁）的价值，公式如下：<br>[D(v)=R(v,Q)-T(v,\mathcal {C}(v))]</p><ul><li>(R(v,Q))：组件与查询的相关性（如余弦相似度）；</li><li>(T(v,C(v)))：组件与时间上下文（如相邻帧/关键帧）的冗余度；</li><li>分数越高，组件含有的“任务相关且低冗余”信息越多，应分配更多计算资源。</li></ul><h3 id="（二）VILAMP模型架构：分层混合精度处理">（二）VILAMP模型架构：分层混合精度处理</h3><p>VILAMP通过“帧级选关键帧+补丁级压缩非关键帧”实现长视频高效处理，类比“混合精度训练”（Micikevicius et al., 2018），核心包含两大模块：</p><ol><li><p><strong>差异关键帧选择（DKS）</strong>：帧级保留全信息</p><ul><li><strong>目标</strong>：筛选高查询相关性且时间独特性强的帧作为关键帧，避免冗余。</li><li><strong>步骤</strong>：<ol><li>用CLIP编码器将帧与查询编码为d维嵌入，计算帧-查询余弦相似度作为相关性分数(R_f)；</li><li>定义帧与已选关键帧的最大余弦相似度为冗余度(T_f)；</li><li>贪心算法：按(R_f)降序排序帧，选择(T_f&lt;\tau)（实验设(\tau=0.85)）的帧，直至选满K个（实验设K=32），复杂度降至(O(max(NK, NlogN)))。</li></ol></li><li><strong>作用</strong>：关键帧保留完整729个视觉令牌，作为时间关系学习的“锚点”。</li></ul></li><li><p><strong>差异特征合并（DFM）</strong>：补丁级压缩非关键帧</p><ul><li><strong>目标</strong>：将非关键帧压缩为1个令牌，同时保留查询相关特征。</li><li><strong>步骤</strong>：<ol><li>用VLM视觉编码器获取非关键帧补丁与最近关键帧对应补丁的嵌入；</li><li>计算补丁级显著性分数(D_p=R_p-\lambda T_p)（(R_p)为补丁-查询相关性，(T_p)为补丁-关键帧补丁相似度，(\lambda=1)平衡两者）；</li><li>加权池化：基于(softmax(D_p/\alpha))（(\alpha=10^{-2})控制权重锐度）对补丁嵌入加权平均，生成非关键帧的单令牌表示。</li></ol></li><li><strong>作用</strong>：非关键帧令牌数从729降至1，大幅减少计算量，同时保留核心语义。</li></ul></li><li><p><strong>多模态融合与训练</strong></p><ul><li>用双流MLP连接器分别投影关键帧补丁嵌入（(h_k^m=MLP_k(p_k^m))）与非关键帧压缩嵌入（(h_n=MLP_n(t_n))）；</li><li>按时间顺序拼接视觉嵌入与查询，以语言建模损失（预测答案A的概率）端到端训练：<br>[\mathcal{L}=-log P\left(A |\left{h_{k}^{m} | f_{k} \in \mathcal{K}\right} \cup\left{h_{n} | f_{n} \notin \mathcal{K}\right}, Q\right)]</li></ul></li></ol><h2 id="四、实验设计与结果">四、实验设计与结果</h2><h3 id="（一）实验设置">（一）实验设置</h3><ol><li><strong>基准数据集</strong>：覆盖短、中、长视频场景，共5个基准：<table><thead><tr><th>基准名称</th><th>视频平均时长</th><th>核心任务</th><th>数据规模</th></tr></thead><tbody><tr><td>LVBench</td><td>4101s</td><td>超长视频决策</td><td>6大类21子类，含体育、纪录片等</td></tr><tr><td>EgoSchema</td><td>180s</td><td>第一视角视频推理</td><td>5000+问答对，250+小时视频</td></tr><tr><td>LongVideoBench</td><td>473s</td><td>参考推理（对抗单帧偏见）</td><td>3763视频，6678问答对</td></tr><tr><td>MLVU</td><td>651s</td><td>多任务长视频理解（如动作计数）</td><td>2593样本，9任务类别</td></tr><tr><td>Video-MME</td><td>1010s（长子集2386s）</td><td>跨领域视频理解（知识、体育等）</td><td>900视频，2700问答对</td></tr></tbody></table></li><li><strong>基线模型</strong>：分三类对比——专有VLMs（GPT-4V、GPT-4o、Gemini-1.5-Pro）、开源多图像VLMs（LLaVA-OneVision、InternVL2）、开源视频VLMs（LLaMA-VID、VideoChat-Flash）。</li><li><strong>模型配置</strong>：视觉编码器用SigLIP-so400m，语言模型用Qwen2-7B，帧分辨率384×384。</li></ol><h3 id="（二）关键实验结果">（二）关键实验结果</h3><ol><li><p><strong>主基准性能</strong>：在7B参数规模下，VILAMP刷新多基准SOTA：</p><ul><li>MLVU：72.6%准确率，超过专有模型GPT-4o（64.6%）；</li><li>Video-MME长子集：无字幕67.5%、有字幕73.5%，较同规模模型（如VideoChat-Flash）提升3.0%-4.8%；</li><li>EgoSchema：70.2%准确率，高于LongVILA（67.7%）、LongVU（67.6%）。</li></ul></li><li><p><strong>10K帧超长视频处理（VideoNIAH基准）</strong></p><ul><li><strong>基准设计</strong>：构建“干草堆-针”任务，干草堆为2K-10K帧（1FPS，最长2.7小时），针为30-120秒视频片段，需定位并理解针内容回答问题。</li><li><strong>效率优势</strong>：单NVIDIA A100 GPU可处理10K帧，内存消耗较基线低50%，8192帧时FLOPs仅为VideoChat-Flash的18.4%（表5）。</li><li><strong>性能稳定性</strong>：10K帧时准确率58.15%，较VideoChat-Flash（47.25%）高12.82%，且从2K到10K帧的准确率下降幅度仅为后者的1/3（图2）。</li></ul></li><li><p><strong>消融实验</strong>：验证核心模块有效性（表2）</p><ul><li>DKS vs 其他选帧：DKS在MLVU（67.3% vs 查询引导63.7%/均匀采样66.8%）、Video-MME（61.8% vs 55.6%/60.2%）表现更优；</li><li>DFM vs 其他合并：DFM在LongVideoBench（60.5% vs Q-Former53.9%/均值池化56.3%）、MLVU（72.6% vs 62.6%/67.3%）显著领先。</li></ul></li><li><p><strong>关键帧数量影响</strong>：短视频（如Video-MME短子集）16个关键帧性能饱和，长视频（MLVU、Video-MME长子集）需32个关键帧达最优（图6），符合“长视频需更密采样”规律。</p></li><li><p><strong>跨任务泛化</strong>：在视频定位（QVHighlights）和动作识别（ActivityNet、Sth-V2、UCF-101）任务中表现优异：</p><ul><li>QVHighlights：Hit@10=60%、Hit@30=83%，验证DKS选帧有效性；</li><li>动作识别：ActivityNet mAP=78.6%（超Adaframe 71.5%），Sth-V2准确率86.9%（超MGSampler 60.1%），体现零样本迁移能力。</li></ul></li></ol><h2 id="五、结论与贡献">五、结论与贡献</h2><ol><li><p><strong>核心贡献</strong></p><ul><li>提出<strong>差异蒸馏原理</strong>：系统性识别“高相关低冗余”信息，为长视频高效建模提供理论框架；</li><li>设计<strong>VILAMP模型</strong>：通过分层混合精度处理（DKS+DFM），实现10K帧（2.7小时）单GPU处理；</li><li>验证<strong>性能与效率优势</strong>：5个基准SOTA，10K帧时准确率超基线12.82%，内存/FLOPs显著降低。</li></ul></li><li><p><strong>局限与展望</strong>：当前未充分验证在更细粒度时间推理（如毫秒级动作）的表现，未来可探索动态关键帧数量调整与跨模态冗余优化。</p></li><li><p><strong>代码与模型</strong>：开源地址为<a href="https://github.com/steven-ccq/ViLAMP%EF%BC%8C%E6%94%AF%E6%8C%81%E5%A4%8D%E7%8E%B0%E4%B8%8E%E6%89%A9%E5%B1%95%E3%80%82">https://github.com/steven-ccq/ViLAMP，支持复现与扩展。</a></p></li></ol>]]></content>
    
    
    <categories>
      
      <category>论文阅读</category>
      
    </categories>
    
    
    <tags>
      
      <tag>视频理解</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MovieChat</title>
    <link href="/2025/09/03/MovieChat/"/>
    <url>/2025/09/03/MovieChat/</url>
    
    <content type="html"><![CDATA[<h1>MovieChat技术报告与补充材料详细总结</h1><h2 id="一、研究概述">一、研究概述</h2><p>MovieChat是由浙江大学、华盛顿大学等机构联合提出的长视频理解框架，创新性融合视觉模型与大型语言模型（LLMs），首次实现超10K帧长视频的交互式理解。其核心突破在于借鉴Atkinson-Shiffrin记忆模型，设计短期-长期内存机制，解决长视频理解中计算复杂度高、内存成本大、长期时间关联难三大核心挑战。同时，研究团队发布MovieChat-1K基准数据集，填补长视频细粒度标注与标准化评估空白，相关成果以技术报告形式呈现，含完整方案设计、实验验证及补充分析。</p><h2 id="二、研究背景与相关工作">二、研究背景与相关工作</h2><h3 id="1-技术背景">1. 技术背景</h3><ul><li><strong>多模态大语言模型（MLLMs）趋势</strong>：LLMs在自然语言处理领域取得突破后，融合视觉等模态的MLLMs成为通用人工智能（AGI）重要路径，可完成感知（物体识别、位置判断等）、常识推理、代码推理等任务，提供类人交互体验，但现有视频MLLMs仅能处理极少帧视频。</li><li><strong>长视频理解痛点</strong>：现有方法受限于计算与内存资源，无法处理超1分钟长视频，且缺乏针对长视频的标准化评估基准，难以验证模型长期时间关联能力。</li></ul><h3 id="2-相关工作梳理">2. 相关工作梳理</h3><table><thead><tr><th>研究领域</th><th>代表性成果</th><th>局限性</th></tr></thead><tbody><tr><td>多模态大语言模型</td><td>Flamingo（跨模态少样本学习）、BLIP-2（冻结图像编码器与LLM的预训练）、MiniGPT4（单投影层对齐视觉与LLM）、VideoChat（视频基础模型与LLM融合）、VideoLLaMA（基于ImageBind与LLaMA的跨模态训练）</td><td>均无法处理长视频，存在计算复杂、内存成本高、长期时间关联弱问题</td></tr><tr><td>长视频理解</td><td>MIST（通过分段与区域选择提升计算效率）、Kinetics-400衍生数据集（事件边界检测）、MovieQA（电影领域问答）</td><td>模型依赖3D CNN等传统架构，数据集缺乏长视频细粒度标注与多维度评估</td></tr><tr><td>视觉任务内存模型</td><td>MeMOT（多目标跟踪的时空内存）、XMem（长视频目标分割的多独立内存存储）</td><td>未与LLM结合，无法支持长视频的语义级理解与交互</td></tr></tbody></table><h2 id="三、MovieChat核心方案">三、MovieChat核心方案</h2><h3 id="1-整体架构">1. 整体架构</h3><p>MovieChat由四大核心组件构成，架构如图2所示：</p><ul><li><strong>帧级视觉特征提取器</strong>：采用图像预训练模型（EVA-CLIP的ViT-G/14、BLIP-2的Q-Former），避免依赖文本对齐弱的视频基础模型，通过滑动窗口提取帧特征，公式为(B_{n}=\left{x_{i}=\mathcal{V}\left(v_{i}\right) | \forall i=1, ..., C\right})（(B_n)为第n个滑动窗口的视频片段特征，C为窗口帧数量）。</li><li><strong>短期内存（S）</strong>：固定长度FIFO队列缓冲区，存储未处理的帧令牌，容量(K=C×G)（G为滑动次数），满容量时将早期令牌传入内存整合模块，清空后用整合结果重新初始化，实现滑动窗口间信息传递。</li><li><strong>长期内存（L）</strong>：通过内存整合算法（Algorithm 1）合并相似相邻帧，解决“灾难性遗忘”与内存冗余问题。计算相邻帧余弦相似度(s=\frac{1}{N} \sum <em>{j=1}^{N}\left[ cos \left(x</em>{i}^{j},x_{i+1}^{j}\right) \right])（N为令牌数），贪心合并至预设帧数(R_L)，并采用分层分解位置编码将长度扩展至(n^2)，适配长序列需求。</li><li><strong>视频投影层与LLM</strong>：将视频特征（短期/长期内存+当前帧，依推理模式选择）通过Q-Former与线性投影层映射至文本空间，输入LLM（如LLaMA）生成交互回答，公式为(A={\mathcal {O}}(Q,{\mathcal {P}}(V)))（A为回答，Q为问题，P为投影函数）。</li></ul><h3 id="2-推理模式">2. 推理模式</h3><ul><li><strong>全局模式</strong>：仅使用长期内存作为视频表征，适用于整体视频理解（如“视频主要讲述什么内容”）。</li><li><strong>断点模式</strong>：融合短期内存、长期内存与当前帧特征，针对特定时刻理解（如“第4250帧时人物在做什么”），利用事件连续性提升局部场景判断准确性。</li></ul><h3 id="3-内存效率优势">3. 内存效率优势</h3><p>如图1所示，MovieChat每帧VRAM成本仅21.3KB，是Video-LLaMA（187MB/帧）的1/10000，24GB显卡可处理超10K帧视频，而现有方法仅支持100帧左右，在长视频处理的硬件适配性上实现量级突破。</p><h2 id="四、MovieChat-1K基准数据集">四、MovieChat-1K基准数据集</h2><h3 id="1-数据集规模与构成">1. 数据集规模与构成</h3><ul><li><strong>核心数据</strong>：含1K条长视频（源自15类影视内容，如纪录片21.8%、动画电影17.0%、侦探片15.1%）、14K条人工标注问答对，每条视频配套1个全局描述、3个全局模式问答、10个带时间戳的断点模式问答。</li><li><strong>视频特征</strong>：90%视频帧数为10K-12K（对应时长约7-8分钟，按25fps计算），仅8.6%视频帧数少于10K，14.6%超12K，覆盖长视频典型场景。</li><li><strong>问题类型</strong>：开放式问题占75%（以“What”“How”开头，如“How many people are there in the room?”），选择题占25%（以“Do/Is”开头），答案涵盖物体、时间、场景、动作等维度（如图4词云所示）。</li></ul><h3 id="2-数据集特色与对比">2. 数据集特色与对比</h3><table><thead><tr><th>数据集</th><th>平均时长（分钟）</th><th>标注类型</th><th>问答对数量</th><th>优势</th></tr></thead><tbody><tr><td>MovieQA</td><td>3.5</td><td>电影问答</td><td>14.9K</td><td>早期限定电影领域</td></tr><tr><td>MovieGraphs</td><td>0.73</td><td>场景描述</td><td>-</td><td>仅含短片段 caption</td></tr><tr><td>MovieNet</td><td>2.1</td><td>字幕/剧情梗概</td><td>-</td><td>无问答标注，聚焦全片</td></tr><tr><td><strong>MovieChat-1K</strong></td><td><strong>9.4</strong></td><td>全局描述+问答（带时间戳）</td><td><strong>13K</strong></td><td>首部长视频细粒度标注，支持全局/断点双模式评估</td></tr></tbody></table><h2 id="五、实验验证与结果分析">五、实验验证与结果分析</h2><h3 id="1-实验设置">1. 实验设置</h3><ul><li><strong>对比模型</strong>：选取Video Chat、Video LLaMA、Video-ChatGPT等主流视频MLLMs作为基线，评估时根据基线模型帧长限制进行采样（如Video Chat仅支持32帧，对长视频均匀采样至32帧）。</li><li><strong>评估方式</strong>：结合GPT-3.5、Claude大模型辅助评估与人工盲评，对问答准确性（0-100）与生成质量（0-5分，含信息正确性CI、细节导向DO、上下文理解CU、时间理解TU、一致性CO）进行量化，同时通过手动过滤解决LLM评估中“判断与分数矛盾”问题（如“yes”却给0分），提升结果可靠性。</li></ul><h3 id="2-定量评估结果">2. 定量评估结果</h3><h4 id="（1）短视频任务（验证泛化性）">（1）短视频任务（验证泛化性）</h4><table><thead><tr><th>任务/指标</th><th>MovieChat表现</th><th>对比模型优势</th></tr></thead><tbody><tr><td>MSVD-QA（准确率/Score）</td><td>75.2/3.8</td><td>超Video-ChatGPT（64.9/3.3）、Video Chat（56.3/2.8）</td></tr><tr><td>MSRVTT-QA（准确率/Score）</td><td>52.7/2.6</td><td>仅次于Video-ChatGPT（49.3/2.8），非专项优化仍达前列</td></tr><tr><td>ActivityNet-QA（准确率/Score）</td><td>45.7/3.4</td><td>大幅领先所有基线，生成质量CI 2.76、DO 2.93，均为最优</td></tr></tbody></table><h4 id="（2）长视频任务（MovieChat-1K测试集）">（2）长视频任务（MovieChat-1K测试集）</h4><table><thead><tr><th>评估维度</th><th>全局模式（2048帧）</th><th>断点模式（2048帧）</th><th>对比优势</th></tr></thead><tbody><tr><td>准确率/Score</td><td>62.3/3.23</td><td>48.3/2.57</td><td>远超Video Chat（32帧：57.8/3.00）、Video-ChatGPT（100帧：47.6/2.55）</td></tr><tr><td>生成质量（CI/DO/CU/TU/CO）</td><td>3.11/2.93/3.24/3.17/3.25</td><td>2.64/2.60/2.87/2.49/3.08</td><td>所有指标均优于基线，尤其时间理解（TU）稳定性显著</td></tr><tr><td>问题类型适配</td><td>选择题准确率80.9/Score 4.02；开放式准确率57.5/Score 3.74</td><td>选择题准确率62.4/Score 3.65；开放式准确率46.7/2.70</td><td>双类型问题均领先，验证模型鲁棒性</td></tr></tbody></table><h3 id="3-消融实验">3. 消融实验</h3><ul><li><strong>内存机制有效性</strong>：含内存机制的模型在全局模式准确率（67.8 vs 51.4）、生成质量（CI 3.32 vs 3.30）等指标上显著优于无内存版本，证明短期-长期内存设计是长视频理解的关键。</li><li><strong>超参数影响</strong>：<ul><li>内存长度：短期内存18帧、长期内存256帧时性能最优，过短则信息不足，过长则冗余；</li><li>整合长度：合并为2帧时平衡压缩率与信息保留，过短易丢失细节，过长则压缩不足；</li><li>初始化方式：用合并令牌初始化短期内存优于“最后几帧”“均匀采样”，可减少信息断裂。</li></ul></li><li><strong>LLM适配性</strong>：使用LLaMA（64）作为解码器时，全局模式准确率67.8/Score 3.81，略优于LLaMA2（64.2/3.79），因LLaMA2虽能估计时间占比，但与数据集问答匹配度稍低。</li></ul><h3 id="4-定性案例分析">4. 定性案例分析</h3><p>在烹饪教程、《疯狂动物城》《权力的游戏》等场景中，MovieChat表现出优异的长视频理解能力：</p><ul><li><strong>全局场景</strong>：回答“烹饪牛排哪一步耗时最长”时，准确指出“切配食材”（而非基线模型误判的“煎制”），符合视频中切配占比超40%的实际情况。</li><li><strong>断点场景</strong>：针对《疯狂动物城》第3930帧“Chief Bogo在做什么”，精准描述“在暗室桌子前用笔记本电脑通话”，无幻觉信息，而Video-ChatGPT混淆角色动作。</li><li><strong>复杂剧情</strong>：解析《鬼怪》片段时，能串联“公园相遇-街道跟随-阳台对话”等多场景时间线，基线模型易遗漏中间情节。</li></ul><h2 id="六、补充材料关键内容">六、补充材料关键内容</h2><h3 id="1-内存整合算法细节">1. 内存整合算法细节</h3><p>如图A1所示，内存整合分四步：1）构建相邻帧对；2）计算余弦相似度；3）选择相似度最高的帧对合并（加权平均）；4）重复操作至帧数达(R_L)。算法无额外参数，可无缝接入帧级编码器，虽增加少量计算，但内存节省收益远超开销。</p><h3 id="2-数据集补充统计">2. 数据集补充统计</h3><ul><li><strong>视频类别分布</strong>：除主要类别外，犯罪片（3.8%）、科幻片（3.7%）、战争片（3.7%）等小众类别均有覆盖，确保场景多样性（表B1）。</li><li><strong>文本长度</strong>：问题长度多为5-15词，答案多为2-10词，caption平均长度121词，67.8% caption为100-149词，符合自然语言交互习惯（图B3-B5）。</li><li><strong>动作丰富度</strong>：caption含102,988个独特动词，与WebVid10M（109,485个）接近，证明场景动作覆盖全面（图B6）。</li></ul><h3 id="3-评估方法补充">3. 评估方法补充</h3><ul><li><strong>LLM提示模板</strong>：对短视频问答，提示GPT-3.5“聚焦语义匹配，认可同义词/ paraphrase”，输出“yes/no+0-5分”（图C1）；对生成质量，从CI/DO/CU/TU/CO五维度分别打分，确保评估维度一致性。</li><li><strong>人工过滤策略</strong>：对LLM评估结果中“判断与分数矛盾”（如“yes+0分”“no+5分”）的样本手动剔除，提升数据可靠性，该策略使结果波动降低15%。</li><li><strong>相关性验证</strong>：GPT-3.5、Claude与人工盲评的Pearson相关系数均超0.92（Claude与人工达0.978），证明评估方法一致性高（表J9、图J3）。</li></ul><h3 id="4-更多实验结果">4. 更多实验结果</h3><ul><li><strong>分模式生成质量</strong>：断点模式下，MovieChat的CI 2.64、CO 3.08，仍领先Video-ChatGPT（CI 2.62、CO 2.96），验证局部场景理解能力（表I8）；</li><li><strong>单评估方法结果</strong>：仅用GPT-3.5评估时，MovieChat全局模式准确率67.8/Score 3.81，显著高于Video-ChatGPT（44.2/2.71），与综合评估趋势一致（表K10-K18）；</li><li><strong>超参数分析</strong>：短期/长期内存长度增加时，模型性能先升后降，因信息扩展与细节丢失存在平衡，需根据视频复杂度动态调整（图5、Section L）。</li></ul><h2 id="七、研究局限与结论">七、研究局限与结论</h2><h3 id="1-局限性">1. 局限性</h3><ul><li><strong>感知能力受限</strong>：依赖图像预训练模型提取特征，未利用视频专属时序信息（如动作连贯性），复杂动态场景识别精度待提升；</li><li><strong>时间精度不足</strong>：仅能粗略估计事件时长占比（如“切配耗时最长”），无法精确到秒级（如“切配耗时3分20秒”）；</li><li><strong>场景泛化性</strong>：数据集以影视内容为主，对监控视频、医学影像等专业领域长视频的适配性需验证。</li></ul><h3 id="2-结论">2. 结论</h3><p>MovieChat通过创新的短期-长期内存机制，首次实现超10K帧长视频的高效理解，在计算效率、内存成本、任务性能上均达当前最优，同时发布的MovieChat-1K为长视频理解领域提供首个标准化基准。该研究为多模态模型处理长序列数据提供新思路，未来可结合视频专用编码器与更精细的时间建模，进一步提升长视频理解的精度与泛化性。</p>]]></content>
    
    
    <categories>
      
      <category>论文阅读</category>
      
    </categories>
    
    
    <tags>
      
      <tag>论文阅读</tag>
      
      <tag>视频理解</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Sreenplay</title>
    <link href="/2025/09/03/Sreenplay/"/>
    <url>/2025/09/03/Sreenplay/</url>
    
    <content type="html"><![CDATA[<h1>MM-Screenplayer：零样本长视频理解系统（CVPR'2024 LOVEU Track1冠军方案）深度解析</h1><p>本文（arXiv:2406.17309）提出的<strong>MM-Screenplayer</strong>是一款具备多模态感知能力的长视频理解系统，核心目标是解决“长视频问答（LVQA）”任务中“处理时长超5分钟视频”“兼顾全局语义与局部时间定位”的核心难点，最终以零样本方式斩获CVPR'2024 LOVEU Track1挑战赛冠军。以下从研究背景、核心方法、实验验证、结论与价值四方面展开详细解析。</p><h2 id="一、研究背景与任务挑战">一、研究背景与任务挑战</h2><h3 id="1-1-长视频问答（LVQA）任务定义">1.1 长视频问答（LVQA）任务定义</h3><p>LVQA是视频理解领域的进阶任务，要求模型分析<strong>时长超过5分钟的长视频</strong>，并基于两类模式回答问题：</p><ul><li><strong>全局模式</strong>：需理解视频整体叙事（如“电影主角的核心目标是什么？”）；</li><li><strong>断点模式</strong>：需精准定位特定时间戳的细节（如“视频第2分30秒时人物手中物品是什么？”）。<br>该任务的核心挑战在于“全局语义连贯性”与“局部时间定位精度”的双重需求。</li></ul><h3 id="1-2-现有方案的局限性">1.2 现有方案的局限性</h3><p>现有LVQA方法主要分为两类，但均存在明显缺陷：</p><table><thead><tr><th>方案类型</th><th>代表方法</th><th>核心思路</th><th>关键局限</th></tr></thead><tbody><tr><td>端到端训练模型</td><td>MovieChat</td><td>依赖大量标注数据，通过问题驱动构建视频表示</td><td>高质量LVQA标注数据稀缺，模型泛化能力差，全局准确率仅55.1%、断点准确率38.5%</td></tr><tr><td>故事叙述类方法</td><td>MM-Vid、LLoVi</td><td>将视频拆分为单帧/视觉连续“镜头”，生成文本描述后用LLM理解</td><td>忽略镜头间的时间关联，无法捕捉连贯叙事（例：电影中“撞冰山前的多组快速切换镜头”代表单一事件，单独分析会丢失核心信息）</td></tr></tbody></table><h3 id="1-3-基准数据集">1.3 基准数据集</h3><p>实验采用<strong>MovieChat-1K基准</strong>，该数据集包含1000个来自电影、电视剧的高质量长视频片段（时长超5分钟），配套14000条人工标注问答对，是当前LVQA任务的核心定量评估标准。</p><h2 id="二、核心方法：MM-Screenplayer系统架构">二、核心方法：MM-Screenplayer系统架构</h2><p>MM-Screenplayer的核心创新在于“将视频转化为场景级文本剧本”与“回溯（Look Back）机制优化断点问答”，系统整体架构如图1所示，包含三大核心模块，形成“多模态信息提取→场景级剧本生成→精准问答优化”的完整 pipeline。</p><h3 id="2-1-模块1：多模态感知（Multi-Modal-Perception）">2.1 模块1：多模态感知（Multi-Modal Perception）</h3><p>该模块的目标是从视频的“视觉轨道”和“音频轨道”中提取结构化信息，为后续剧本生成提供基础数据支撑，具体流程如下：</p><ul><li><strong>视觉轨道处理</strong>：<ol><li>先通过“镜头检测（Shot Detection）”算法将长视频分割为独立的视觉镜头（如电影中“人物对话镜头”“风景镜头”的区分）；</li><li>对每个镜头按固定时间间隔采样关键帧（平衡信息完整性与效率）；</li><li>采用<strong>GPT-4o（视觉语言模型，VLM）</strong> 为每个采样帧生成详细文本描述（如“画面中男性穿着棕色外套、无眼镜，背景是挂满横幅的漫画书店”），捕捉视觉语义。</li></ol></li><li><strong>音频轨道处理</strong>：<ol><li>用<strong>whisperX（自动语音识别，ASR）</strong> 模型将音频中的对话、旁白等转录为文本，并保留时间戳信息；</li><li>用<strong>Gemini-1.5 Pro（音频事件定位模型）</strong> 检测并索引视频中的关键非语音音频事件（如爆炸声、掌声、背景音乐切换），补充音频维度的语义信息。</li></ol></li><li><strong>输出结果</strong>：结构化的多模态数据集，包含“镜头分割信息、帧文本描述、对话转录文本、音频事件索引”四类核心数据。</li></ul><h3 id="2-2-模块2：场景级剧本生成（Scene-Level-Scripts-Generation）">2.2 模块2：场景级剧本生成（Scene-Level Scripts Generation）</h3><p>这是系统的核心创新点之一，解决了传统“镜头级描述”碎片化的问题。其核心思想是<strong>以“场景”为基本单位（而非单一镜头）</strong>，捕捉视频的连贯叙事逻辑，具体实现步骤如下：</p><ol><li><strong>对话文本预处理</strong>：<ul><li>将whisperX转录的对话按时间顺序排列；</li><li>若两段对话的时间间隔超过2秒（判定为“叙事停顿”），插入“分隔符”标记，引导LLM初步分割文本块（避免将不同场景的对话混为一谈）。</li></ul></li><li><strong>多模态信息融合</strong>：<ul><li>在初步分割的文本块之间，插入对应时间段的“视觉帧描述”和“音频事件标注”，形成“对话+视觉+音频”的多模态文本表示（例：“[22.064-24.055秒] [音频：欢呼声] [视觉：穿超级英雄服装的人群拥抱庆祝] [对话：‘最佳团体服装奖颁给正义联盟！’]”）。</li></ul></li><li><strong>LLM场景重组</strong>：<ul><li>采用<strong>GPT-4-turbo（大语言模型，LLM）</strong> 对融合后的多模态文本进行分析，识别“逻辑边界”（如场景地点变化、核心事件转折）；</li><li>将多个语义关联的镜头合并为一个“场景”，生成结构化剧本（例：将《泰坦尼克号》中“瞭望员发现冰山→船长下令转向→船员慌乱操作”的多个快速镜头合并为“冰山危机预警场景”，并标注场景时间范围与核心内容）。</li></ul></li></ol><h3 id="2-3-模块3：回溯判定（Look-Back-for-Determination）">2.3 模块3：回溯判定（Look Back for Determination）</h3><p>该模块专门针对“断点模式”的精度问题设计，解决“仅靠剧本可能遗漏局部细节”的缺陷，工作流程如下：</p><ol><li><strong>无效回答检测</strong>：<ul><li>当“答案生成器”基于场景级剧本回答断点问题时，若输出为空、含“无法回答”“不知道”等否定关键词，判定为“无效回答”（表明剧本未覆盖足够细节）。</li></ul></li><li><strong>视觉信息补充</strong>：<ul><li>提取问题指定时间戳“前后连续帧”（如“第100秒”问题，提取98-102秒的所有帧），用GPT-4o生成更细粒度的视觉描述（如“人物手指指向画面左侧的红色门，门上有‘出口’标识”）。</li></ul></li><li><strong>答案重新生成</strong>：<ul><li>结合“场景级剧本（全局语义）”与“补充视觉帧描述（局部细节）”，由GPT-4-turbo重新生成答案，确保断点问题的定位精度。</li></ul></li></ol><h2 id="三、实验验证：性能与有效性证明">三、实验验证：性能与有效性证明</h2><p>实验以“CVPR'2024 LOVEU Track1挑战赛测试集”（170个长视频）和“MovieChat-1K数据集”为评估对象，采用“准确率（Accuracy）”和“得分（Score，综合回答完整性与准确性）”为核心指标，验证系统性能。</p><h3 id="3-1-实验设置">3.1 实验设置</h3><ul><li><strong>核心模型选型</strong>：LLM用GPT-4-turbo（剧本生成与问答）、VLM用GPT-4o（帧描述）、ASR用whisperX、音频分析用Gemini-1.5 Pro；</li><li><strong>训练方式</strong>：零样本（No Extra Training），模型参数固定，无需标注数据微调；</li><li><strong>硬件环境</strong>：单块T4 GPU（兼顾效率与实用性，降低部署门槛）。</li></ul><h3 id="3-2-主性能结果（冠军验证）">3.2 主性能结果（冠军验证）</h3><p>MM-Screenplayer在MovieChat-1K数据集上的表现远超现有方法，具体结果如下表所示（加粗为最优）：</p><table><thead><tr><th>评估模式</th><th>准确率（Accuracy）</th><th>得分（Score）</th><th>对比基准（MovieChat）</th></tr></thead><tbody><tr><td>全局模式</td><td><strong>87.5%</strong></td><td><strong>4.18</strong></td><td>55.1% / 2.78</td></tr><tr><td>断点模式</td><td><strong>68.8%</strong></td><td><strong>3.52</strong></td><td>38.5% / 1.87</td></tr></tbody></table><ul><li>关键结论：场景级剧本有效提升了全局语义理解能力（全局准确率提升32.4%），回溯机制显著优化了断点定位精度（断点准确率提升30.3%），最终以绝对优势获挑战赛冠军。</li></ul><h3 id="3-3-消融实验（核心模块有效性）">3.3 消融实验（核心模块有效性）</h3><p>通过“移除关键模块”验证各组件的贡献，结果如下表所示（SSGM=场景级剧本生成模块，LBDM=回溯判定模块）：</p><table><thead><tr><th>SSGM（场景级剧本）</th><th>LBDM（回溯机制）</th><th>全局准确率（G-Acc）</th><th>全局得分（G-Score）</th><th>断点准确率（B-Acc）</th><th>断点得分（B-Score）</th></tr></thead><tbody><tr><td>×</td><td>×</td><td>66.7%</td><td>3.60</td><td>48.5%</td><td>2.51</td></tr><tr><td>√</td><td>×</td><td>85.6%</td><td>4.18</td><td>54.8%</td><td>2.77</td></tr><tr><td>√</td><td>√</td><td>87.5%</td><td>4.18</td><td>68.8%</td><td>3.52</td></tr></tbody></table><ul><li>关键结论：<ol><li>SSGM单独作用时，全局准确率提升18.9%，证明“场景级表示”是全局理解的核心；</li><li>LBDM单独作用时，断点准确率提升14%，验证“回溯机制”对局部细节的补充价值；</li><li>两者结合时性能最优，说明“全局场景+局部回溯”的协同效应。</li></ol></li></ul><h3 id="3-4-定性实验（案例对比）">3.4 定性实验（案例对比）</h3><p>以MovieChat-1K数据集中《楚门的世界》（Truman’s World）的断点问题“船上的男人最终去了哪里？”为例，对比MM-Screenplayer与现有方法的回答质量：</p><ul><li><strong>MM-Screenplayer</strong>：“男人最终穿过一扇门，离开了当前环境”（准确捕捉“场景转折+视觉细节”，符合剧情）；</li><li><strong>LLoVi/MM-Vid</strong>：“视频未提供男人的最终目的地”（无法理解连贯场景，回答无效）；</li><li><strong>MovieChat</strong>：“他最终去了船上”（混淆“工具”与“目的地”，回答错误）。<br>该案例直观证明：场景级剧本确保了全局叙事理解，回溯机制补充了“门”的视觉细节，两者结合实现精准问答。</li></ul><h2 id="四、研究结论与应用价值">四、研究结论与应用价值</h2><h3 id="4-1-核心结论">4.1 核心结论</h3><ol><li><strong>方法创新</strong>：提出“场景级剧本生成”解决长视频碎片化理解问题，“回溯机制”优化断点定位精度，两者结合形成零样本LVQA的有效框架；</li><li><strong>性能领先</strong>：在MovieChat-1K数据集上全局准确率87.5%、断点准确率68.8%，显著超越现有方法，获CVPR'2024 LOVEU Track1冠军；</li><li><strong>实用性强</strong>：无需大量标注数据，基于现有预训练模型（GPT-4系列、whisperX等）构建，单T4 GPU即可运行，降低部署门槛。</li></ol><h3 id="4-2-应用价值">4.2 应用价值</h3><ul><li><strong>影视内容分析</strong>：可自动生成电影、电视剧的结构化剧本，辅助导演复盘叙事逻辑、观众快速理解剧情；</li><li><strong>视频内容检索</strong>：基于剧本的文本化表示，支持“语义级检索”（如“检索包含‘冰山危机场景’的视频片段”），提升长视频检索效率；</li><li><strong>智能视频问答系统</strong>：应用于教育（如“课程视频中第15分钟讲解的公式推导步骤”）、安防（如“监控视频中第30秒出现的异常声音来源”）等领域，提供精准问答支持。</li></ul>]]></content>
    
    
    <categories>
      
      <category>论文阅读</category>
      
    </categories>
    
    
    <tags>
      
      <tag>论文阅读</tag>
      
      <tag>视频理解</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>looongLLaVA</title>
    <link href="/2025/09/03/looongLLaVA/"/>
    <url>/2025/09/03/looongLLaVA/</url>
    
    <content type="html"><![CDATA[<h1>LongLLaVA 论文详细总结</h1><h2 id="一、研究背景与核心挑战">一、研究背景与核心挑战</h2><h3 id="1-1-多模态大语言模型（MLLMs）的发展瓶颈">1.1 多模态大语言模型（MLLMs）的发展瓶颈</h3><p>现有MLLMs在单图像任务上已能媲美闭源模型（如GPT-4V、Gemini-1.5），但在<strong>多图像场景</strong>（长视频理解、高分辨率图像分析、多模态智能体决策）中存在两大核心痛点：</p><ul><li><strong>性能退化</strong>：随着图像数量增加（如视频帧、高分辨率图像子图），模型对时间关联（如视频帧时序逻辑）、语义关联（如多图推理）任务的处理能力显著下降，开源模型与闭源模型差距悬殊。</li><li><strong>计算与内存压力</strong>：以CLIP视觉编码器为例，单张336像素图像生成576个tokens，3分钟1FPS视频需103,680个tokens；Transformer架构计算复杂度随序列长度呈二次增长，KV-Cache存储进一步加剧内存负担，单张80GB GPU（Int8量化）下多数开源模型最多处理384张图像（如图1所示，LongVA-7B、Qwen-VL-7B等均低于384张）。</li></ul><h3 id="1-2-现有解决方案的不足">1.2 现有解决方案的不足</h3><ul><li><strong>性能优化方向</strong>：部分研究通过构建长上下文训练数据（如MileBench）、改进训练策略（如环注意力）缓解性能退化，但未解决计算效率问题。</li><li><strong>效率优化方向</strong>：纯Mamba架构虽将计算复杂度降至线性，却不支持多图像场景下的上下文学习（ICL）；多节点优化（如减少通信成本）仅降低分布式开销，未解决单卡计算压力。</li></ul><h2 id="二、核心解决方案：LongLLaVA-设计体系">二、核心解决方案：LongLLaVA 设计体系</h2><p>LongLLaVA是首个<strong>混合架构MLLM</strong>，通过“多模态架构优化、数据处理协议设计、渐进式训练策略”三维度协同，平衡多图像长上下文场景的效率与效果，核心目标是在单张80GB GPU上高效处理近千张图像。</p><h3 id="2-1-混合多模态架构">2.1 混合多模态架构</h3><p>架构围绕“视觉编码器-投影器-混合LLM”三大组件设计，关键创新在于<strong>视觉token压缩</strong>与<strong>Transformer+Mamba混合LLM</strong>：</p><table><thead><tr><th>组件</th><th>设计细节</th><th>核心作用</th></tr></thead><tbody><tr><td>视觉编码器</td><td>采用CLIP-ViT-Base，引入<strong>双线性2D池化</strong>（2×2 patch聚合）</td><td>将单图像tokens从576压缩至144，保留空间关系，性能损失＜2.2%，优于1D池化（精度提升0.1~1.5%）</td></tr><tr><td>投影器</td><td>两层MLP网络</td><td>将视觉特征映射至LLM文本嵌入空间，确保跨模态语义对齐</td></tr><tr><td>混合LLM</td><td>1. 架构比例：7:1集成Transformer与Mamba层<br>2. 辅助优化：MoE（每两层16个专家，选Top-2）、GQA、SwiGLU激活、省略位置嵌入<br>3. 参数规模：总参数53B，推理时激活参数13B</td><td>1. 兼顾Transformer的ICL能力与Mamba的线性计算复杂度<br>2. 降低内存占用，提升长序列处理吞吐量</td></tr></tbody></table><h3 id="2-2-数据处理协议：区分图像时空依赖">2.2 数据处理协议：区分图像时空依赖</h3><p>针对不同多图像场景，设计特殊标记格式，让模型精准识别时间/空间关联，具体如下：</p><table><thead><tr><th>任务类型</th><th>格式示例</th><th>核心标记功能</th></tr></thead><tbody><tr><td>单图像</td><td><code>&lt;Image&gt;\n What is this?</code>（<code>&lt;Image&gt;</code>=<code>&lt;img&gt;[图像tokens]&lt;/img&gt;</code>）</td><td>用<code>&lt;img&gt;&lt;/img&gt;</code>包裹图像tokens，明确区分图文边界</td></tr><tr><td>多图像（语义关联）</td><td><code>&lt;Image&gt;\n This is a cat. &lt;Image&gt;\n This is a:</code></td><td>连续<code>&lt;Image&gt;</code>标记，处理多图语义推理（如物体关联）</td></tr><tr><td>视频（时间关联）</td><td><code>&lt;vid&gt;&lt;Image&gt;&lt;t&gt;&lt;Image&gt;...&lt;/vid&gt;\n What are they?</code></td><td><code>&lt;vid&gt;&lt;/vid&gt;</code>包裹视频帧，<code>&lt;t&gt;</code>分隔帧时序，体现时间依赖</td></tr><tr><td>高分辨率图像（空间关联）</td><td><code>&lt;Image&gt;\n&lt;Image&gt;\n...&lt;Image&gt;\n What are they?</code></td><td><code>\n</code>分隔子图，按“左上→右下”排列，保留子图空间位置</td></tr></tbody></table><h3 id="2-3-渐进式训练策略：四阶段能力递进">2.3 渐进式训练策略：四阶段能力递进</h3><p>从纯文本到多图像，分阶段适配模型，避免能力退化，确保复用性，各阶段数据与目标如下：</p><ol><li><strong>纯文本指令微调</strong>：用278K条数据（Evol-instruct-GPT4、WildChat、LongAlign）增强模型对长文本指令的遵循能力，仅训练LLM。</li><li><strong>单图像对齐（Stage I）</strong>：600K图像-字幕对（ALLaVA-Caption、ShareGPT4V），仅训练投影器，冻结视觉编码器与LLM，实现视觉-文本特征对齐。</li><li><strong>单图像指令微调（Stage II）</strong>：932K图像-问答对（LLaVA-1.5、Mantis-Single），冻结视觉编码器，训练投影器与LLM，得到“LongLLaVA（单图像）”，具备单图像指令遵循能力。</li><li><strong>多图像指令微调（Stage III）</strong>：<br> - 核心数据：200K（Mantis多图像）+200K（VideoChat2视频）+50K（ShareGPT4Video视频）<br> - 复用数据：200K单图像数据+50K纯文本数据（Replay组件），避免单图像/文本能力退化<br> - 子图数据：50K高分辨率图像分割子图（336×336），增强高分辨率理解<br> - 输出：最终版LongLLaVA</li></ol><h3 id="2-4-训练配置">2.4 训练配置</h3><ul><li><strong>硬件环境</strong>：3个节点，每节点8张A800 GPU，采用DeepSpeed Zero-3分布式策略。</li><li><strong>训练参数</strong>：序列长度40,960（<code>&lt;eos&gt;</code>分隔数据），余弦学习率1e-5，预热率0.03，训练轮次1。</li><li><strong>评估配置</strong>：Int8量化，温度=0，确保结果一致性。</li></ul><h2 id="三、实验结果：性能与效率双突破">三、实验结果：性能与效率双突破</h2><h3 id="3-1-核心性能指标：开源模型领先">3.1 核心性能指标：开源模型领先</h3><h4 id="3-1-1-多图像长上下文能力（MileBench、Video-MME、MVBench）">3.1.1 多图像长上下文能力（MileBench、Video-MME、MVBench）</h4><table><thead><tr><th>模型类型</th><th>代表模型</th><th>MileBench（IR任务）</th><th>Video-MME（无字幕，平均分）</th><th>MVBench</th><th>处理128张图像PFLOPs</th></tr></thead><tbody><tr><td>闭源模型</td><td>GPT-4o</td><td>56.2</td><td>63.1</td><td>64.7</td><td>-</td></tr><tr><td>闭源模型</td><td>Claude3-Opus</td><td>37.4</td><td>57.4</td><td>59.7</td><td>-</td></tr><tr><td>开源模型</td><td>Video-LLaMA2</td><td>-</td><td>45.4</td><td>34.1</td><td>3.71</td></tr><tr><td>开源模型</td><td>LongVILA-7B</td><td>-</td><td>49.7</td><td>-</td><td>3.90</td></tr><tr><td>开源模型</td><td>LongLLaVA（13B）</td><td>52.7（开源第一）</td><td>51.6（开源第一）</td><td>54.6（开源第一）</td><td>0.22（远低于竞品）</td></tr></tbody></table><ul><li><strong>关键结论</strong>：LongLLaVA在MileBench信息检索（IR）任务上超越Claude3-Opus，视频基准（中长视频）优于传统视频模型，且计算量仅为Video-LLaMA2的1/16。</li></ul><h4 id="3-1-2-原子能力诊断（VNBench：检索、排序、计数）">3.1.2 原子能力诊断（VNBench：检索、排序、计数）</h4><p>VNBench是合成视频基准，测试模型长上下文核心能力，LongLLaVA在开源模型中表现碾压，部分指标接近闭源模型：</p><table><thead><tr><th>模型</th><th>检索（E）</th><th>排序（I-1）</th><th>计数（E-1）</th><th>平均分</th></tr></thead><tbody><tr><td>Gemini-1.5</td><td>100.0</td><td>95.3</td><td>60.7</td><td>66.7</td></tr><tr><td>GPT-4o</td><td>100.0</td><td>86.6</td><td>36.8</td><td>64.4</td></tr><tr><td>VideoChat2</td><td>43.4</td><td>0.0</td><td>4.4</td><td>12.4</td></tr><tr><td>LongLLaVA</td><td>100.0</td><td>35.3</td><td>36.0</td><td>52.1（开源第一）</td></tr></tbody></table><h4 id="3-1-3-单图像能力（LongLLaVA（单图像））">3.1.3 单图像能力（LongLLaVA（单图像））</h4><p>在单图像基准（MMMU、SQA I、SEED-Bench）上，LongLLaVA（单图像）优于LLaVA-1.5/1.6，且计算成本更低：</p><table><thead><tr><th>模型</th><th>MMMU</th><th>SQA I</th><th>SEED-Bench</th><th>处理1张图像TFLOPs</th></tr></thead><tbody><tr><td>LLaVA-1.6-13B</td><td>36.2</td><td>73.6</td><td>71.4</td><td>11.86</td></tr><tr><td>LongLLaVA（单图像）</td><td>42.1</td><td>75.9</td><td>68.9</td><td>1.52（仅为LLaVA-1.6的12.8%）</td></tr></tbody></table><ul><li><strong>注意</strong>：多图像训练后，LongLLaVA单图像性能略有下降（如SEED-Bench从68.9降至65.3），需后续优化单图像数据占比。</li></ul><h3 id="3-2-效率优势：单卡处理近千张图像">3.2 效率优势：单卡处理近千张图像</h3><h4 id="3-2-1-单GPU图像处理能力（Int8量化）">3.2.1 单GPU图像处理能力（Int8量化）</h4><table><thead><tr><th>模型</th><th>单张80GB GPU最大处理图像数</th><th>对比优势</th></tr></thead><tbody><tr><td>LongVA-7B</td><td>324</td><td>-</td></tr><tr><td>Qwen-VL-7B</td><td>321</td><td>-</td></tr><tr><td>LLaVA-1.5-7B</td><td>135</td><td>-</td></tr><tr><td>LongLLaVA-13B</td><td>933</td><td>是LongVA-7B的2.9倍，开源模型第一</td></tr></tbody></table><h4 id="3-2-2-架构效率对比（100K-token场景）">3.2.2 架构效率对比（100K token场景）</h4><table><thead><tr><th>架构类型</th><th>代表模型</th><th>激活参数</th><th>ICL能力（VL-ICL 5-shot）</th><th>预填充时间（s）</th><th>吞吐量（tokens/s）</th><th>内存占用（GB）</th></tr></thead><tbody><tr><td>Mamba</td><td>Cobra-3B</td><td>3B</td><td>51.5（弱）</td><td>10.2</td><td>42.7</td><td>29.9</td></tr><tr><td>Transformer</td><td>LLaVA-1.6-13B</td><td>13B</td><td>58.9（强）</td><td>34.0</td><td>14.7</td><td>79.4</td></tr><tr><td>混合架构</td><td>LongLLaVA-13B</td><td>13B</td><td>61.3（强）</td><td>25.5（LLaVA-1.6的75%）</td><td>37.6（LLaVA-1.6的2.5倍）</td><td>79.1</td></tr></tbody></table><h3 id="3-3-消融实验：验证关键设计有效性">3.3 消融实验：验证关键设计有效性</h3><table><thead><tr><th>优化策略</th><th>MMMU</th><th>SQA I</th><th>SEED-Bench</th><th>MileBench平均分</th><th>结论</th></tr></thead><tbody><tr><td>LLaVA-1.5-13B（基线）</td><td>34.4</td><td>71.6</td><td>68.2</td><td>27.6</td><td>-</td></tr><tr><td>+Jamba混合架构</td><td>41.4</td><td>75.4</td><td>69.8</td><td>38.2</td><td>混合架构显著提升长上下文能力</td></tr><tr><td>+1D池化（tokens=144）</td><td>42.0</td><td>73.9</td><td>66.3</td><td>36.2</td><td>1D池化压缩token但损失精度</td></tr><tr><td>+2D池化（tokens=144）</td><td>42.1</td><td>75.2</td><td>67.4</td><td>37.7</td><td>2D池化优于1D，保留空间信息</td></tr><tr><td>+单图像数据</td><td>42.1</td><td>75.9</td><td>68.9</td><td>50.0</td><td>单图像数据提升基础视觉能力</td></tr><tr><td>+多图像数据</td><td>39.2</td><td>73.4</td><td>65.3</td><td>57.4</td><td>多图像数据进一步强化长上下文</td></tr></tbody></table><h3 id="3-4-图像数量缩放规律">3.4 图像数量缩放规律</h3><ul><li><strong>高分辨率子图</strong>：子图数量从48（336×336）增至97（224×224）时，V*Bench性能从45.2升至73.0；但增至163（168×168）时，性能降至67.1，说明过多子图会干扰局部细节理解。</li><li><strong>视频帧</strong>：Video-MME性能随帧数量增加持续提升，256帧时达峰值60.9，证明模型能有效利用多帧时序信息。</li></ul><h3 id="3-5-1000图像检索测试（V-NIAH）">3.5 1000图像检索测试（V-NIAH）</h3><p>将图像tokens从144压缩至36后，LongLLaVA在单张80GB GPU上处理1000张图像时，检索准确率接近100%；超过1000张后准确率下降，需后续将训练序列长度扩展至140K tokens。</p><h2 id="四、研究贡献与未来方向">四、研究贡献与未来方向</h2><h3 id="4-1-核心贡献">4.1 核心贡献</h3><ol><li><strong>架构创新</strong>：提出首个Transformer+Mamba混合架构MLLM，平衡ICL能力与线性计算复杂度，解决长上下文效率问题。</li><li><strong>数据与训练</strong>：设计区分时空依赖的数据协议与渐进式训练策略，实现多图像能力平滑提升，避免单模态能力退化。</li><li><strong>开源价值</strong>：开源模型、代码与数据集（<a href="https://github.com/FreedomIntelligence/LongLLaVA%EF%BC%89%EF%BC%8C%E4%B8%BA%E9%95%BF%E4%B8%8A%E4%B8%8B%E6%96%87MLLM%E7%A0%94%E7%A9%B6%E6%8F%90%E4%BE%9B%E5%9F%BA%E5%87%86%E3%80%82">https://github.com/FreedomIntelligence/LongLLaVA），为长上下文MLLM研究提供基准。</a></li><li><strong>应用突破</strong>：单张80GB GPU处理933张图像，支持长视频分析（医疗3D视频异常检测）、高分辨率图像理解（病理切片）、多模态智能体（老年辅助）等场景。</li></ol><h3 id="4-2-未来方向">4.2 未来方向</h3><ol><li><strong>扩展序列长度</strong>：将训练序列长度从40K提升至140K tokens，支持超1000张图像处理。</li><li><strong>优化单图像性能</strong>：在多图像训练阶段增加单图像数据占比，缓解多图像训练导致的单图像能力退化。</li><li><strong>多模态扩展</strong>：融合音频、文本等更多模态，提升复杂场景（如视频对话）的理解能力。</li></ol><h2 id="五、关键数据速览（LongLLaVA-13B-vs-开源竞品）">五、关键数据速览（LongLLaVA-13B vs 开源竞品）</h2><table><thead><tr><th>指标</th><th>LongLLaVA-13B</th><th>主流开源模型（Video-LLaMA2、LongVILA-7B等）</th></tr></thead><tbody><tr><td>单80GB GPU最大图像数（Int8）</td><td>933张</td><td>324~384张</td></tr><tr><td>处理128张图像PFLOPs</td><td>0.22</td><td>0.24~3.90</td></tr><tr><td>1000张图像检索准确率（V-NIAH）</td><td>近100%</td><td>未达此水平</td></tr><tr><td>视觉token压缩比</td><td>576→144（75%压缩）</td><td>无或低压缩比（如576→576）</td></tr><tr><td>VNBench平均分</td><td>52.1</td><td>4.5~12.4</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>论文阅读</category>
      
    </categories>
    
    
    <tags>
      
      <tag>视频理解</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Video-XL-2</title>
    <link href="/2025/09/01/Video-XL-2/"/>
    <url>/2025/09/01/Video-XL-2/</url>
    
    <content type="html"><![CDATA[<h1>Video-XL-2：面向超长视频理解的任务感知KV稀疏化模型</h1><h2 id="一、研究背景与挑战">一、研究背景与挑战</h2><p>近年来，多模态大型语言模型（MLLMs）在视频理解领域取得显著进展，但处理长视频输入时仍面临核心挑战：长视频包含大量帧，经视觉编码后生成海量视觉令牌，导致模型内存占用和计算成本极高，现有模型难以在长视频理解中兼顾高性能与高效率。传统令牌缩减方法虽能缓解部分压力，却无法解决输入令牌数量增加带来的计算量二次增长问题，还可能造成关键信息丢失。</p><h2 id="二、模型核心设计">二、模型核心设计</h2><h3 id="（一）整体架构">（一）整体架构</h3><p>Video-XL-2由四大核心组件构成，形成端到端的长视频处理 pipeline：</p><ol><li><strong>视觉编码器</strong>：采用SigLIP模型，将单张图像或视频帧编码为密集视觉特征。</li><li><strong>动态令牌合成（DTS）模块</strong>：结合时空注意力块与3D卷积层，以4个连续帧为一组处理视觉特征，压缩时空冗余的同时捕捉动态运动模式，该设计继承自Video-XL-Pro并优化。</li><li><strong>MLP投影器</strong>：两层结构，将DTS输出的压缩特征投影到大型语言模型（LLM）的嵌入空间，实现跨模态对齐。</li><li><strong>大型语言模型（LLM）</strong>：采用Qwen2.5-7B模型，处理多模态输入并完成理解任务。</li></ol><p>此外，模型通过在视觉令牌序列中插入时间戳令牌增强时间感知能力，且将单图像重复4次以对齐视频模态输入格式。</p><h3 id="（二）视觉输入处理策略">（二）视觉输入处理策略</h3><ol><li><strong>帧采样策略</strong>：先以1 FPS采样原始视频，若采样帧数低于预设上限，则在不超过最大采样率的前提下提高采样率，确保尽可能覆盖关键帧。</li><li><strong>时间信息注入</strong>：每4个连续帧组前添加显式时间戳令牌（如“Time: 4.0 Second”），同时在DTS模块中为每组帧融入隐式软时间嵌入，提供细粒度时间线索。</li></ol><h3 id="（三）增量训练策略">（三）增量训练策略</h3><p>分四阶段逐步构建模型的视觉理解能力，各阶段目标、训练模块与数据如下表所示：</p><table><thead><tr><th>阶段</th><th>目标</th><th>训练模块</th><th>训练数据</th></tr></thead><tbody><tr><td>Stage 1</td><td>初始化DTS模块权重</td><td>DTS模块</td><td>25万图像-字幕对、75万短视频-字幕对</td></tr><tr><td>Stage 2</td><td>初始化MLP投影器权重</td><td>MLP投影器</td><td>200万图像-字幕对、40万短视频-字幕对</td></tr><tr><td>Stage 3</td><td>构建视觉理解基础</td><td>全参数</td><td>500万图像-字幕对、270万短视频-字幕对</td></tr><tr><td>Stage 4</td><td>支持多样化视觉任务</td><td>全参数</td><td>300万图像指令数据、250万视频指令数据</td></tr></tbody></table><h2 id="三、效率优化核心创新">三、效率优化核心创新</h2><p>针对LLM推理的预填充和解码两阶段，提出任务感知KV稀疏化策略，大幅降低资源消耗：</p><h3 id="（一）基于块的预填充（Chunk-based-Pre-filling）">（一）基于块的预填充（Chunk-based Pre-filling）</h3><ol><li><strong>核心思路</strong>：将视觉令牌序列划分为等长块，块内计算全注意力，块间通过两种方式建立关联以平衡效率与信息完整性：<ul><li>允许当前块关注前序块的历史时间戳令牌，获取粗粒度历史信息，且内存开销低；</li><li>采用滑动块窗口（设固定步长），使当前块可关注前序块的重叠部分，获取细粒度视觉信息。</li></ul></li><li><strong>效果</strong>：将预填充阶段计算复杂度从令牌长度的二次方降至近似线性，显著减少内存占用与计算时间。</li></ol><h3 id="（二）双层KV解码（Bi-level-KVs-Decoding）">（二）双层KV解码（Bi-level KVs Decoding）</h3><ol><li><strong>KV层级构建</strong>：预填充阶段生成的原始KV为“密集KV”，对每个块的密集KV进行池化操作得到“稀疏KV”，形成“密集-稀疏”双层KV表示，且与视频输入块一一对应，存储于离线内存。</li><li><strong>任务感知选择</strong>：输入文本查询后，通过多模态嵌入器、注意力评分等方式计算各视频块与查询的相关性得分，高相关块加载密集KV以保留细粒度信息，低相关块加载稀疏KV以提供全局背景，最终拼接为“混合KV集”。</li><li><strong>效果</strong>：解码阶段KV缓存占用减少38.8%（平均），同时弥补了块预填充可能带来的性能损失。</li></ol><h2 id="四、实验结果与性能优势">四、实验结果与性能优势</h2><h3 id="（一）基准测试表现">（一）基准测试表现</h3><p>在多个长视频理解与时间定位基准测试中，Video-XL-2（8B参数）展现出开源轻量模型中的顶尖性能：</p><ul><li><strong>MLVU基准</strong>：开发集准确率74.8%，超过GPT-4o（64.6%）及同规模模型（如VideoChat-Flash-8B的74.6%），测试集准确率52.2%，领先开源轻量模型；</li><li><strong>VideoMME基准</strong>：无字幕设置下准确率66.6%，高于InternVL2.5-8B（64.2%）、Qwen-2.5-VL-8B（65.1%）；</li><li><strong>LongVideoBench/LVBench</strong>：分别取得第二、第一的排名，在超长视频理解任务中优势显著；</li><li><strong>时间定位任务</strong>：Charades-STA基准准确率28.6%，V-STaR基准准确率21.3%，体现强时间感知能力。</li></ul><h3 id="（二）效率优势">（二）效率优势</h3><ol><li><strong>计算量</strong>：平均计算量（FLOPs）仅142.0G，为同规模模型中最低（如VideoChat-Flash-8B为142.8G，LLaVA-Video-8B为1.4×10³G）；</li><li><strong>内存占用</strong>：单张80GB NVIDIA A100 GPU可处理10000帧，24GB GPU可处理数千帧，远超Video-XL的2048帧上限；</li><li><strong>推理速度</strong>：预填充时间随输入帧数近似线性增长，支持高效处理超长视频。</li></ol><h3 id="（三）“大海捞针”测试">（三）“大海捞针”测试</h3><p>在1小时以上长视频（取自VideoMME）的关键信息检索任务中，Video-XL-2可处理10000帧并精准捕捉关键信息，而Video-XL仅能处理2048帧，验证了其超长视频处理能力。</p><h2 id="五、结论与未来方向">五、结论与未来方向</h2><p>Video-XL-2通过“动态令牌合成+增量训练”构建强视觉理解能力，以“块预填充+双层KV解码”实现高效推理，在长视频理解任务中兼顾性能与效率，成为实用的超长视频处理方案。未来将进一步扩展模型对更长视频的处理能力，并探索其在更多场景的应用。</p>]]></content>
    
    
    <categories>
      
      <category>论文阅读</category>
      
    </categories>
    
    
    <tags>
      
      <tag>论文阅读</tag>
      
      <tag>视频理解</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我的第一篇技术博客</title>
    <link href="/2025/08/31/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    <url>/2025/08/31/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<h1>欢迎来到我的技术世界！🚀</h1><p>大家好！我是 <strong>YuDong Wang</strong>，欢迎来到我的技术博客。在这里，我将分享：</p><h2 id="📝-博客内容">📝 博客内容</h2><h3 id="🛠️-技术分享">🛠️ 技术分享</h3><ul><li><strong>前端开发</strong>：JavaScript、React、Vue.js 等现代前端技术</li><li><strong>后端开发</strong>：Node.js、Python、数据库设计等</li><li><strong>工具使用</strong>：Git、Docker、CI/CD 等开发工具</li></ul><h3 id="💡-项目经验">💡 项目经验</h3><ul><li>实际项目中遇到的问题和解决方案</li><li>代码优化和性能提升经验</li><li>架构设计思考</li></ul><h3 id="🎯-学习笔记">🎯 学习笔记</h3><ul><li>新技术学习心得</li><li>读书笔记和总结</li><li>技术趋势分析</li></ul><h2 id="🎨-博客特色">🎨 博客特色</h2><p>这个博客使用 <strong>Hexo + Fluid</strong> 主题构建，具有以下特点：</p><p><img src="https://source.unsplash.com/800x400/?website,design" alt="博客界面预览"></p><ul><li>✨ 现代化设计</li><li>🌙 支持暗色模式</li><li>🔍 全站搜索功能</li><li>📱 响应式布局</li><li>🚀 快速加载</li></ul><h2 id="💻-开发环境">💻 开发环境</h2><p>我的主要开发环境和工具：</p><p><img src="https://source.unsplash.com/800x400/?developer,workspace" alt="开发环境"></p><ul><li><strong>编辑器</strong>: VS Code</li><li><strong>版本控制</strong>: Git &amp; GitHub</li><li><strong>终端</strong>: Windows Terminal</li><li><strong>浏览器</strong>: Chrome DevTools</li></ul><h2 id="📞-联系方式">📞 联系方式</h2><ul><li><strong>GitHub</strong>: <a href="https://github.com/hellowydwyd">hellowydwyd</a></li><li><strong>邮箱</strong>: <a href="mailto:hellowydwyd@163.com">hellowydwyd@163.com</a></li></ul><hr><p>感谢你的阅读！如果你有任何问题或建议，欢迎通过上述方式联系我。</p><blockquote><p>持续学习，持续分享，让我们一起成长！💪</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>技术分享</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>博客</tag>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
